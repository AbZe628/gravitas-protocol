# <p align="center">Gravitas Protocol</p>

<p align="center">
  <strong>Institutional-Grade Shariah-Compliant Liquidity Infrastructure</strong>
</p>

<p align="center">
  <a href="https://abze628.github.io/gravitas-protocol/" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/badge/Live%20Frontend-Launch%20App-blue.svg?style=for-the-badge" alt="Live Frontend"></a>
</p>

<p align="center">
  <a href="https://github.com/AbZe628/gravitas-protocol/actions/workflows/ci.yml"><img src="https://github.com/AbZe628/gravitas-protocol/actions/workflows/ci.yml/badge.svg" alt="CI"></a>
  <a href="https://github.com/AbZe628/gravitas-protocol/actions/workflows/deploy-frontend.yml"><img src="https://github.com/AbZe628/gravitas-protocol/actions/workflows/deploy-frontend.yml/badge.svg" alt="Deploy Frontend"></a>
  <a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT"></a>
  <a href="https://soliditylang.org/"><img src="https://img.shields.io/badge/Solidity-0.8.24-blue.svg" alt="Solidity"></a>
  <a href="./proof-of-quality/INTERNAL_REVIEW.md"><img src="https://img.shields.io/badge/Audit-Internal%20Passed-blueviolet.svg" alt="Audit: Internal Passed"></a>
</p>

---

**Gravitas Protocol** is a deep-tech infrastructure layer designed to solve liquidity fragmentation in Decentralized Finance (DeFi). We provide deterministic routing and atomic liquidity migration, enabling capital to move efficiently across DEX ecosystems without friction, high costs, or technical opacity. 

Built from the ground up with **Shariah compliance** as a core governance principle, Gravitas is positioned as the primary gateway for the **$3 Trillion+ Islamic Finance market** to enter the Web3 ecosystem.

| Quick Links | Description |
|---|---|
| üåê **[Live Frontend](https://abze628.github.io/gravitas-protocol/)** | Explore the dashboard, analytics, and migration tools. |
| üìÑ **[Whitepaper](https://abze628.github.io/gravitas-protocol/whitepaper)** | Read the full technical and business specification. |
| üìö **[Documentation](https://abze628.github.io/gravitas-protocol/docs)** | Full protocol documentation and integration guides. |
| üíª **[SDK Reference](https://abze628.github.io/gravitas-protocol/sdk)** | Integrate with the Gravitas TypeScript SDK. |

---

## ‚õìÔ∏è Verified Smart Contracts (Arbitrum Sepolia)

The protocol is live and verified on the Arbitrum Sepolia testnet.

| Contract | Address | Explorer |
|---|---|---|
| **GravitasPolicyRegistry** | `0xbcaE3069362B0f0b80f44139052f159456C84679` | [View on Arbiscan](https://sepolia.arbiscan.io/address/0xbcaE3069362B0f0b80f44139052f159456C84679) |
| **TeleportV3** | `0x5D423f8d01539B92D3f3953b91682D9884D1E993` | [View on Arbiscan](https://sepolia.arbiscan.io/address/0x5D423f8d01539B92D3f3953b91682D9884D1E993) |

---

## The Problem: Liquidity Fragmentation

Currently, liquidity in DeFi is siloed. Moving capital from one protocol to another is expensive, risky, and manual‚Äîmaking institutional adoption nearly impossible.

| Challenge | Impact on Institutions |
|---|---|
| **Expensive** | Multiple approvals and gas fees result in **0.5‚Äì2% value loss** per migration cycle. |
| **Risky** | Exposure to **slippage and MEV bots** during multi-step migrations. |
| **Manual** | Lack of secure automation prevents **liquidity management at scale**. |

## The Solution: Deterministic Liquidity Routing

Gravitas acts as the middleware layer enabling "Deterministic Liquidity Routing." Users or institutions define an intent, and Gravitas executes the migration **atomically with guaranteed outcomes**.

![Gravitas Protocol Architecture](./docs/architecture.png)

### Core Components

| Component | Description |
|---|---|
| **GravitasPolicyRegistry** | **Risk & Compliance Oracle.** Validates assets, routers, and executors against Shariah parameters before every transaction. | 
| **TeleportV3** | **V3 Migration Engine.** EIP-712 signed migrations for Uniswap V3 NFT positions with Yul-optimized gas savings. |
| **TeleportV2** | **V2 Migration Engine.** Atomic migrations for Uniswap V2 LP positions with cooldown and slippage protection. |
| **Gravitas SDK** | **TypeScript SDK.** A Stripe-like developer experience for institutional integrations. |

---

## Shariah Compliance by Design

Gravitas Protocol treats Shariah compliance as a **technical requirement**, not a marketing label. The `GravitasPolicyRegistry` contract programmatically enforces the core principles of Islamic Finance.

| Principle | Implementation |
|---|---|
| **No Riba (Interest)** | Revenue model based exclusively on service fees (0.05-0.1%), not interest. |
| **No Gharar (Uncertainty)** | Deterministic routing and simulation APIs provide exact outcomes before execution. |
| **No Maysir (Gambling)** | Protocol-level filtering of speculative and gambling-related tokens. |
| **Asset Halal Verification** | On-chain whitelist of Shariah-compliant tokens maintained by governance. |

### Certification Roadmap

| Phase | Status | Description |
|---|---|---|
| **Phase 1: Self-Regulation** | ‚úÖ **Completed** | Internal AAOIFI standards adherence; `GravitasPolicyRegistry` is live. |
| **Phase 2: Advisory Board** | üìã **Planned (Q3 2026)** | Engagement with recognized Shariah scholars for formal advisory. |
| **Phase 3: Formal Certification** | üìã **Planned (2027)** | Obtain a formal Shariah Seal for GCC market integration. |

---

## Development & CI/CD

This project is a monorepo managed with `pnpm` workspaces.

- `apps/web`: The React frontend application.
- `packages/contracts`: Solidity smart contracts.
- `packages/sdk`: TypeScript SDK.

### Continuous Integration & Deployment

Two primary GitHub Actions workflows ensure code quality and deployment:

1.  **`ci.yml`**: Triggered on pushes to `main`. Runs Foundry tests for all smart contracts to ensure correctness and security.
2.  **`deploy-frontend.yml`**: Triggered on pushes to `apps/web`. Builds the React application and deploys it to GitHub Pages.

---

## Quick Start

### Prerequisites

- [Foundry](https://getfoundry.sh/) (for smart contracts)
- [Node.js 22+](https://nodejs.org/) & [pnpm 10+](https://pnpm.io/)

### Run Frontend Locally

```bash
# Clone the repository
git clone https://github.com/AbZe628/gravitas-protocol.git
cd gravitas-protocol

# Install dependencies for the entire monorepo
pnpm install

# Run the frontend application
pnpm --filter web dev
```

### Run Contract Tests

```bash
# Build contracts
pnpm --filter contracts build

# Run tests
pnpm --filter contracts test
```

---

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

---
<p align="center">
  Built by <strong>Gravitas Protocol</strong>
</p>
