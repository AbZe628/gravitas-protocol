import{g as l0,r as ue,a as $a}from"./vendor-motion-DIEF-jm7.js";import{r as h0,u as p0,a as Nn}from"./vendor-query-B27Zn0Yi.js";const pt=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"addr",type:"address"}],name:"getEthBalance",outputs:[{name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],Rs=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],Sa=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],Ba=[...Sa,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],b0=[...Sa,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],Ai=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],$i=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Ca=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],sr=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],m0=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}];function Ee(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new qa(e.type);return`${e.name}(${Sr(e.inputs,{includeName:t})})`}function Sr(e,{includeName:t=!1}={}){return e?e.map(n=>y0(n,{includeName:t})).join(t?", ":","):""}function y0(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Sr(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function pe(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function q(e){return pe(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const Ta="2.46.3";let ts={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${Ta}`},S=class Fs extends Error{constructor(t,n={}){const r=n.cause instanceof Fs?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof Fs&&n.cause.docsPath||n.docsPath,o=ts.getDocsUrl?.({...n,docsPath:s}),i=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...r?[`Details: ${r}`]:[],...ts.version?[`Version: ${ts.version}`]:[]].join(`
`);super(i,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=Ta}walk(t){return Oa(this,t)}};function Oa(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?Oa(e.cause,t):t?null:e}class ka extends S{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class Ms extends S{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class bo extends S{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Sr(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class pn extends S{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class Na extends S{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class Ra extends S{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${q(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class Fa extends S{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class Ma extends S{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class _s extends S{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class mo extends S{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://4byte.sourcify.dev/?q=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class _a extends S{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class za extends S{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://4byte.sourcify.dev/?q=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class zs extends S{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class bt extends S{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class yo extends S{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class ja extends S{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://4byte.sourcify.dev/?q=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class g0 extends S{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${Ee(t.abiItem)}\`, and`,`\`${n.type}\` in \`${Ee(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let La=class extends S{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class Pn extends S{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Sr(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class Br extends S{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Ee(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class Ua extends S{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class Da extends S{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let go=class extends S{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class qa extends S{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}let De=class extends S{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},wo=class extends S{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},vo=class extends S{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class Si extends S{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`,{name:"InvalidBytesLengthError"})}}function It(e,{dir:t,size:n=32}={}){return typeof e=="string"?ze(e,{dir:t,size:n}):Ga(e,{dir:t,size:n})}function ze(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new vo({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function Ga(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new vo({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const o=t==="right";r[o?s:n-s-1]=e[o?s:e.length-s-1]}return r}let Cr=class extends S{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number "${o}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},Ha=class extends S{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class Va extends S{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let Wa=class extends S{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}};function je(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function ye(e,{size:t}){if(q(e)>t)throw new Wa({givenSize:q(e),maxSize:t})}function Pe(e,t={}){const{signed:n}=t;t.size&&ye(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<BigInt(s)*8n-1n)-1n;return r<=o?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function Za(e,t={}){let n=e;if(t.size&&(ye(n,{size:t.size}),n=je(n)),je(n)==="0x00")return!1;if(je(n)==="0x01")return!0;throw new Va(n)}function Te(e,t={}){const n=Pe(e,t),r=Number(n);if(!Number.isSafeInteger(r))throw new Cr({max:`${Number.MAX_SAFE_INTEGER}`,min:`${Number.MIN_SAFE_INTEGER}`,signed:t.signed,size:t.size,value:`${n}n`});return r}function Ka(e,t={}){let n=be(e);return t.size&&(ye(n,{size:t.size}),n=je(n,{dir:"right"})),new TextDecoder().decode(n)}const w0=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function qe(e,t={}){return typeof e=="number"||typeof e=="bigint"?_(e,t):typeof e=="string"?Ht(e,t):typeof e=="boolean"?xo(e,t):H(e,t)}function xo(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(ye(n,{size:t.size}),It(n,{size:t.size})):n}function H(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=w0[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(ye(r,{size:t.size}),It(r,{dir:"right",size:t.size})):r}function _(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const c=typeof e=="bigint"?"n":"";throw new Cr({max:o?`${o}${c}`:void 0,min:`${i}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?It(a,{size:r}):a}const v0=new TextEncoder;function Ht(e,t={}){const n=v0.encode(e);return H(n,t)}const x0=new TextEncoder;function At(e,t={}){return typeof e=="number"||typeof e=="bigint"?Ja(e,t):typeof e=="boolean"?Ya(e,t):pe(e)?be(e,t):tt(e,t)}function Ya(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(ye(n,{size:t.size}),It(n,{size:t.size})):n}const Oe={zero:48,nine:57,A:65,F:70,a:97,f:102};function Bi(e){if(e>=Oe.zero&&e<=Oe.nine)return e-Oe.zero;if(e>=Oe.A&&e<=Oe.F)return e-(Oe.A-10);if(e>=Oe.a&&e<=Oe.f)return e-(Oe.a-10)}function be(e,t={}){let n=e;t.size&&(ye(n,{size:t.size}),n=It(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,o=new Uint8Array(s);for(let i=0,a=0;i<s;i++){const c=Bi(r.charCodeAt(a++)),u=Bi(r.charCodeAt(a++));if(c===void 0||u===void 0)throw new S(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);o[i]=c*16+u}return o}function Ja(e,t){const n=_(e,t);return be(n)}function tt(e,t={}){const n=x0.encode(e);return typeof t.size=="number"?(ye(n,{size:t.size}),It(n,{dir:"right",size:t.size})):n}const Vn=BigInt(2**32-1),Ci=BigInt(32);function E0(e,t=!1){return t?{h:Number(e&Vn),l:Number(e>>Ci&Vn)}:{h:Number(e>>Ci&Vn)|0,l:Number(e&Vn)|0}}function P0(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let o=0;o<n;o++){const{h:i,l:a}=E0(e[o],t);[r[o],s[o]]=[i,a]}return[r,s]}const I0=(e,t,n)=>e<<n|t>>>32-n,A0=(e,t,n)=>t<<n|e>>>32-n,$0=(e,t,n)=>t<<n-32|e>>>64-n,S0=(e,t,n)=>e<<n-32|t>>>64-n,Rt=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function B0(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function In(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function mt(e,...t){if(!B0(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function C0(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");In(e.outputLen),In(e.blockLen)}function Vt(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Xa(e,t){mt(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function T0(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Wt(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function ns(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Se(e,t){return e<<32-t|e>>>t}const O0=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function k0(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function N0(e){for(let t=0;t<e.length;t++)e[t]=k0(e[t]);return e}const Ti=O0?e=>e:N0;function R0(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Tr(e){return typeof e=="string"&&(e=R0(e)),mt(e),e}function F0(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];mt(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}class Eo{}function Qa(e){const t=r=>e().update(Tr(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function M0(e=32){if(Rt&&typeof Rt.getRandomValues=="function")return Rt.getRandomValues(new Uint8Array(e));if(Rt&&typeof Rt.randomBytes=="function")return Uint8Array.from(Rt.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const _0=BigInt(0),xn=BigInt(1),z0=BigInt(2),j0=BigInt(7),L0=BigInt(256),U0=BigInt(113),ec=[],tc=[],nc=[];for(let e=0,t=xn,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],ec.push(2*(5*r+n)),tc.push((e+1)*(e+2)/2%64);let s=_0;for(let o=0;o<7;o++)t=(t<<xn^(t>>j0)*U0)%L0,t&z0&&(s^=xn<<(xn<<BigInt(o))-xn);nc.push(s)}const rc=P0(nc,!0),D0=rc[0],q0=rc[1],Oi=(e,t,n)=>n>32?$0(e,t,n):I0(e,t,n),ki=(e,t,n)=>n>32?S0(e,t,n):A0(e,t,n);function G0(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const a=(i+8)%10,c=(i+2)%10,u=n[c],f=n[c+1],d=Oi(u,f,1)^n[a],l=ki(u,f,1)^n[a+1];for(let h=0;h<50;h+=10)e[i+h]^=d,e[i+h+1]^=l}let s=e[2],o=e[3];for(let i=0;i<24;i++){const a=tc[i],c=Oi(s,o,a),u=ki(s,o,a),f=ec[i];s=e[f],o=e[f+1],e[f]=c,e[f+1]=u}for(let i=0;i<50;i+=10){for(let a=0;a<10;a++)n[a]=e[i+a];for(let a=0;a<10;a++)e[i+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=D0[r],e[1]^=q0[r]}Wt(n)}class Po extends Eo{constructor(t,n,r,s=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=o,In(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=T0(this.state)}clone(){return this._cloneInto()}keccak(){Ti(this.state32),G0(this.state32,this.rounds),Ti(this.state32),this.posOut=0,this.pos=0}update(t){Vt(this),t=Tr(t),mt(t);const{blockLen:n,state:r}=this,s=t.length;for(let o=0;o<s;){const i=Math.min(n-this.pos,s-o);for(let a=0;a<i;a++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){Vt(this,!1),mt(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,o=t.length;s<o;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,o-s);t.set(n.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return In(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Xa(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Wt(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:o,enableXOF:i}=this;return t||(t=new Po(n,r,s,i,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}}const H0=(e,t,n)=>Qa(()=>new Po(t,e,n)),sc=H0(1,136,256/8);function W(e,t){const n=t||"hex",r=sc(pe(e,{strict:!1})?At(e):e);return n==="bytes"?r:qe(r)}let Rn=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const V0=/^0x[a-fA-F0-9]{40}$/,rs=new Rn(8192);function fe(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(rs.has(r))return rs.get(r);const s=V0.test(e)?e.toLowerCase()===e?!0:n?Fn(e)===e:!0:!1;return rs.set(r,s),s}const ss=new Rn(8192);function Fn(e,t){if(ss.has(`${e}.${t}`))return ss.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=W(tt(n),"bytes"),s=n.split("");for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&s[i]&&(s[i]=s[i].toUpperCase()),(r[i>>1]&15)>=8&&s[i+1]&&(s[i+1]=s[i+1].toUpperCase());const o=`0x${s.join("")}`;return ss.set(`${e}.${t}`,o),o}function _e(e,t){if(!fe(e,{strict:!1}))throw new De({address:e});return Fn(e,t)}let Ni=class extends S{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},oc=class extends S{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},W0=class extends S{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}};const Z0={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new W0({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new oc({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Ni({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Ni({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Io(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Z0);return n.bytes=e,n.dataView=new DataView(e.buffer??e,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function rt(e,t,n,{strict:r}={}){return pe(e,{strict:!1})?cc(e,t,n,{strict:r}):Ao(e,t,n,{strict:r})}function ic(e,t){if(typeof t=="number"&&t>0&&t>q(e)-1)throw new wo({offset:t,position:"start",size:q(e)})}function ac(e,t,n){if(typeof t=="number"&&typeof n=="number"&&q(e)!==n-t)throw new wo({offset:n,position:"end",size:q(e)})}function Ao(e,t,n,{strict:r}={}){ic(e,t);const s=e.slice(t,n);return r&&ac(s,t,n),s}function cc(e,t,n,{strict:r}={}){ic(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&ac(s,t,n),s}function uc(e,t={}){typeof t.size<"u"&&ye(e,{size:t.size});const n=H(e,t);return Pe(n,t)}function fc(e,t={}){let n=e;if(typeof t.size<"u"&&(ye(n,{size:t.size}),n=je(n)),n.length>1||n[0]>1)throw new Ha(n);return!!n[0]}function Be(e,t={}){typeof t.size<"u"&&ye(e,{size:t.size});const n=H(e,t);return Te(n,t)}function dc(e,t={}){let n=e;return typeof t.size<"u"&&(ye(n,{size:t.size}),n=je(n,{dir:"right"})),new TextDecoder().decode(n)}function oe(e){return typeof e[0]=="string"?$t(e):lc(e)}function lc(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function $t(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}const K0=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,hc=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Ve(e,t){if(e.length!==t.length)throw new Fa({expectedLength:e.length,givenLength:t.length});const n=Y0({params:e,values:t}),r=So(n);return r.length===0?"0x":r}function Y0({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push($o({param:e[r],value:t[r]}));return n}function $o({param:e,value:t}){const n=Bo(e.type);if(n){const[r,s]=n;return X0(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return rd(t,{param:e});if(e.type==="address")return J0(t);if(e.type==="bool")return ed(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,s="256"]=hc.exec(e.type)??[];return td(t,{signed:r,size:Number(s)})}if(e.type.startsWith("bytes"))return Q0(t,{param:e});if(e.type==="string")return nd(t);throw new Ua(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function So(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=q(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(_(t+s,{size:32})),r.push(a),s+=q(a)):n.push(a)}return oe([...n,...r])}function J0(e){if(!fe(e))throw new De({address:e});return{dynamic:!1,encoded:ze(e.toLowerCase())}}function X0(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new go(e);if(!r&&e.length!==t)throw new Na({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const o=[];for(let i=0;i<e.length;i++){const a=$o({param:n,value:e[i]});a.dynamic&&(s=!0),o.push(a)}if(r||s){const i=So(o);if(r){const a=_(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?oe([a,i]):a}}if(s)return{dynamic:!0,encoded:i}}return{dynamic:!1,encoded:oe(o.map(({encoded:i})=>i))}}function Q0(e,{param:t}){const[,n]=t.type.split("bytes"),r=q(e);if(!n){let s=e;return r%32!==0&&(s=ze(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:oe([ze(_(r,{size:32})),s])}}if(r!==Number.parseInt(n,10))throw new Ra({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:ze(e,{dir:"right"})}}function ed(e){if(typeof e!="boolean")throw new S(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:ze(xo(e))}}function td(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new Cr({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:_(e,{size:32,signed:t})}}function nd(e){const t=Ht(e),n=Math.ceil(q(t)/32),r=[];for(let s=0;s<n;s++)r.push(ze(rt(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:oe([ze(_(q(t),{size:32})),...r])}}function rd(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const o=t.components[s],i=Array.isArray(e)?s:o.name,a=$o({param:o,value:e[i]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?So(r):oe(r.map(({encoded:s})=>s))}}function Bo(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function bn(e,t){const n=typeof t=="string"?be(t):t,r=Io(n);if(q(n)===0&&e.length>0)throw new pn;if(q(t)&&q(t)<32)throw new bo({data:typeof t=="string"?t:H(t),params:e,size:q(t)});let s=0;const o=[];for(let i=0;i<e.length;++i){const a=e[i];r.setPosition(s);const[c,u]=Ut(r,a,{staticPosition:0});s+=u,o.push(c)}return o}function Ut(e,t,{staticPosition:n}){const r=Bo(t.type);if(r){const[s,o]=r;return od(e,{...t,type:o},{length:s,staticPosition:n})}if(t.type==="tuple")return ud(e,t,{staticPosition:n});if(t.type==="address")return sd(e);if(t.type==="bool")return id(e);if(t.type.startsWith("bytes"))return ad(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return cd(e,t);if(t.type==="string")return fd(e,{staticPosition:n});throw new Da(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const Ri=32,js=32;function sd(e){const t=e.readBytes(32);return[Fn(H(Ao(t,-20))),32]}function od(e,t,{length:n,staticPosition:r}){if(!n){const i=Be(e.readBytes(js)),a=r+i,c=a+Ri;e.setPosition(a);const u=Be(e.readBytes(Ri)),f=An(t);let d=0;const l=[];for(let h=0;h<u;++h){e.setPosition(c+(f?h*32:d));const[m,p]=Ut(e,t,{staticPosition:c});d+=p,l.push(m)}return e.setPosition(r+32),[l,32]}if(An(t)){const i=Be(e.readBytes(js)),a=r+i,c=[];for(let u=0;u<n;++u){e.setPosition(a+u*32);const[f]=Ut(e,t,{staticPosition:a});c.push(f)}return e.setPosition(r+32),[c,32]}let s=0;const o=[];for(let i=0;i<n;++i){const[a,c]=Ut(e,t,{staticPosition:r+s});s+=c,o.push(a)}return[o,s]}function id(e){return[fc(e.readBytes(32),{size:32}),32]}function ad(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=Be(e.readBytes(32));e.setPosition(n+i);const a=Be(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[H(c),32]}return[H(e.readBytes(Number.parseInt(s,10),32)),32]}function cd(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?uc(s,{signed:n}):Be(s,{signed:n}),32]}function ud(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:i})=>!i),s=r?[]:{};let o=0;if(An(t)){const i=Be(e.readBytes(js)),a=n+i;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(a+o);const[f,d]=Ut(e,u,{staticPosition:a});o+=d,s[r?c:u?.name]=f}return e.setPosition(n+32),[s,32]}for(let i=0;i<t.components.length;++i){const a=t.components[i],[c,u]=Ut(e,a,{staticPosition:n});s[r?i:a?.name]=c,o+=u}return[s,o]}function fd(e,{staticPosition:t}){const n=Be(e.readBytes(32)),r=t+n;e.setPosition(r);const s=Be(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=dc(je(o));return e.setPosition(t+32),[i,32]}function An(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(An);const n=Bo(e.type);return!!(n&&An({...e,type:n[1]}))}const dd=e=>W(At(e));function ld(e){return dd(e)}const hd="1.2.3";let ie=class Ls extends Error{constructor(t,n={}){const r=n.cause instanceof Ls?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof Ls&&n.cause.docsPath||n.docsPath,o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${hd}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function We(e,t){return e.exec(t)?.groups}const pc=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,bc=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,mc=/^\(.+?\).*?$/,Fi=/^tuple(?<array>(\[(\d*)\])*)$/;function Us(e){let t=e.type;if(Fi.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const o=e.components[s];t+=Us(o),s<n-1&&(t+=", ")}const r=We(Fi,e.type);return t+=`)${r?.array||""}`,Us({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function _t(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=Us(s),r!==n-1&&(t+=", ")}return t}function or(e){return e.type==="function"?`function ${e.name}(${_t(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${_t(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${_t(e.inputs)})`:e.type==="error"?`error ${e.name}(${_t(e.inputs)})`:e.type==="constructor"?`constructor(${_t(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const yc=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function pd(e){return yc.test(e)}function bd(e){return We(yc,e)}const gc=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function md(e){return gc.test(e)}function yd(e){return We(gc,e)}const wc=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function gd(e){return wc.test(e)}function wd(e){return We(wc,e)}const vc=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Or(e){return vc.test(e)}function vd(e){return We(vc,e)}const xc=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function xd(e){return xc.test(e)}function Ed(e){return We(xc,e)}const Ec=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Pd(e){return Ec.test(e)}function Id(e){return We(Ec,e)}const Ad=/^receive\(\) external payable$/;function $d(e){return Ad.test(e)}const Mi=new Set(["memory","indexed","storage","calldata"]),Sd=new Set(["indexed"]),Ds=new Set(["calldata","memory","storage"]);class Pc extends ie{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class Ic extends ie{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Bd extends ie{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Ac extends ie{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class $c extends ie{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Sc extends ie{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Bc extends ie{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Cc extends ie{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Tc extends ie{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class St extends ie{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Oc extends ie{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class kc extends ie{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Nc extends ie{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Rc extends ie{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Cd(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let o="";for(const i of s[1])o+=`[${i.type}${i.name?`:${i.name}`:""}]`;r+=`(${s[0]}{${o}})`}return t?`${t}:${e}${r}`:`${e}${r}`}const os=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function qs(e,t={}){if(gd(e))return Td(e,t);if(md(e))return Od(e,t);if(pd(e))return kd(e,t);if(xd(e))return Nd(e,t);if(Pd(e))return Rd(e);if($d(e))return{type:"receive",stateMutability:"payable"};throw new Oc({signature:e})}function Td(e,t={}){const n=wd(e);if(!n)throw new St({signature:e,type:"function"});const r=ce(n.parameters),s=[],o=r.length;for(let a=0;a<o;a++)s.push(Ge(r[a],{modifiers:Ds,structs:t,type:"function"}));const i=[];if(n.returns){const a=ce(n.returns),c=a.length;for(let u=0;u<c;u++)i.push(Ge(a[u],{modifiers:Ds,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:i}}function Od(e,t={}){const n=yd(e);if(!n)throw new St({signature:e,type:"event"});const r=ce(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Ge(r[i],{modifiers:Sd,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function kd(e,t={}){const n=bd(e);if(!n)throw new St({signature:e,type:"error"});const r=ce(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Ge(r[i],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function Nd(e,t={}){const n=Ed(e);if(!n)throw new St({signature:e,type:"constructor"});const r=ce(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Ge(r[i],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function Rd(e){const t=Id(e);if(!t)throw new St({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const Fd=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Md=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,_d=/^u?int$/;function Ge(e,t){const n=Cd(e,t?.type,t?.structs);if(os.has(n))return os.get(n);const r=mc.test(e),s=We(r?Md:Fd,e);if(!s)throw new $c({param:e});if(s.name&&jd(s.name))throw new Sc({param:e,name:s.name});const o=s.name?{name:s.name}:{},i=s.modifier==="indexed"?{indexed:!0}:{},a=t?.structs??{};let c,u={};if(r){c="tuple";const d=ce(s.type),l=[],h=d.length;for(let m=0;m<h;m++)l.push(Ge(d[m],{structs:a}));u={components:l}}else if(s.type in a)c="tuple",u={components:a[s.type]};else if(_d.test(s.type))c=`${s.type}256`;else if(s.type==="address payable")c="address";else if(c=s.type,t?.type!=="struct"&&!Fc(c))throw new Bd({type:c});if(s.modifier){if(!t?.modifiers?.has?.(s.modifier))throw new Bc({param:e,type:t?.type,modifier:s.modifier});if(Ds.has(s.modifier)&&!Ld(c,!!s.array))throw new Cc({param:e,type:t?.type,modifier:s.modifier})}const f={type:`${c}${s.array??""}`,...o,...i,...u};return os.set(n,f),f}function ce(e,t=[],n="",r=0){const s=e.trim().length;for(let o=0;o<s;o++){const i=e[o],a=e.slice(o+1);switch(i){case",":return r===0?ce(a,[...t,n.trim()]):ce(a,t,`${n}${i}`,r);case"(":return ce(a,t,`${n}${i}`,r+1);case")":return ce(a,t,`${n}${i}`,r-1);default:return ce(a,t,`${n}${i}`,r)}}if(n==="")return t;if(r!==0)throw new Rc({current:n,depth:r});return t.push(n.trim()),t}function Fc(e){return e==="address"||e==="bool"||e==="function"||e==="string"||pc.test(e)||bc.test(e)}const zd=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function jd(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||pc.test(e)||bc.test(e)||zd.test(e)}function Ld(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function Co(e){const t={},n=e.length;for(let i=0;i<n;i++){const a=e[i];if(!Or(a))continue;const c=vd(a);if(!c)throw new St({signature:a,type:"struct"});const u=c.properties.split(";"),f=[],d=u.length;for(let l=0;l<d;l++){const m=u[l].trim();if(!m)continue;const p=Ge(m,{type:"struct"});f.push(p)}if(!f.length)throw new kc({signature:a});t[c.name]=f}const r={},s=Object.entries(t),o=s.length;for(let i=0;i<o;i++){const[a,c]=s[i];r[a]=Mc(c,t)}return r}const Ud=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Mc(e=[],t={},n=new Set){const r=[],s=e.length;for(let o=0;o<s;o++){const i=e[o];if(mc.test(i.type))r.push(i);else{const c=We(Ud,i.type);if(!c?.type)throw new Tc({abiParameter:i});const{array:u,type:f}=c;if(f in t){if(n.has(f))throw new Nc({type:f});r.push({...i,type:`tuple${u??""}`,components:Mc(t[f],t,new Set([...n,f]))})}else if(Fc(f))r.push(i);else throw new Ic({type:f})}}return r}function To(e){const t=Co(e),n=[],r=e.length;for(let s=0;s<r;s++){const o=e[s];Or(o)||n.push(qs(o,t))}return n}function Gs(e){let t;if(typeof e=="string")t=qs(e);else{const n=Co(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(!Or(o)){t=qs(o,n);break}}}if(!t)throw new Pc({signature:e});return t}function Hs(e){const t=[];if(typeof e=="string"){const n=ce(e),r=n.length;for(let s=0;s<r;s++)t.push(Ge(n[s],{modifiers:Mi}))}else{const n=Co(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(Or(o))continue;const i=ce(o),a=i.length;for(let c=0;c<a;c++)t.push(Ge(i[c],{modifiers:Mi,structs:n}))}}if(t.length===0)throw new Ac({params:e});return t}function Dd(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new S("Unable to normalize signature.");return s}const En=e=>{const t=typeof e=="string"?e:or(e);return Dd(t)};function ir(e){return ld(En(e))}const Zt=ir,yt=e=>rt(ir(e),0,4);function ct(e){const{abi:t,args:n=[],name:r}=e,s=pe(r,{strict:!1}),o=t.filter(a=>s?a.type==="function"?yt(a)===r:a.type==="event"?Zt(a)===r:!1:"name"in a&&a.name===r);if(o.length===0)return;if(o.length===1)return o[0];let i;for(const a of o){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((u,f)=>{const d="inputs"in a&&a.inputs[f];return d?Vs(u,d):!1})){if(i&&"inputs"in i&&i.inputs){const u=_c(a.inputs,i.inputs,n);if(u)throw new g0({abiItem:a,type:u[0]},{abiItem:i,type:u[1]})}i=a}}return i||o[0]}function Vs(e,t){const n=typeof e,r=t.type;switch(r){case"address":return fe(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>n==="object"&&Vs(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Vs(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function _c(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return _c(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?fe(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?fe(n[r],{strict:!1}):!1)return i}}const is="/docs/contract/decodeFunctionResult";function Ze(e){const{abi:t,args:n,functionName:r,data:s}=e;let o=t[0];if(r){const a=ct({abi:t,args:n,name:r});if(!a)throw new bt(r,{docsPath:is});o=a}if(o.type!=="function")throw new bt(void 0,{docsPath:is});if(!o.outputs)throw new yo(o.name,{docsPath:is});const i=bn(o.outputs,s);if(i&&i.length>1)return i;if(i&&i.length===1)return i[0]}const _i="/docs/contract/encodeFunctionData";function zc(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const o=ct({abi:t,args:n,name:r});if(!o)throw new bt(r,{docsPath:_i});s=o}if(s.type!=="function")throw new bt(void 0,{docsPath:_i});return{abi:[s],functionName:yt(Ee(s))}}function ae(e){const{args:t}=e,{abi:n,functionName:r}=e.abi.length===1&&e.functionName?.startsWith("0x")?e:zc(e),s=n[0],o=r,i="inputs"in s&&s.inputs?Ve(s.inputs,t??[]):void 0;return $t([o,i??"0x"])}class ar extends S{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class jc extends S{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id}  ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id}  ${t.name}`],name:"ChainMismatchError"})}}class Lc extends S{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class Oo extends S{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}function Bt({blockNumber:e,chain:t,contract:n}){const r=t?.contracts?.[n];if(!r)throw new ar({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new ar({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function K(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const qd={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Uc={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Gd={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function ko(e){const{abi:t,data:n}=e,r=rt(n,0,4);if(r==="0x")throw new pn;const o=[...t||[],Uc,Gd].find(i=>i.type==="error"&&r===yt(Ee(i)));if(!o)throw new mo(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?bn(o.inputs,rt(n,4)):void 0,errorName:o.name}}const G=(e,t,n)=>JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString():s,n);function Dc({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,o)=>`${r&&s.name?`${s.name}: `:""}${typeof t[o]=="object"?G(t[o]):t[o]}`).join(", ")})`}const qc={gwei:9,wei:18},Gc={ether:-9,wei:9};function No(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,o]=[n.slice(0,n.length-t),n.slice(n.length-t)];return o=o.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${o?`.${o}`:""}`}function kr(e,t="wei"){return No(e,qc[t])}function X(e,t="wei"){return No(e,Gc[t])}class Hc extends S{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class Vc extends S{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function zi(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function Hd(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=zi(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=zi(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Mn(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class Wc extends S{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Mn(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class Zc extends S{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){const h=Mn({chain:s&&`${s?.name} (id: ${s?.id})`,from:n?.address,to:d,value:typeof l<"u"&&`${kr(l)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${X(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${X(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${X(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Ro extends S{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){let i="Transaction";r&&o!==void 0&&(i=`Transaction at block time "${r}" at index "${o}"`),t&&o!==void 0&&(i=`Transaction at block hash "${t}" at index "${o}"`),n&&o!==void 0&&(i=`Transaction at block number "${n}" at index "${o}"`),s&&(i=`Transaction with hash "${s}"`),super(`${i} could not be found.`,{name:"TransactionNotFoundError"})}}class Fo extends S{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class Vd extends S{constructor({receipt:t}){super(`Transaction with hash "${t.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=t}}class Kc extends S{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const Wd=e=>e,_n=e=>e;class Mo extends S{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l,stateOverride:h}){const m=n?K(n):void 0;let p=Mn({from:m?.address,to:d,value:typeof l<"u"&&`${kr(l)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${X(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${X(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${X(u)} gwei`,nonce:f});h&&(p+=`
${Hd(h)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",p].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class _o extends S{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:o,functionName:i,sender:a}){const c=ct({abi:n,args:r,name:i}),u=c?Dc({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,f=c?Ee(c,{includeName:!0}):void 0,d=Mn({address:s&&Wd(s),function:f,args:u&&u!=="()"&&`${[...Array(i?.length??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:t,docsPath:o,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=i,this.sender=a}}class cr extends S{constructor({abi:t,data:n,functionName:r,message:s}){let o,i,a,c;if(n&&n!=="0x")try{i=ko({abi:t,data:n});const{abiItem:f,errorName:d,args:l}=i;if(d==="Error")c=l[0];else if(d==="Panic"){const[h]=l;c=qd[h]}else{const h=f?Ee(f,{includeName:!0}):void 0,m=f&&l?Dc({abiItem:f,args:l,includeFunctionName:!1,includeName:!1}):void 0;a=[h?`Error: ${h}`:"",m&&m!=="()"?`       ${[...Array(d?.length??0).keys()].map(()=>" ").join("")}${m}`:""]}}catch(f){o=f}else s&&(c=s);let u;o instanceof mo&&(u=o.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://4byte.sourcify.dev/?q=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:o,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=i,this.raw=n,this.reason=c,this.signature=u}}class Yc extends S{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class Jc extends S{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class zn extends S{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}function zo(e){if(!(e instanceof S))return!1;const t=e.walk(n=>n instanceof cr);return t instanceof cr?t.data?.errorName==="HttpError"||t.data?.errorName==="ResolverError"||t.data?.errorName==="ResolverNotContract"||t.data?.errorName==="ResolverNotFound"||t.data?.errorName==="ReverseAddressMismatch"||t.data?.errorName==="UnsupportedResolverProfile":!1}function Xc(e){const{abi:t,data:n}=e,r=rt(n,0,4),s=t.find(o=>o.type==="function"&&r===yt(Ee(o)));if(!s)throw new ja(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?bn(s.inputs,rt(n,4)):void 0}}const as="/docs/contract/encodeErrorResult";function Ws(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const c=ct({abi:t,args:r,name:n});if(!c)throw new _s(n,{docsPath:as});s=c}if(s.type!=="error")throw new _s(void 0,{docsPath:as});const o=Ee(s),i=yt(o);let a="0x";if(r&&r.length>0){if(!s.inputs)throw new Ma(s.name,{docsPath:as});a=Ve(s.inputs,r)}return $t([i,a])}const cs="/docs/contract/encodeFunctionResult";function Qc(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const i=ct({abi:t,name:n});if(!i)throw new bt(n,{docsPath:cs});s=i}if(s.type!=="function")throw new bt(void 0,{docsPath:cs});if(!s.outputs)throw new yo(s.name,{docsPath:cs});const o=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new go(r)})();return Ve(s.outputs,o)}const jn="x-batch-gateway:true";async function eu(e){const{data:t,ccipRequest:n}=e,{args:[r]}=Xc({abi:Rs,data:t}),s=[],o=[];return await Promise.all(r.map(async(i,a)=>{try{o[a]=i.urls.includes(jn)?await eu({data:i.data,ccipRequest:n}):await n(i),s[a]=!1}catch(c){s[a]=!0,o[a]=Zd(c)}})),Qc({abi:Rs,functionName:"query",result:[s,o]})}function Zd(e){return e.name==="HttpRequestError"&&e.status?Ws({abi:Rs,errorName:"HttpError",args:[e.status,e.shortMessage]}):Ws({abi:[Uc],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function tu(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return pe(t)?t:null}function ur(e){let t=new Uint8Array(32).fill(0);if(!e)return H(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=tu(n[r]),o=s?At(s):W(tt(n[r]),"bytes");t=W(oe([t,o]),"bytes")}return H(t)}function Kd(e){return`[${e.slice(2)}]`}function nu(e){const t=new Uint8Array(32).fill(0);return e?tu(e)||W(tt(e)):H(t)}function jo(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(tt(t).byteLength+2);let r=0;const s=t.split(".");for(let o=0;o<s.length;o++){let i=tt(s[o]);i.byteLength>255&&(i=tt(Kd(nu(s[o])))),n[r]=i.length,n.set(i,r+1),r+=i.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}function M(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}class nt extends S{constructor({body:t,cause:n,details:r,headers:s,status:o,url:i}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[o&&`Status: ${o}`,`URL: ${_n(i)}`,t&&`Request body: ${G(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=s,this.status=o,this.url=i}}class Nr extends S{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${_n(r)}`,`Request body: ${G(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data,this.url=r}}class Zs extends S{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${_n(n)}`,`Request body: ${G(t)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=n}}const Yd=-1;class ee extends S{constructor(t,{code:n,docsPath:r,metaMessages:s,name:o,shortMessage:i}){super(i,{cause:t,docsPath:r,metaMessages:s||t?.metaMessages,name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||t.name,this.code=t instanceof Nr?t.code:n??Yd}}class te extends ee{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Kt extends ee{constructor(t){super(t,{code:Kt.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Kt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Yt extends ee{constructor(t){super(t,{code:Yt.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Yt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Jt extends ee{constructor(t,{method:n}={}){super(t,{code:Jt.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Jt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Xt extends ee{constructor(t){super(t,{code:Xt.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Xt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class st extends ee{constructor(t){super(t,{code:st.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(st,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class He extends ee{constructor(t){super(t,{code:He.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(He,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Qt extends ee{constructor(t){super(t,{code:Qt.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Qt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Le extends ee{constructor(t){super(t,{code:Le.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Le,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class gt extends ee{constructor(t){super(t,{code:gt.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(gt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Qe extends ee{constructor(t,{method:n}={}){super(t,{code:Qe.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(Qe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class wt extends ee{constructor(t){super(t,{code:wt.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(wt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class en extends ee{constructor(t){super(t,{code:en.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(en,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Z extends te{constructor(t){super(t,{code:Z.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Z,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class tn extends te{constructor(t){super(t,{code:tn.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(tn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class nn extends te{constructor(t,{method:n}={}){super(t,{code:nn.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(nn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class rn extends te{constructor(t){super(t,{code:rn.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(rn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class sn extends te{constructor(t){super(t,{code:sn.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(sn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class ot extends te{constructor(t){super(t,{code:ot.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(ot,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class on extends te{constructor(t){super(t,{code:on.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(on,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class an extends te{constructor(t){super(t,{code:an.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(an,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class cn extends te{constructor(t){super(t,{code:cn.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(cn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class un extends te{constructor(t){super(t,{code:un.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(un,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class fn extends te{constructor(t){super(t,{code:fn.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(fn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class dn extends te{constructor(t){super(t,{code:dn.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(dn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class ln extends te{constructor(t){super(t,{code:ln.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(ln,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class hn extends te{constructor(t){super(t,{code:hn.code,name:"WalletConnectSessionSettlementError",shortMessage:"WalletConnect session settlement failed."})}}Object.defineProperty(hn,"code",{enumerable:!0,configurable:!0,writable:!0,value:7e3});class ru extends ee{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const Jd=3;function it(e,{abi:t,address:n,args:r,docsPath:s,functionName:o,sender:i}){const a=e instanceof zn?e:e instanceof S?e.walk(m=>"data"in m)||e.walk():{},{code:c,data:u,details:f,message:d,shortMessage:l}=a,h=e instanceof pn?new Yc({functionName:o}):[Jd,st.code].includes(c)&&(u||f||d||l)||c===He.code&&f==="execution reverted"&&u?new cr({abi:t,data:typeof u=="object"?u.data:u,functionName:o,message:a instanceof Nr?f:l??d}):e;return new _o(h,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:o,sender:i})}const Xd="modulepreload",Qd=function(e){return"/gravitas-protocol/"+e},ji={},su=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=i?.nonce||i?.getAttribute("nonce");s=c(n.map(u=>{if(u=Qd(u),u in ji)return;ji[u]=!0;const f=u.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const l=document.createElement("link");if(l.rel=f?"stylesheet":Xd,f||(l.as="script"),l.crossOrigin="",l.href=u,a&&l.setAttribute("nonce",a),document.head.appendChild(l),f)return new Promise((h,m)=>{l.addEventListener("load",h),l.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})};const Lo=BigInt(0),Ks=BigInt(1);function Ln(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Uo(e){if(!Ln(e))throw new Error("Uint8Array expected")}function $n(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Wn(e){const t=e.toString(16);return t.length&1?"0"+t:t}function ou(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Lo:BigInt("0x"+e)}const iu=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",el=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Sn(e){if(Uo(e),iu)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=el[e[n]];return t}const ke={_0:48,_9:57,A:65,F:70,a:97,f:102};function Li(e){if(e>=ke._0&&e<=ke._9)return e-ke._0;if(e>=ke.A&&e<=ke.F)return e-(ke.A-10);if(e>=ke.a&&e<=ke.f)return e-(ke.a-10)}function fr(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(iu)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,o=0;s<n;s++,o+=2){const i=Li(e.charCodeAt(o)),a=Li(e.charCodeAt(o+1));if(i===void 0||a===void 0){const c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}r[s]=i*16+a}return r}function ht(e){return ou(Sn(e))}function au(e){return Uo(e),ou(Sn(Uint8Array.from(e).reverse()))}function Un(e,t){return fr(e.toString(16).padStart(t*2,"0"))}function cu(e,t){return Un(e,t).reverse()}function he(e,t,n){let r;if(typeof t=="string")try{r=fr(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(Ln(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function dr(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];Uo(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}const us=e=>typeof e=="bigint"&&Lo<=e;function Do(e,t,n){return us(e)&&us(t)&&us(n)&&t<=e&&e<n}function Dt(e,t,n,r){if(!Do(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function tl(e){let t;for(t=0;e>Lo;e>>=Ks,t+=1);return t}const Rr=e=>(Ks<<BigInt(e))-Ks,fs=e=>new Uint8Array(e),Ui=e=>Uint8Array.from(e);function nl(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=fs(e),s=fs(e),o=0;const i=()=>{r.fill(1),s.fill(0),o=0},a=(...d)=>n(s,r,...d),c=(d=fs(0))=>{s=a(Ui([0]),d),r=a(),d.length!==0&&(s=a(Ui([1]),d),r=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const l=[];for(;d<t;){r=a();const h=r.slice();l.push(h),d+=r.length}return dr(...l)};return(d,l)=>{i(),c(d);let h;for(;!(h=l(u()));)c();return i(),h}}const rl={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Ln(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Fr(e,t,n={}){const r=(s,o,i)=>{const a=rl[o];if(typeof a!="function")throw new Error("invalid validator function");const c=e[s];if(!(i&&c===void 0)&&!a(c,e))throw new Error("param "+String(s)+" is invalid. Expected "+o+", got "+c)};for(const[s,o]of Object.entries(t))r(s,o,!1);for(const[s,o]of Object.entries(n))r(s,o,!0);return e}function Di(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const o=e(n,...r);return t.set(n,o),o}}const sl="0.1.1";function ol(){return sl}let L=class Re extends Error{static setStaticOptions(t){Re.prototype.docsOrigin=t.docsOrigin,Re.prototype.showVersion=t.showVersion,Re.prototype.version=t.version}constructor(t,n={}){const r=(()=>{if(n.cause instanceof Re){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),s=n.cause instanceof Re&&n.cause.docsPath||n.docsPath,o=n.docsOrigin??Re.prototype.docsOrigin,i=`${o}${s??""}`,a=!!(n.version??Re.prototype.showVersion),c=n.version??Re.prototype.version,u=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s||a?["",r?`Details: ${r}`:void 0,s?`See: ${i}`:void 0,a?`Version: ${c}`:void 0]:[]].filter(f=>typeof f=="string").join(`
`);super(u,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsOrigin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.cause=n.cause,this.details=r,this.docs=i,this.docsOrigin=o,this.docsPath=s,this.shortMessage=t,this.showVersion=a,this.version=c}walk(t){return uu(this,t)}};Object.defineProperty(L,"defaultStaticOptions",{enumerable:!0,configurable:!0,writable:!0,value:{docsOrigin:"https://oxlib.sh",showVersion:!1,version:`ox@${ol()}`}});L.setStaticOptions(L.defaultStaticOptions);function uu(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?uu(e.cause,t):t?null:e}function Dn(e,t){if(jt(e)>t)throw new El({givenSize:jt(e),maxSize:t})}const Ne={zero:48,nine:57,A:65,F:70,a:97,f:102};function qi(e){if(e>=Ne.zero&&e<=Ne.nine)return e-Ne.zero;if(e>=Ne.A&&e<=Ne.F)return e-(Ne.A-10);if(e>=Ne.a&&e<=Ne.f)return e-(Ne.a-10)}function il(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new Pl({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let o=0;o<r;o++){const i=n==="right";s[i?o:r-o-1]=e[i?o:e.length-o-1]}return s}function fu(e,t={}){const{dir:n="left"}=t;let r=e,s=0;for(let o=0;o<r.length-1&&r[n==="left"?o:r.length-o-1].toString()==="0";o++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}function Mr(e,t){if(de(e)>t)throw new Cl({givenSize:de(e),maxSize:t})}function al(e,t){if(typeof t=="number"&&t>0&&t>de(e)-1)throw new wu({offset:t,position:"start",size:de(e)})}function cl(e,t,n){if(typeof t=="number"&&typeof n=="number"&&de(e)!==n-t)throw new wu({offset:n,position:"end",size:de(e)})}function du(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new Tl({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const ul="#__bigint";function lu(e,t,n){return JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString()+ul:s,n)}const fl=new TextDecoder,dl=new TextEncoder;function ll(e){return e instanceof Uint8Array?e:typeof e=="string"?hu(e):hl(e)}function hl(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function hu(e,t={}){const{size:n}=t;let r=e;n&&(Mr(e,n),r=xt(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const o=s.length/2,i=new Uint8Array(o);for(let a=0,c=0;a<o;a++){const u=qi(s.charCodeAt(c++)),f=qi(s.charCodeAt(c++));if(u===void 0||f===void 0)throw new L(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);i[a]=u<<4|f}return i}function pl(e,t={}){const{size:n}=t,r=dl.encode(e);return typeof n=="number"?(Dn(r,n),bl(r,n)):r}function bl(e,t){return il(e,{dir:"right",size:t})}function jt(e){return e.length}function ml(e,t,n,r={}){const{strict:s}=r;return e.slice(t,n)}function yl(e,t={}){const{size:n}=t;typeof n<"u"&&Dn(e,n);const r=Ae(e,t);return mu(r,t)}function gl(e,t={}){const{size:n}=t;let r=e;if(typeof n<"u"&&(Dn(r,n),r=pu(r)),r.length>1||r[0]>1)throw new xl(r);return!!r[0]}function Ue(e,t={}){const{size:n}=t;typeof n<"u"&&Dn(e,n);const r=Ae(e,t);return yu(r,t)}function wl(e,t={}){const{size:n}=t;let r=e;return typeof n<"u"&&(Dn(r,n),r=vl(r)),fl.decode(r)}function pu(e){return fu(e,{dir:"left"})}function vl(e){return fu(e,{dir:"right"})}class xl extends L{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let El=class extends L{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},Pl=class extends L{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const Il=new TextEncoder,Al=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function $l(e,t={}){const{strict:n=!1}=t;if(!e)throw new Gi(e);if(typeof e!="string")throw new Gi(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new Hi(e);if(!e.startsWith("0x"))throw new Hi(e)}function Ie(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function Sl(e){return e instanceof Uint8Array?Ae(e):Array.isArray(e)?Ae(new Uint8Array(e)):e}function bu(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Mr(n,t.size),vt(n,t.size)):n}function Ae(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=Al[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(Mr(r,t.size),xt(r,t.size)):r}function J(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const u=typeof e=="bigint"?"n":"";throw new gu({max:o?`${o}${u}`:void 0,min:`${i}${u}`,signed:n,size:r,value:`${e}${u}`})}const c=`0x${(n&&s<0?BigInt.asUintN(r*8,BigInt(s)):s).toString(16)}`;return r?vt(c,r):c}function qo(e,t={}){return Ae(Il.encode(e),t)}function vt(e,t){return du(e,{dir:"left",size:t})}function xt(e,t){return du(e,{dir:"right",size:t})}function Ce(e,t,n,r={}){const{strict:s}=r;al(e,t);const o=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&cl(o,t,n),o}function de(e){return Math.ceil((e.length-2)/2)}function mu(e,t={}){const{signed:n}=t;t.size&&Mr(e,t.size);const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<BigInt(s)*8n)-1n,i=o>>1n;return r<=i?r:r-o-1n}function yu(e,t={}){const{signed:n,size:r}=t;return Number(!n&&!r?e:mu(e,t))}function Bl(e,t={}){const{strict:n=!1}=t;try{return $l(e,{strict:n}),!0}catch{return!1}}class gu extends L{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number \`${o}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class Gi extends L{constructor(t){super(`Value \`${typeof t=="object"?lu(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class Hi extends L{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class Cl extends L{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class wu extends L{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class Tl extends L{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function Ol(e){return{address:e.address,amount:J(e.amount),index:J(e.index),validatorIndex:J(e.validatorIndex)}}function vu(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:J(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:J(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:J(e.gasLimit)},...typeof e.number=="bigint"&&{number:J(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:J(e.prevRandao)},...typeof e.time=="bigint"&&{time:J(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(Ol)}}}const kl="0x82ad56cb",Go="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",xu="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Ys="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Ho="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033",ds="/docs/contract/encodeDeployData";function _r(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(i=>"type"in i&&i.type==="constructor");if(!s)throw new ka({docsPath:ds});if(!("inputs"in s))throw new Ms({docsPath:ds});if(!s.inputs||s.inputs.length===0)throw new Ms({docsPath:ds});const o=Ve(s.inputs,n);return $t([r,o])}class et extends S{constructor({cause:t,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(et,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(et,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted|gas required exceeds allowance/});class Bn extends S{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${X(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(Bn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class lr extends S{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${X(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(lr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class hr extends S{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(hr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class pr extends S{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(pr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class br extends S{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(br,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class mr extends S{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(mr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class yr extends S{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(yr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class gr extends S{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(gr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class wr extends S{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(wr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Cn extends S{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${X(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${X(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(Cn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class mn extends S{constructor({cause:t}){super(`An error occurred while executing: ${t?.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function zr(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof S?e.walk(s=>s?.code===et.code):e;return r instanceof S?new et({cause:e,message:r.details}):et.nodeMessage.test(n)?new et({cause:e,message:e.details}):Bn.nodeMessage.test(n)?new Bn({cause:e,maxFeePerGas:t?.maxFeePerGas}):lr.nodeMessage.test(n)?new lr({cause:e,maxFeePerGas:t?.maxFeePerGas}):hr.nodeMessage.test(n)?new hr({cause:e,nonce:t?.nonce}):pr.nodeMessage.test(n)?new pr({cause:e,nonce:t?.nonce}):br.nodeMessage.test(n)?new br({cause:e,nonce:t?.nonce}):mr.nodeMessage.test(n)?new mr({cause:e}):yr.nodeMessage.test(n)?new yr({cause:e,gas:t?.gas}):gr.nodeMessage.test(n)?new gr({cause:e,gas:t?.gas}):wr.nodeMessage.test(n)?new wr({cause:e}):Cn.nodeMessage.test(n)?new Cn({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new mn({cause:e})}function Eu(e,{docsPath:t,...n}){const r=(()=>{const s=zr(e,n);return s instanceof mn?e:s})();return new Mo(r,{docsPath:t,...n})}function qn(e,{format:t}){if(!t)return{};const n={};function r(o){const i=Object.keys(o);for(const a of i)a in e&&(n[a]=e[a]),o[a]&&typeof o[a]=="object"&&!Array.isArray(o[a])&&r(o[a])}const s=t(e||{});return r(s),n}const Pu={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Ct(e,t){const n={};return typeof e.authorizationList<"u"&&(n.authorizationList=Nl(e.authorizationList)),typeof e.accessList<"u"&&(n.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(n.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?n.blobs=e.blobs.map(r=>H(r)):n.blobs=e.blobs),typeof e.data<"u"&&(n.data=e.data),e.account&&(n.from=e.account.address),typeof e.from<"u"&&(n.from=e.from),typeof e.gas<"u"&&(n.gas=_(e.gas)),typeof e.gasPrice<"u"&&(n.gasPrice=_(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=_(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(n.maxFeePerGas=_(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=_(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(n.nonce=_(e.nonce)),typeof e.to<"u"&&(n.to=e.to),typeof e.type<"u"&&(n.type=Pu[e.type]),typeof e.value<"u"&&(n.value=_(e.value)),n}function Nl(e){return e.map(t=>({address:t.address,r:t.r?_(BigInt(t.r)):t.r,s:t.s?_(BigInt(t.s)):t.s,chainId:_(t.chainId),nonce:_(t.nonce),...typeof t.yParity<"u"?{yParity:_(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:_(t.v)}:{}}))}function Iu(){let e=()=>{},t=()=>{};return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}const ls=new Map;function Au({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const o=async()=>{const f=c();i();const d=f.map(({args:l})=>l);d.length!==0&&e(d).then(l=>{s&&Array.isArray(l)&&l.sort(s);for(let h=0;h<f.length;h++){const{resolve:m}=f[h];m?.([l[h],l])}}).catch(l=>{for(let h=0;h<f.length;h++){const{reject:m}=f[h];m?.(l)}})},i=()=>ls.delete(t),a=()=>c().map(({args:f})=>f),c=()=>ls.get(t)||[],u=f=>ls.set(t,[...c(),f]);return{flush:i,async schedule(f){const{promise:d,resolve:l,reject:h}=Iu();return n?.([...a(),f])&&o(),c().length>0?(u({args:f,resolve:l,reject:h}),d):(u({args:f,resolve:l,reject:h}),setTimeout(o,r),d)}}}function Vi(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new Si({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new Si({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function Rl(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:o}=e,i={};if(o!==void 0&&(i.code=o),t!==void 0&&(i.balance=_(t)),n!==void 0&&(i.nonce=_(n)),r!==void 0&&(i.state=Vi(r)),s!==void 0){if(i.state)throw new Vc;i.stateDiff=Vi(s)}return i}function Vo(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!fe(n,{strict:!1}))throw new De({address:n});if(t[n])throw new Hc({address:n});t[n]=Rl(r)}return t}const $u=2n**256n-1n;function ut(e){const{account:t,maxFeePerGas:n,maxPriorityFeePerGas:r,to:s}=e,o=t?K(t):void 0;if(o&&!fe(o.address))throw new De({address:o.address});if(s&&!fe(s))throw new De({address:s});if(n&&n>$u)throw new Bn({maxFeePerGas:n});if(r&&n&&r>n)throw new Cn({maxFeePerGas:n,maxPriorityFeePerGas:r})}async function Tt(e,t){const{account:n=e.account,authorizationList:r,batch:s=!!e.batch?.multicall,blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:u,code:f,data:d,factory:l,factoryData:h,gas:m,gasPrice:p,maxFeePerBlobGas:g,maxFeePerGas:E,maxPriorityFeePerGas:P,nonce:x,to:y,value:b,stateOverride:w,...v}=t,I=n?K(n):void 0;if(f&&(l||h))throw new S("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(f&&y)throw new S("Cannot provide both `code` & `to` as parameters.");const $=f&&d,A=l&&h&&y&&d,B=$||A,N=$?Su({code:f,data:d}):A?_l({data:d,factory:l,factoryData:h,to:y}):d;try{ut(t);const z=(typeof o=="bigint"?_(o):void 0)||i,T=u?vu(u):void 0,C=Vo(w),F=e.chain?.formatters?.transactionRequest?.format,R=(F||Ct)({...qn(v,{format:F}),accessList:a,account:I,authorizationList:r,blobs:c,data:N,gas:m,gasPrice:p,maxFeePerBlobGas:g,maxFeePerGas:E,maxPriorityFeePerGas:P,nonce:x,to:B?void 0:y,value:b},"call");if(s&&Fl({request:R})&&!C&&!T)try{return await Ml(e,{...R,blockNumber:o,blockTag:i})}catch(D){if(!(D instanceof Oo)&&!(D instanceof ar))throw D}const j=(()=>{const D=[R,z];return C&&T?[...D,C,T]:C?[...D,C]:T?[...D,{},T]:D})(),U=await e.request({method:"eth_call",params:j});return U==="0x"?{data:void 0}:{data:U}}catch(k){const z=zl(k),{offchainLookup:T,offchainLookupSignature:C}=await su(async()=>{const{offchainLookup:F,offchainLookupSignature:O}=await Promise.resolve().then(()=>Dh);return{offchainLookup:F,offchainLookupSignature:O}},void 0);if(e.ccipRead!==!1&&z?.slice(0,10)===C&&y)return{data:await T(e,{data:z,to:y})};throw B&&z?.slice(0,10)==="0x101bb98d"?new Jc({factory:l}):Eu(k,{...t,account:I,chain:e.chain})}}function Fl({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(kl)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function Ml(e,t){const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},{blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",data:a,to:c}=t,u=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return Bt({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Oo})(),d=(typeof o=="bigint"?_(o):void 0)||i,{schedule:l}=Au({id:`${e.uid}.${d}`,wait:s,shouldSplitBatch(p){return p.reduce((E,{data:P})=>E+(P.length-2),0)>n*2},fn:async p=>{const g=p.map(x=>({allowFailure:!0,callData:x.data,target:x.to})),E=ae({abi:pt,args:[g],functionName:"aggregate3"}),P=await e.request({method:"eth_call",params:[{...u===null?{data:Su({code:Ho,data:E})}:{to:u,data:E}},d]});return Ze({abi:pt,args:[g],functionName:"aggregate3",data:P||"0x"})}}),[{returnData:h,success:m}]=await l({data:a,to:c});if(!m)throw new zn({data:h});return h==="0x"?{data:void 0}:{data:h}}function Su(e){const{code:t,data:n}=e;return _r({abi:To(["constructor(bytes, bytes)"]),bytecode:Go,args:[t,n]})}function _l(e){const{data:t,factory:n,factoryData:r,to:s}=e;return _r({abi:To(["constructor(address, bytes, address, bytes)"]),bytecode:xu,args:[s,t,n,r]})}function zl(e){if(!(e instanceof S))return;const t=e.walk();return typeof t?.data=="object"?t.data?.data:t.data}async function me(e,t){const{abi:n,address:r,args:s,functionName:o,...i}=t,a=ae({abi:n,args:s,functionName:o});try{const{data:c}=await M(e,Tt,"call")({...i,data:a,to:r});return Ze({abi:n,args:s,functionName:o,data:c||"0x"})}catch(c){throw it(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:o})}}async function jl(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:o,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Bt({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c?.ensTlds;if(f&&!f.some(l=>o.endsWith(l)))return null;const d=s!=null?[ur(o),BigInt(s)]:[ur(o)];try{const l=ae({abi:$i,functionName:"addr",args:d}),h={address:u,abi:Ba,functionName:"resolveWithGateways",args:[qe(jo(o)),l,i??[jn]],blockNumber:n,blockTag:r},p=await M(e,me,"readContract")(h);if(p[0]==="0x")return null;const g=Ze({abi:$i,args:d,functionName:"addr",data:p[0]});return g==="0x"||je(g)==="0x00"?null:g}catch(l){if(a)throw l;if(zo(l))return null;throw l}}class Ll extends S{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class zt extends S{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class jr extends S{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class Bu extends S{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const Ul=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Dl=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,ql=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Gl=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function Hl(e){try{const t=await fetch(e,{method:"HEAD"});return t.status===200?t.headers.get("content-type")?.startsWith("image/"):!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function Wi(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Cu({uri:e,gatewayUrls:t}){const n=ql.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Wi(t?.ipfs,"https://ipfs.io"),s=Wi(t?.arweave,"https://arweave.net"),o=e.match(Ul),{protocol:i,subpath:a,target:c,subtarget:u=""}=o?.groups||{},f=i==="ipns:/"||a==="ipns/",d=i==="ipfs:/"||a==="ipfs/"||Dl.test(e);if(e.startsWith("http")&&!f&&!d){let h=e;return t?.arweave&&(h=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((f||d)&&c)return{uri:`${r}/${f?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(i==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let l=e.replace(Gl,"");if(l.startsWith("<svg")&&(l=`data:image/svg+xml;base64,${btoa(l)}`),l.startsWith("data:")||l.startsWith("{"))return{uri:l,isOnChain:!0,isEncoded:!1};throw new jr({uri:e})}function Tu(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new Ll({data:e});return e.image||e.image_url||e.image_data}async function Vl({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await Wo({gatewayUrls:e,uri:Tu(n)})}catch{throw new jr({uri:t})}}async function Wo({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=Cu({uri:t,gatewayUrls:e});if(r||await Hl(n))return n;throw new jr({uri:t})}function Wl(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[o,i]=n.split(":"),[a,c]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new zt({reason:"Only EIP-155 supported"});if(!i)throw new zt({reason:"Chain ID not found"});if(!c)throw new zt({reason:"Contract address not found"});if(!s)throw new zt({reason:"Token ID not found"});if(!a)throw new zt({reason:"ERC namespace not found"});return{chainID:Number.parseInt(i,10),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}async function Zl(e,{nft:t}){if(t.namespace==="erc721")return me(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return me(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new Bu({namespace:t.namespace})}async function Kl(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?Yl(e,{gatewayUrls:t,record:n}):Wo({uri:n,gatewayUrls:t})}async function Yl(e,{gatewayUrls:t,record:n}){const r=Wl(n),s=await Zl(e,{nft:r}),{uri:o,isOnChain:i,isEncoded:a}=Cu({uri:s,gatewayUrls:t});if(i&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const u=a?atob(o.replace("data:application/json;base64,","")):o,f=JSON.parse(u);return Wo({uri:Tu(f),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),Vl({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,c)})}async function Ou(e,t){const{blockNumber:n,blockTag:r,key:s,name:o,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Bt({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c?.ensTlds;if(f&&!f.some(d=>o.endsWith(d)))return null;try{const d={address:u,abi:Ba,args:[qe(jo(o)),ae({abi:Ai,functionName:"text",args:[ur(o),s]}),i??[jn]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},h=await M(e,me,"readContract")(d);if(h[0]==="0x")return null;const m=Ze({abi:Ai,functionName:"text",data:h[0]});return m===""?null:m}catch(d){if(a)throw d;if(zo(d))return null;throw d}}async function Jl(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:o,strict:i,universalResolverAddress:a}){const c=await M(e,Ou,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:o,strict:i});if(!c)return null;try{return await Kl(e,{record:c,gatewayUrls:r})}catch{return null}}async function Xl(e,t){const{address:n,blockNumber:r,blockTag:s,coinType:o=60n,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Bt({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const f={address:u,abi:b0,args:[n,o,i??[jn]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},d=M(e,me,"readContract"),[l]=await d(f);return l||null}catch(f){if(a)throw f;if(zo(f))return null;throw f}}async function Ql(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:o}=e,i=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return Bt({blockNumber:n,chain:o,contract:"ensUniversalResolver"})})(),a=o?.ensTlds;if(a&&!a.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${a?.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);const[c]=await M(e,me,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[qe(jo(s))],blockNumber:n,blockTag:r});return c}async function ku(e,t){const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:o,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:h,...m}=t,p=n?K(n):void 0;try{ut(t);const E=(typeof r=="bigint"?_(r):void 0)||s,P=e.chain?.formatters?.transactionRequest?.format,y=(P||Ct)({...qn(m,{format:P}),account:p,blobs:o,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:h},"createAccessList"),b=await e.request({method:"eth_createAccessList",params:[y,E]});return{accessList:b.accessList,gasUsed:BigInt(b.gasUsed)}}catch(g){throw Eu(g,{...t,account:p,chain:e.chain})}}function Lr(e,{method:t}){const n={};return e.transport.type==="fallback"&&e.transport.onResponse?.(({method:r,response:s,status:o,transport:i})=>{o==="success"&&t===r&&(n[s]=i.request)}),(r=>n[r]||e.request)}async function eh(e){const t=Lr(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}class Nu extends S{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const Zi="/docs/contract/encodeEventTopics";function yn(e){const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const c=ct({abi:t,name:n});if(!c)throw new zs(n,{docsPath:Zi});s=c}if(s.type!=="event")throw new zs(void 0,{docsPath:Zi});const o=Ee(s),i=Zt(o);let a=[];if(r&&"inputs"in s){const c=s.inputs?.filter(f=>"indexed"in f&&f.indexed),u=Array.isArray(r)?r:Object.values(r).length>0?c?.map(f=>r[f.name])??[]:[];u.length>0&&(a=c?.map((f,d)=>Array.isArray(u[d])?u[d].map((l,h)=>Ki({param:f,value:u[d][h]})):typeof u[d]<"u"&&u[d]!==null?Ki({param:f,value:u[d]}):null)??[])}return[i,...a]}function Ki({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return W(At(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new Nu(e.type);return Ve([e],[t])}async function Ru(e,t){const{address:n,abi:r,args:s,eventName:o,fromBlock:i,strict:a,toBlock:c}=t,u=Lr(e,{method:"eth_newFilter"}),f=o?yn({abi:r,args:s,eventName:o}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof i=="bigint"?_(i):i,toBlock:typeof c=="bigint"?_(c):c,topics:f}]});return{abi:r,args:s,eventName:o,id:d,request:u(d),strict:!!a,type:"event"}}async function Fu(e,{address:t,args:n,event:r,events:s,fromBlock:o,strict:i,toBlock:a}={}){const c=s??(r?[r]:void 0),u=Lr(e,{method:"eth_newFilter"});let f=[];c&&(f=[c.flatMap(h=>yn({abi:[h],eventName:h.name,args:n}))],r&&(f=f[0]));const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof o=="bigint"?_(o):o,toBlock:typeof a=="bigint"?_(a):a,...f.length?{topics:f}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:o,id:d,request:u(d),strict:!!i,toBlock:a,type:"event"}}async function Mu(e){const t=Lr(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}function th(e){const t=W(`0x${e.substring(4)}`).substring(26);return Fn(`0x${t}`)}async function _u({hash:e,signature:t}){const n=pe(e)?e:qe(e),{secp256k1:r}=await su(async()=>{const{secp256k1:i}=await Promise.resolve().then(()=>Jp);return{secp256k1:i}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:f,v:d,yParity:l}=t,h=Number(l??d),m=Yi(h);return new r.Signature(Pe(u),Pe(f)).addRecoveryBit(m)}const i=pe(t)?t:qe(t);if(q(i)!==65)throw new Error("invalid signature length");const a=Te(`0x${i.slice(130)}`),c=Yi(a);return r.Signature.fromCompact(i.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function Yi(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function Zo({hash:e,signature:t}){return th(await _u({hash:e,signature:t}))}function zu(e,t="hex"){const n=ju(e),r=Io(new Uint8Array(n.length));return n.encode(r),t==="hex"?H(r.bytes):r.bytes}function ju(e){return Array.isArray(e)?nh(e.map(t=>ju(t))):rh(e)}function nh(e){const t=e.reduce((s,o)=>s+o.length,0),n=Lu(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:o}of e)o(s)}}}function rh(e){const t=typeof e=="string"?be(e):e,n=Lu(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function Lu(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new S("Length is too large.")}function sh(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,o=W($t(["0x05",zu([t?_(t):"0x",s,n?_(n):"0x"])]));return r==="bytes"?be(o):o}async function Ko(e){const{authorization:t,signature:n}=e;return Zo({hash:sh(t),signature:n??t})}class Uu extends S{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){const h=Mn({from:n?.address,to:d,value:typeof l<"u"&&`${kr(l)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${X(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${X(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${X(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}function oh(e,{docsPath:t,...n}){const r=(()=>{const s=zr(e,n);return s instanceof mn?e:s})();return new Uu(r,{docsPath:t,...n})}class Yo extends S{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Ur extends S{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class Du extends S{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${X(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class Jo extends S{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const Xo={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Dr(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?Te(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?Te(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?Xo[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=ih(e.authorizationList)),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}function ih(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function Qo(e,t){const n=(e.transactions??[]).map(r=>typeof r=="string"?r:Dr(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}async function xe(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){const o=s??!1,i=n!==void 0?_(n):void 0;let a=null;if(t?a=await e.request({method:"eth_getBlockByHash",params:[t,o]},{dedupe:!0}):a=await e.request({method:"eth_getBlockByNumber",params:[i||r,o]},{dedupe:!!i}),!a)throw new Jo({blockHash:t,blockNumber:n});return(e.chain?.formatters?.block?.format||Qo)(a,"getBlock")}async function ei(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function ah(e,t){return qu(e,t)}async function qu(e,t){const{block:n,chain:r=e.chain,request:s}=t||{};try{const o=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof o=="function"){const a=n||await M(e,xe,"getBlock")({}),c=await o({block:a,client:e,request:s});if(c===null)throw new Error;return c}if(typeof o<"u")return o;const i=await e.request({method:"eth_maxPriorityFeePerGas"});return Pe(i)}catch{const[o,i]=await Promise.all([n?Promise.resolve(n):M(e,xe,"getBlock")({}),M(e,ei,"getGasPrice")({})]);if(typeof o.baseFeePerGas!="bigint")throw new Ur;const a=i-o.baseFeePerGas;return a<0n?0n:a}}async function ch(e,t){return Js(e,t)}async function Js(e,t){const{block:n,chain:r=e.chain,request:s,type:o="eip1559"}=t||{},i=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):r?.fees?.baseFeeMultiplier??1.2)();if(i<1)throw new Yo;const c=10**(i.toString().split(".")[1]?.length??0),u=l=>l*BigInt(Math.ceil(i*c))/BigInt(c),f=n||await M(e,xe,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const l=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:o});if(l!==null)return l}if(o==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new Ur;const l=typeof s?.maxPriorityFeePerGas=="bigint"?s.maxPriorityFeePerGas:await qu(e,{block:f,chain:r,request:s}),h=u(f.baseFeePerGas);return{maxFeePerGas:s?.maxFeePerGas??h+l,maxPriorityFeePerGas:l}}return{gasPrice:s?.gasPrice??u(await M(e,ei,"getGasPrice")({}))}}async function Gu(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?_(r):n]},{dedupe:!!r});return Te(s)}function ti(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>be(o)):e.blobs,s=[];for(const o of r)s.push(Uint8Array.from(t.blobToKzgCommitment(o)));return n==="bytes"?s:s.map(o=>H(o))}function ni(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>be(i)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(i=>be(i)):e.commitments,o=[];for(let i=0;i<r.length;i++){const a=r[i],c=s[i];o.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return n==="bytes"?o:o.map(i=>H(i))}function uh(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),o=BigInt(4294967295),i=Number(n>>s&o),a=Number(n&o),c=r?4:0,u=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+u,a,r)}function fh(e,t,n){return e&t^~e&n}function dh(e,t,n){return e&t^e&n^t&n}class lh extends Eo{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=ns(this.buffer)}update(t){Vt(this),t=Tr(t),mt(t);const{view:n,buffer:r,blockLen:s}=this,o=t.length;for(let i=0;i<o;){const a=Math.min(s-this.pos,o-i);if(a===s){const c=ns(t);for(;s<=o-i;i+=s)this.process(c,i);continue}r.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Vt(this),Xa(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:o}=this;let{pos:i}=this;n[i++]=128,Wt(this.buffer.subarray(i)),this.padOffset>s-i&&(this.process(r,0),i=0);for(let d=i;d<s;d++)n[d]=0;uh(r,s-8,BigInt(this.length*8),o),this.process(r,0);const a=ns(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,f=this.get();if(u>f.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,f[d],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:o,destroyed:i,pos:a}=this;return t.destroyed=i,t.finished=o,t.length=s,t.pos=a,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const Je=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),hh=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Xe=new Uint32Array(64);class ph extends lh{constructor(t=32){super(64,t,8,!1),this.A=Je[0]|0,this.B=Je[1]|0,this.C=Je[2]|0,this.D=Je[3]|0,this.E=Je[4]|0,this.F=Je[5]|0,this.G=Je[6]|0,this.H=Je[7]|0}get(){const{A:t,B:n,C:r,D:s,E:o,F:i,G:a,H:c}=this;return[t,n,r,s,o,i,a,c]}set(t,n,r,s,o,i,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,n){for(let d=0;d<16;d++,n+=4)Xe[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const l=Xe[d-15],h=Xe[d-2],m=Se(l,7)^Se(l,18)^l>>>3,p=Se(h,17)^Se(h,19)^h>>>10;Xe[d]=p+Xe[d-7]+m+Xe[d-16]|0}let{A:r,B:s,C:o,D:i,E:a,F:c,G:u,H:f}=this;for(let d=0;d<64;d++){const l=Se(a,6)^Se(a,11)^Se(a,25),h=f+l+fh(a,c,u)+hh[d]+Xe[d]|0,p=(Se(r,2)^Se(r,13)^Se(r,22))+dh(r,s,o)|0;f=u,u=c,c=a,a=i+h|0,i=o,o=s,s=r,r=h+p|0}r=r+this.A|0,s=s+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,f=f+this.H|0,this.set(r,s,o,i,a,c,u,f)}roundClean(){Wt(Xe)}destroy(){this.set(0,0,0,0,0,0,0,0),Wt(this.buffer)}}const Hu=Qa(()=>new ph),bh=Hu;function Vu(e,t){return bh(pe(e,{strict:!1})?At(e):e)}function Wu(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=Vu(t);return s.set([n],0),r==="bytes"?s:H(s)}function Zu(e){const{commitments:t,version:n}=e,r=e.to,s=[];for(const o of t)s.push(Wu({commitment:o,to:r,version:n}));return s}const Ji=6,Ku=32,ri=4096,Yu=Ku*ri,Xi=Yu*Ji-1-1*ri*Ji;class mh extends S{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class yh extends S{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function Ju(e){const t=typeof e.data=="string"?be(e.data):e.data,n=q(t);if(!n)throw new yh;if(n>Xi)throw new mh({maxSize:Xi,size:n});const r=[];let s=!0,o=0;for(;s;){const i=Io(new Uint8Array(Yu));let a=0;for(;a<ri;){const c=t.slice(o,o+(Ku-1));if(i.pushByte(0),i.pushBytes(c),c.length<31){i.pushByte(128),s=!1;break}a++,o+=31}r.push(i)}return r.map(i=>H(i.bytes))}function Xu(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??Ju({data:t}),o=e.commitments??ti({blobs:s,kzg:n,to:r}),i=e.proofs??ni({blobs:s,commitments:o,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:o[c],proof:i[c]});return a}function Qu(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new Wc({transaction:e})}function ef(e,{docsPath:t,...n}){const r=(()=>{const s=zr(e,n);return s instanceof mn?e:s})();return new Zc(r,{docsPath:t,...n})}async function qr(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return Te(t)}async function tf(e,t){const{account:n=e.account,accessList:r,authorizationList:s,chain:o=e.chain,blobVersionedHashes:i,blobs:a,data:c,gas:u,gasPrice:f,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:h,nonce:m,nonceManager:p,to:g,type:E,value:P,...x}=t,y=await(async()=>{if(!n||!p||typeof m<"u")return m;const I=K(n),$=o?o.id:await M(e,qr,"getChainId")({});return await p.consume({address:I.address,chainId:$,client:e})})();ut(t);const b=o?.formatters?.transactionRequest?.format,v=(b||Ct)({...qn(x,{format:b}),account:n?K(n):void 0,accessList:r,authorizationList:s,blobs:a,blobVersionedHashes:i,data:c,gas:u,gasPrice:f,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:h,nonce:y,to:g,type:E,value:P},"fillTransaction");try{const I=await e.request({method:"eth_fillTransaction",params:[v]}),A=(o?.formatters?.transaction?.format||Dr)(I.tx);delete A.blockHash,delete A.blockNumber,delete A.r,delete A.s,delete A.transactionIndex,delete A.v,delete A.yParity,A.data=A.input,A.gas&&(A.gas=t.gas??A.gas),A.gasPrice&&(A.gasPrice=t.gasPrice??A.gasPrice),A.maxFeePerBlobGas&&(A.maxFeePerBlobGas=t.maxFeePerBlobGas??A.maxFeePerBlobGas),A.maxFeePerGas&&(A.maxFeePerGas=t.maxFeePerGas??A.maxFeePerGas),A.maxPriorityFeePerGas&&(A.maxPriorityFeePerGas=t.maxPriorityFeePerGas??A.maxPriorityFeePerGas),A.nonce&&(A.nonce=t.nonce??A.nonce);const B=await(async()=>{if(typeof o?.fees?.baseFeeMultiplier=="function"){const T=await M(e,xe,"getBlock")({});return o.fees.baseFeeMultiplier({block:T,client:e,request:t})}return o?.fees?.baseFeeMultiplier??1.2})();if(B<1)throw new Yo;const k=10**(B.toString().split(".")[1]?.length??0),z=T=>T*BigInt(Math.ceil(B*k))/BigInt(k);return A.maxFeePerGas&&!t.maxFeePerGas&&(A.maxFeePerGas=z(A.maxFeePerGas)),A.gasPrice&&!t.gasPrice&&(A.gasPrice=z(A.gasPrice)),{raw:I.raw,transaction:{from:v.from,...A}}}catch(I){throw ef(I,{...t,chain:e.chain})}}const nf=["blobVersionedHashes","chainId","fees","gas","nonce","type"],Qi=new Map,hs=new Rn(128);async function si(e,t){let n=t;n.account??=e.account,n.parameters??=nf;const{account:r,chain:s=e.chain,nonceManager:o,parameters:i}=n,a=(()=>{if(typeof s?.prepareTransactionRequest=="function")return{fn:s.prepareTransactionRequest,runAt:["beforeFillTransaction"]};if(Array.isArray(s?.prepareTransactionRequest))return{fn:s.prepareTransactionRequest[0],runAt:s.prepareTransactionRequest[1].runAt}})();let c;async function u(){return c||(typeof n.chainId<"u"?n.chainId:s?s.id:(c=await M(e,qr,"getChainId")({}),c))}const f=r&&K(r);let d=n.nonce;if(i.includes("nonce")&&typeof d>"u"&&f&&o){const y=await u();d=await o.consume({address:f.address,chainId:y,client:e})}a?.fn&&a.runAt?.includes("beforeFillTransaction")&&(n=await a.fn({...n,chain:s},{phase:"beforeFillTransaction"}),d??=n.nonce);const h=((i.includes("blobVersionedHashes")||i.includes("sidecars"))&&n.kzg&&n.blobs||hs.get(e.uid)===!1||!["fees","gas"].some(b=>i.includes(b))?!1:!!(i.includes("chainId")&&typeof n.chainId!="number"||i.includes("nonce")&&typeof d!="number"||i.includes("fees")&&typeof n.gasPrice!="bigint"&&(typeof n.maxFeePerGas!="bigint"||typeof n.maxPriorityFeePerGas!="bigint")||i.includes("gas")&&typeof n.gas!="bigint"))?await M(e,tf,"fillTransaction")({...n,nonce:d}).then(y=>{const{chainId:b,from:w,gas:v,gasPrice:I,nonce:$,maxFeePerBlobGas:A,maxFeePerGas:B,maxPriorityFeePerGas:N,type:k,...z}=y.transaction;return hs.set(e.uid,!0),{...n,...w?{from:w}:{},...k?{type:k}:{},...typeof b<"u"?{chainId:b}:{},...typeof v<"u"?{gas:v}:{},...typeof I<"u"?{gasPrice:I}:{},...typeof $<"u"?{nonce:$}:{},...typeof A<"u"?{maxFeePerBlobGas:A}:{},...typeof B<"u"?{maxFeePerGas:B}:{},...typeof N<"u"?{maxPriorityFeePerGas:N}:{},..."nonceKey"in z&&typeof z.nonceKey<"u"?{nonceKey:z.nonceKey}:{}}}).catch(y=>{const b=y;return b.name!=="TransactionExecutionError"||b.walk?.(v=>{const I=v;return I.name==="MethodNotFoundRpcError"||I.name==="MethodNotSupportedRpcError"})&&hs.set(e.uid,!1),n}):n;d??=h.nonce,n={...h,...f?{from:f?.address}:{},...d?{nonce:d}:{}};const{blobs:m,gas:p,kzg:g,type:E}=n;a?.fn&&a.runAt?.includes("beforeFillParameters")&&(n=await a.fn({...n,chain:s},{phase:"beforeFillParameters"}));let P;async function x(){return P||(P=await M(e,xe,"getBlock")({blockTag:"latest"}),P)}if(i.includes("nonce")&&typeof d>"u"&&f&&!o&&(n.nonce=await M(e,Gu,"getTransactionCount")({address:f.address,blockTag:"pending"})),(i.includes("blobVersionedHashes")||i.includes("sidecars"))&&m&&g){const y=ti({blobs:m,kzg:g});if(i.includes("blobVersionedHashes")){const b=Zu({commitments:y,to:"hex"});n.blobVersionedHashes=b}if(i.includes("sidecars")){const b=ni({blobs:m,commitments:y,kzg:g}),w=Xu({blobs:m,commitments:y,proofs:b,to:"hex"});n.sidecars=w}}if(i.includes("chainId")&&(n.chainId=await u()),(i.includes("fees")||i.includes("type"))&&typeof E>"u")try{n.type=Qu(n)}catch{let y=Qi.get(e.uid);typeof y>"u"&&(y=typeof(await x())?.baseFeePerGas=="bigint",Qi.set(e.uid,y)),n.type=y?"eip1559":"legacy"}if(i.includes("fees"))if(n.type!=="legacy"&&n.type!=="eip2930"){if(typeof n.maxFeePerGas>"u"||typeof n.maxPriorityFeePerGas>"u"){const y=await x(),{maxFeePerGas:b,maxPriorityFeePerGas:w}=await Js(e,{block:y,chain:s,request:n});if(typeof n.maxPriorityFeePerGas>"u"&&n.maxFeePerGas&&n.maxFeePerGas<w)throw new Du({maxPriorityFeePerGas:w});n.maxPriorityFeePerGas=w,n.maxFeePerGas=b}}else{if(typeof n.maxFeePerGas<"u"||typeof n.maxPriorityFeePerGas<"u")throw new Ur;if(typeof n.gasPrice>"u"){const y=await x(),{gasPrice:b}=await Js(e,{block:y,chain:s,request:n,type:"legacy"});n.gasPrice=b}}return i.includes("gas")&&typeof p>"u"&&(n.gas=await M(e,oi,"estimateGas")({...n,account:f,prepare:f?.type==="local"?[]:["blobVersionedHashes"]})),a?.fn&&a.runAt?.includes("afterFillParameters")&&(n=await a.fn({...n,chain:s},{phase:"afterFillParameters"})),ut(n),delete n.parameters,n}async function oi(e,t){const{account:n=e.account,prepare:r=!0}=t,s=n?K(n):void 0,o=(()=>{if(Array.isArray(r))return r;if(s?.type!=="local")return["blobVersionedHashes"]})();try{const i=await(async()=>{if(t.to)return t.to;if(t.authorizationList&&t.authorizationList.length>0)return await Ko({authorization:t.authorizationList[0]}).catch(()=>{throw new S("`to` is required. Could not infer from `authorizationList`")})})(),{accessList:a,authorizationList:c,blobs:u,blobVersionedHashes:f,blockNumber:d,blockTag:l,data:h,gas:m,gasPrice:p,maxFeePerBlobGas:g,maxFeePerGas:E,maxPriorityFeePerGas:P,nonce:x,value:y,stateOverride:b,...w}=r?await si(e,{...t,parameters:o,to:i}):t;if(m&&t.gas!==m)return m;const I=(typeof d=="bigint"?_(d):void 0)||l,$=Vo(b);ut(t);const A=e.chain?.formatters?.transactionRequest?.format,N=(A||Ct)({...qn(w,{format:A}),account:s,accessList:a,authorizationList:c,blobs:u,blobVersionedHashes:f,data:h,gasPrice:p,maxFeePerBlobGas:g,maxFeePerGas:E,maxPriorityFeePerGas:P,nonce:x,to:i,value:y},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:$?[N,I??e.experimental_blockTag??"latest",$]:I?[N,I]:[N]}))}catch(i){throw oh(i,{...t,account:s,chain:e.chain})}}async function gh(e,t){const{abi:n,address:r,args:s,functionName:o,dataSuffix:i=typeof e.dataSuffix=="string"?e.dataSuffix:e.dataSuffix?.value,...a}=t,c=ae({abi:n,args:s,functionName:o});try{return await M(e,oi,"estimateGas")({data:`${c}${i?i.replace("0x",""):""}`,to:r,...a})}catch(u){const f=a.account?K(a.account):void 0;throw it(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:f?.address})}}async function wh(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){if(e.batch?.multicall&&e.chain?.contracts?.multicall3){const i=e.chain.contracts.multicall3.address,a=ae({abi:pt,functionName:"getEthBalance",args:[t]}),{data:c}=await M(e,Tt,"call")({to:i,data:a,blockNumber:n,blockTag:r});return Ze({abi:pt,functionName:"getEthBalance",args:[t],data:c||"0x"})}const s=typeof n=="bigint"?_(n):void 0,o=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(o)}async function vh(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}const xh=new Map,Eh=new Map;function Ph(e){const t=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:i=>o.set(s,i)}),n=t(e,xh),r=t(e,Eh);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function rf(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=Ph(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let o=r.promise.get();o||(o=e(),r.promise.set(o));try{const i=await o;return r.response.set({created:new Date,data:i}),i}finally{r.promise.clear()}}const Ih=e=>`blockNumber.${e}`;async function Gn(e,{cacheTime:t=e.cacheTime}={}){const n=await rf(()=>e.request({method:"eth_blockNumber"}),{cacheKey:Ih(e.uid),cacheTime:t});return BigInt(n)}async function Ah(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?_(n):void 0;let o;return t?o=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):o=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),Te(o)}async function vr(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?_(n):void 0,o=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(o!=="0x")return o}function gn(e,t){if(!fe(e,{strict:!1}))throw new De({address:e});if(!fe(t,{strict:!1}))throw new De({address:t});return e.toLowerCase()===t.toLowerCase()}function $e(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,blockTimestamp:e.blockTimestamp?BigInt(e.blockTimestamp):e.blockTimestamp===null?null:void 0,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}const ea="/docs/contract/decodeEventLog";function Tn(e){const{abi:t,data:n,strict:r,topics:s}=e,o=r??!0,[i,...a]=s;if(!i)throw new _a({docsPath:ea});const c=t.find(E=>E.type==="event"&&i===Zt(Ee(E)));if(!(c&&"name"in c)||c.type!=="event")throw new za(i,{docsPath:ea});const{name:u,inputs:f}=c,d=f?.some(E=>!("name"in E&&E.name)),l=d?[]:{},h=f.map((E,P)=>[E,P]).filter(([E])=>"indexed"in E&&E.indexed),m=[];for(let E=0;E<h.length;E++){const[P,x]=h[E],y=a[E];if(!y){if(o)throw new Br({abiItem:c,param:P});m.push([P,x]);continue}l[d?x:P.name||x]=$h({param:P,value:y})}const p=f.filter(E=>!("indexed"in E&&E.indexed)),g=o?p:[...m.map(([E])=>E),...p];if(g.length>0){if(n&&n!=="0x")try{const E=bn(g,n);if(E){let P=0;if(!o)for(const[x,y]of m)l[d?y:x.name||y]=E[P++];if(d)for(let x=0;x<f.length;x++)l[x]===void 0&&P<E.length&&(l[x]=E[P++]);else for(let x=0;x<p.length;x++)l[p[x].name]=E[P++]}}catch(E){if(o)throw E instanceof bo||E instanceof oc?new Pn({abiItem:c,data:n,params:g,size:q(n)}):E}else if(o)throw new Pn({abiItem:c,data:"0x",params:g,size:0})}return{eventName:u,args:Object.values(l).length>0?l:void 0}}function $h({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(bn([e],t)||[])[0]}function Gr(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,o=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})(),i=t.filter(a=>a.type==="event").map(a=>({abi:a,selector:Zt(a)}));return r.map(a=>{const c=typeof a.blockNumber=="string"?$e(a):a,u=i.filter(l=>c.topics[0]===l.selector);if(u.length===0)return null;let f,d;for(const l of u)try{f=Tn({...c,abi:[l.abi],strict:!0}),d=l;break}catch{}if(!f&&!s){d=u[0];try{f=Tn({data:c.data,topics:c.topics,abi:[d.abi],strict:!1})}catch{const l=d.abi.inputs?.some(h=>!("name"in h&&h.name));return{...c,args:l?[]:{},eventName:d.abi.name}}}return!f||!d||o&&!o.includes(f.eventName)||!Sh({args:f.args,inputs:d.abi.inputs,matchArgs:n})?null:{...f,...c}}).filter(Boolean)}function Sh(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(o,i,a){try{return o.type==="address"?gn(i,a):o.type==="string"||o.type==="bytes"?W(At(i))===a:i===a}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((o,i)=>{if(o==null)return!0;const a=n[i];return a?(Array.isArray(o)?o:[o]).some(u=>s(a,u,t[i])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([o,i])=>{if(i==null)return!0;const a=n.find(u=>u.name===o);return a?(Array.isArray(i)?i:[i]).some(u=>s(a,u,t[o])):!1}):!1}async function ii(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:o,events:i,args:a,strict:c}={}){const u=c??!1,f=i??(o?[o]:void 0);let d=[];f&&(d=[f.flatMap(p=>yn({abi:[p],eventName:p.name,args:i?void 0:a}))],o&&(d=d[0]));let l;n?l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:typeof r=="bigint"?_(r):r,toBlock:typeof s=="bigint"?_(s):s}]});const h=l.map(m=>$e(m));return f?Gr({abi:f,args:a,logs:h,strict:u}):h}async function sf(e,t){const{abi:n,address:r,args:s,blockHash:o,eventName:i,fromBlock:a,toBlock:c,strict:u}=t,f=i?ct({abi:n,name:i}):void 0,d=f?void 0:n.filter(l=>l.type==="event");return M(e,ii,"getLogs")({address:r,args:s,blockHash:o,event:f,events:d,fromBlock:a,toBlock:c,strict:u})}async function Bh(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=await vr(e,{address:t,...n!==void 0?{blockNumber:n}:{blockTag:r}});if(s&&q(s)===23&&s.startsWith("0xef0100"))return _e(rt(s,3,23))}class Ch extends S{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function Th(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[o,i,a,c,u,f,d]=await M(e,me,"readContract")({abi:Oh,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:i,version:a,chainId:Number(c),verifyingContract:u,salt:f},extensions:d,fields:o}}catch(o){const i=o;throw i.name==="ContractFunctionExecutionError"&&i.cause.name==="ContractFunctionZeroDataError"?new Ch({address:n}):i}}const Oh=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function kh(e){return{baseFeePerGas:e.baseFeePerGas.map(t=>BigInt(t)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map(t=>t.map(n=>BigInt(n)))}}async function Nh(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const o=typeof n=="bigint"?_(n):void 0,i=await e.request({method:"eth_feeHistory",params:[_(t),o||r,s]},{dedupe:!!o});return kh(i)}async function Hr(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(o=>$e(o));return!("abi"in t)||!t.abi?s:Gr({abi:t.abi,logs:s,strict:n})}async function Rh(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(o=>$e(o));return t.abi?Gr({abi:t.abi,logs:s,strict:n}):s}async function Fh({address:e,authorization:t,signature:n}){return gn(_e(e),await Ko({authorization:t,signature:n}))}const Zn=new Rn(8192);function Mh(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(Zn.get(n))return Zn.get(n);const r=e().finally(()=>Zn.delete(n));return Zn.set(n,r),r}async function xr(e){return new Promise(t=>setTimeout(t,e))}function On(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,o)=>{const i=async({count:a=0}={})=>{const c=async({error:u})=>{const f=typeof t=="function"?t({count:a,error:u}):t;f&&await xr(f),i({count:a+1})};try{const u=await e();s(u)}catch(u){if(a<n&&await r({count:a,error:u}))return c({error:u});o(u)}};i()})}function _h(e,t={}){return async(n,r={})=>{const{dedupe:s=!1,methods:o,retryDelay:i=150,retryCount:a=3,uid:c}={...t,...r},{method:u}=n;if(o?.exclude?.includes(u))throw new Qe(new Error("method not supported"),{method:u});if(o?.include&&!o.include.includes(u))throw new Qe(new Error("method not supported"),{method:u});const f=s?Ht(`${c}.${G(n)}`):void 0;return Mh(()=>On(async()=>{try{return await e(n)}catch(d){const l=d;switch(l.code){case Kt.code:throw new Kt(l);case Yt.code:throw new Yt(l);case Jt.code:throw new Jt(l,{method:n.method});case Xt.code:throw new Xt(l);case st.code:throw new st(l);case He.code:throw new He(l);case Qt.code:throw new Qt(l);case Le.code:throw new Le(l);case gt.code:throw new gt(l);case Qe.code:throw new Qe(l,{method:n.method});case wt.code:throw new wt(l);case en.code:throw new en(l);case Z.code:throw new Z(l);case tn.code:throw new tn(l);case nn.code:throw new nn(l);case rn.code:throw new rn(l);case sn.code:throw new sn(l);case ot.code:throw new ot(l);case on.code:throw new on(l);case an.code:throw new an(l);case cn.code:throw new cn(l);case un.code:throw new un(l);case fn.code:throw new fn(l);case dn.code:throw new dn(l);case ln.code:throw new ln(l);case 5e3:throw new Z(l);case hn.code:throw new hn(l);default:throw d instanceof S?d:new ru(l)}}},{delay:({count:d,error:l})=>{if(l&&l instanceof nt){const h=l?.headers?.get("Retry-After");if(h?.match(/\d/))return Number.parseInt(h,10)*1e3}return~~(1<<d)*i},retryCount:a,shouldRetry:({error:d})=>zh(d)}),{enabled:s,id:f})}}function zh(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===wt.code||e.code===st.code:e instanceof nt&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}class jh extends S{constructor({callbackSelector:t,cause:n,data:r,extraData:s,sender:o,urls:i}){super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],n.metaMessages?.length?"":[],"Offchain Gateway Call:",i&&["  Gateway URL(s):",...i.map(a=>`    ${_n(a)}`)],`  Sender: ${o}`,`  Data: ${r}`,`  Callback selector: ${t}`,`  Extra data: ${s}`].flat(),name:"OffchainLookupError"})}}class Lh extends S{constructor({result:t,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${_n(n)}`,`Response: ${G(t)}`],name:"OffchainLookupResponseMalformedError"})}}class Uh extends S{constructor({sender:t,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${t}`],name:"OffchainLookupSenderMismatchError"})}}const of="0x556f1830",ai={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function af(e,{blockNumber:t,blockTag:n,data:r,to:s}){const{args:o}=ko({data:r,abi:[ai]}),[i,a,c,u,f]=o,{ccipRead:d}=e,l=d&&typeof d?.request=="function"?d.request:Er;try{if(!gn(s,i))throw new Uh({sender:i,to:s});const h=a.includes(jn)?await eu({data:c,ccipRequest:l}):await l({data:c,sender:i,urls:a}),{data:m}=await Tt(e,{blockNumber:t,blockTag:n,data:oe([u,Ve([{type:"bytes"},{type:"bytes"}],[h,f])]),to:s});return m}catch(h){throw new jh({callbackSelector:u,cause:h,data:r,extraData:f,sender:i,urls:a})}}async function Er({data:e,sender:t,urls:n}){let r=new Error("An unknown error occurred.");for(let s=0;s<n.length;s++){const o=n[s],i=o.includes("{data}")?"GET":"POST",a=i==="POST"?{data:e,sender:t}:void 0,c=i==="POST"?{"Content-Type":"application/json"}:{};try{const u=await fetch(o.replace("{sender}",t.toLowerCase()).replace("{data}",e),{body:JSON.stringify(a),headers:c,method:i});let f;if(u.headers.get("Content-Type")?.startsWith("application/json")?f=(await u.json()).data:f=await u.text(),!u.ok){r=new nt({body:a,details:f?.error?G(f.error):u.statusText,headers:u.headers,status:u.status,url:o});continue}if(!pe(f)){r=new Lh({result:f,url:o});continue}return f}catch(u){r=new nt({body:a,details:u.message,url:o})}}throw r}const Dh=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:Er,offchainLookup:af,offchainLookupAbiItem:ai,offchainLookupSignature:of},Symbol.toStringTag,{value:"Module"}));function cf({chain:e,currentChainId:t}){if(!e)throw new Lc;if(t!==e.id)throw new jc({chain:e,currentChainId:t})}function qh(e){const t={formatters:void 0,fees:void 0,serializers:void 0,...e};function n(r){return s=>{const o=typeof s=="function"?s(r):s,i={...r,...o};return Object.assign(i,{extend:n(i)})}}return Object.assign(t,{extend:n(t)})}const Gh={"0x0":"reverted","0x1":"success"};function ci(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>$e(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Te(e.transactionIndex):null,status:e.status?Gh[e.status]:null,type:e.type?Xo[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}function ui(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,o)=>{(async()=>{let i;try{const a=new AbortController;n>0&&(i=setTimeout(()=>{r?a.abort():o(t)},n)),s(await e({signal:a?.signal||null}))}catch(a){a?.name==="AbortError"&&o(t),o(a)}finally{clearTimeout(i)}})()})}function Hh(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const ta=Hh();function Vh(e,t={}){const{url:n,headers:r}=Wh(e);return{async request(s){const{body:o,fetchFn:i=t.fetchFn??fetch,onRequest:a=t.onRequest,onResponse:c=t.onResponse,timeout:u=t.timeout??1e4}=s,f={...t.fetchOptions??{},...s.fetchOptions??{}},{headers:d,method:l,signal:h}=f;try{const m=await ui(async({signal:g})=>{const E={...f,body:Array.isArray(o)?G(o.map(b=>({jsonrpc:"2.0",id:b.id??ta.take(),...b}))):G({jsonrpc:"2.0",id:o.id??ta.take(),...o}),headers:{...r,"Content-Type":"application/json",...d},method:l||"POST",signal:h||(u>0?g:null)},P=new Request(n,E),x=await a?.(P,E)??{...E,url:n};return await i(x.url??n,x)},{errorInstance:new Zs({body:o,url:n}),timeout:u,signal:!0});c&&await c(m);let p;if(m.headers.get("Content-Type")?.startsWith("application/json"))p=await m.json();else{p=await m.text();try{p=JSON.parse(p||"{}")}catch(g){if(m.ok)throw g;p={error:p}}}if(!m.ok)throw new nt({body:o,details:G(p.error)||m.statusText,headers:m.headers,status:m.status,url:n});return p}catch(m){throw m instanceof nt||m instanceof Zs?m:new nt({body:o,cause:m,url:n})}}}}function Wh(e){try{const t=new URL(e),n=(()=>{if(t.username){const r=`${decodeURIComponent(t.username)}:${decodeURIComponent(t.password)}`;return t.username="",t.password="",{url:t.toString(),headers:{Authorization:`Basic ${btoa(r)}`}}}})();return{url:t.toString(),...n}}catch{return{url:e}}}const uf=`Ethereum Signed Message:
`;function ff(e){const t=typeof e=="string"?Ht(e):typeof e.raw=="string"?e.raw:H(e.raw),n=Ht(`${uf}${q(t)}`);return oe([n,t])}function fi(e,t){return W(ff(e),t)}class df extends S{constructor({domain:t}){super(`Invalid domain "${G(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class lf extends S{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class hf extends S{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function pf(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(c,u)=>{const f={...u};for(const d of c){const{name:l,type:h}=d;h==="address"&&(f[l]=f[l].toLowerCase())}return f},i=s.EIP712Domain?t?o(s.EIP712Domain,t):{}:{},a=(()=>{if(r!=="EIP712Domain")return o(s[r],n)})();return G({domain:i,message:a,primaryType:r,types:s})}function di(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(i,a)=>{for(const c of i){const{name:u,type:f}=c,d=a[u],l=f.match(hc);if(l&&(typeof d=="number"||typeof d=="bigint")){const[p,g,E]=l;_(d,{signed:g==="int",size:Number.parseInt(E,10)/8})}if(f==="address"&&typeof d=="string"&&!fe(d))throw new De({address:d});const h=f.match(K0);if(h){const[p,g]=h;if(g&&q(d)!==Number.parseInt(g,10))throw new La({expectedSize:Number.parseInt(g,10),givenSize:q(d)})}const m=s[f];m&&(Zh(f),o(m,d))}};if(s.EIP712Domain&&t){if(typeof t!="object")throw new df({domain:t});o(s.EIP712Domain,t)}if(r!=="EIP712Domain")if(s[r])o(s[r],n);else throw new lf({primaryType:r,types:s})}function li({domain:e}){return[typeof e?.name=="string"&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},(typeof e?.chainId=="number"||typeof e?.chainId=="bigint")&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function Zh(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new hf({type:e})}function bf(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:li({domain:t}),...e.types};di({domain:t,message:n,primaryType:r,types:s});const o=["0x1901"];return t&&o.push(mf({domain:t,types:s})),r!=="EIP712Domain"&&o.push(hi({data:n,primaryType:r,types:s})),W(oe(o))}function mf({domain:e,types:t}){return hi({data:e,primaryType:"EIP712Domain",types:t})}function hi({data:e,primaryType:t,types:n}){const r=yf({data:e,primaryType:t,types:n});return W(r)}function yf({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[Kh({primaryType:t,types:n})];for(const o of n[t]){const[i,a]=wf({types:n,name:o.name,type:o.type,value:e[o.name]});r.push(i),s.push(a)}return Ve(r,s)}function Kh({primaryType:e,types:t}){const n=qe(Yh({primaryType:e,types:t}));return W(n)}function Yh({primaryType:e,types:t}){let n="";const r=gf({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const o of s)n+=`${o}(${t[o].map(({name:i,type:a})=>`${a} ${i}`).join(",")})`;return n}function gf({primaryType:e,types:t},n=new Set){const s=e.match(/^\w*/u)?.[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const o of t[s])gf({primaryType:o.type,types:t},n);return n}function wf({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},W(yf({data:r,primaryType:n,types:e}))];if(n==="bytes")return[{type:"bytes32"},W(r)];if(n==="string")return[{type:"bytes32"},W(qe(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),o=r.map(i=>wf({name:t,type:s,types:e,value:i}));return[{type:"bytes32"},W(Ve(o.map(([i])=>i),o.map(([,i])=>i)))]}return[{type:n},r]}class Jh extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Xh={checksum:new Jh(8192)},ps=Xh.checksum;class vf extends Eo{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,C0(t);const r=Tr(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?t.create().update(r).digest():r);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),Wt(o)}update(t){return Vt(this),this.iHash.update(t),this}digestInto(t){Vt(this),mt(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:o,blockLen:i,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=o,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const xf=(e,t,n)=>new vf(e,t).update(n).digest();xf.create=(e,t)=>new vf(e,t);function Ef(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=sc(ll(e));return n==="Bytes"?r:Ae(r)}const Qh=/^0x[a-fA-F0-9]{40}$/;function Vr(e,t={}){const{strict:n=!0}=t;if(!Qh.test(e))throw new na({address:e,cause:new ep});if(n){if(e.toLowerCase()===e)return;if(Pf(e)!==e)throw new na({address:e,cause:new tp})}}function Pf(e){if(ps.has(e))return ps.get(e);Vr(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=Ef(pl(t),{as:"Bytes"}),r=t.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&r[o]&&(r[o]=r[o].toUpperCase()),(n[o>>1]&15)>=8&&r[o+1]&&(r[o+1]=r[o+1].toUpperCase());const s=`0x${r.join("")}`;return ps.set(e,s),s}function Xs(e,t={}){const{strict:n=!0}=t??{};try{return Vr(e,{strict:n}),!0}catch{return!1}}class na extends L{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class ep extends L{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class tp extends L{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const np=/^(.*)\[([0-9]*)\]$/,rp=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,If=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,ra=2n**256n-1n;function qt(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=mi(t.type);if(o){const[i,a]=o;return op(e,{...t,type:a},{checksumAddress:r,length:i,staticPosition:s})}if(t.type==="tuple")return up(e,t,{checksumAddress:r,staticPosition:s});if(t.type==="address")return sp(e,{checksum:r});if(t.type==="bool")return ip(e);if(t.type.startsWith("bytes"))return ap(e,t,{staticPosition:s});if(t.type.startsWith("uint")||t.type.startsWith("int"))return cp(e,t);if(t.type==="string")return fp(e,{staticPosition:s});throw new gi(t.type)}const sa=32,Qs=32;function sp(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(o=>n?Pf(o):o)(Ae(ml(r,-20))),32]}function op(e,t,n){const{checksumAddress:r,length:s,staticPosition:o}=n;if(!s){const c=Ue(e.readBytes(Qs)),u=o+c,f=u+sa;e.setPosition(u);const d=Ue(e.readBytes(sa)),l=kn(t);let h=0;const m=[];for(let p=0;p<d;++p){e.setPosition(f+(l?p*32:h));const[g,E]=qt(e,t,{checksumAddress:r,staticPosition:f});h+=E,m.push(g)}return e.setPosition(o+32),[m,32]}if(kn(t)){const c=Ue(e.readBytes(Qs)),u=o+c,f=[];for(let d=0;d<s;++d){e.setPosition(u+d*32);const[l]=qt(e,t,{checksumAddress:r,staticPosition:u});f.push(l)}return e.setPosition(o+32),[f,32]}let i=0;const a=[];for(let c=0;c<s;++c){const[u,f]=qt(e,t,{checksumAddress:r,staticPosition:o+i});i+=f,a.push(u)}return[a,i]}function ip(e){return[gl(e.readBytes(32),{size:32}),32]}function ap(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=Ue(e.readBytes(32));e.setPosition(n+i);const a=Ue(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[Ae(c),32]}return[Ae(e.readBytes(Number.parseInt(s,10),32)),32]}function cp(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?yl(s,{signed:n}):Ue(s,{signed:n}),32]}function up(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=t.components.length===0||t.components.some(({name:c})=>!c),i=o?[]:{};let a=0;if(kn(t)){const c=Ue(e.readBytes(Qs)),u=s+c;for(let f=0;f<t.components.length;++f){const d=t.components[f];e.setPosition(u+a);const[l,h]=qt(e,d,{checksumAddress:r,staticPosition:u});a+=h,i[o?f:d?.name]=l}return e.setPosition(s+32),[i,32]}for(let c=0;c<t.components.length;++c){const u=t.components[c],[f,d]=qt(e,u,{checksumAddress:r,staticPosition:s});i[o?c:u?.name]=f,a+=d}return[i,a]}function fp(e,{staticPosition:t}){const n=Ue(e.readBytes(32)),r=t+n;e.setPosition(r);const s=Ue(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=wl(pu(o));return e.setPosition(t+32),[i,32]}function dp({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(pi({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function pi({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=mi(r.type);if(s){const[o,i]=s;return hp(n,{checksumAddress:e,length:o,parameter:{...r,type:i}})}if(r.type==="tuple")return gp(n,{checksumAddress:e,parameter:r});if(r.type==="address")return lp(n,{checksum:e});if(r.type==="bool")return bp(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const o=r.type.startsWith("int"),[,,i="256"]=If.exec(r.type)??[];return mp(n,{signed:o,size:Number(i)})}if(r.type.startsWith("bytes"))return pp(n,{type:r.type});if(r.type==="string")return yp(n);throw new gi(r.type)}function bi(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=de(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(J(t+s,{size:32})),r.push(a),s+=de(a)):n.push(a)}return Ie(...n,...r)}function lp(e,t){const{checksum:n=!1}=t;return Vr(e,{strict:n}),{dynamic:!1,encoded:vt(e.toLowerCase())}}function hp(e,t){const{checksumAddress:n,length:r,parameter:s}=t,o=r===null;if(!Array.isArray(e))throw new Sp(e);if(!o&&e.length!==r)throw new $p({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let i=!1;const a=[];for(let c=0;c<e.length;c++){const u=pi({checksumAddress:n,parameter:s,value:e[c]});u.dynamic&&(i=!0),a.push(u)}if(o||i){const c=bi(a);if(o){const u=J(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?Ie(u,c):u}}if(i)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:Ie(...a.map(({encoded:c})=>c))}}function pp(e,{type:t}){const[,n]=t.split("bytes"),r=de(e);if(!n){let s=e;return r%32!==0&&(s=xt(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:Ie(vt(J(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new $f({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:xt(e)}}function bp(e){if(typeof e!="boolean")throw new L(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:vt(bu(e))}}function mp(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new gu({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:J(e,{size:32,signed:t})}}function yp(e){const t=qo(e),n=Math.ceil(de(t)/32),r=[];for(let s=0;s<n;s++)r.push(xt(Ce(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:Ie(xt(J(de(t),{size:32})),...r)}}function gp(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const o=[];for(let i=0;i<r.components.length;i++){const a=r.components[i],c=Array.isArray(e)?i:a.name,u=pi({checksumAddress:n,parameter:a,value:e[c]});o.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?bi(o):Ie(...o.map(({encoded:i})=>i))}}function mi(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function kn(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(kn);const n=mi(e.type);return!!(n&&kn({...e,type:n[1]}))}const wp={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Ep({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new xp({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new oa({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new oa({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function vp(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(wp);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class oa extends L{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class xp extends L{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class Ep extends L{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function Pp(e,t,n={}){const{as:r="Array",checksumAddress:s=!1}=n,o=typeof t=="string"?hu(t):t,i=vp(o);if(jt(o)===0&&e.length>0)throw new Ap;if(jt(o)&&jt(o)<32)throw new Ip({data:typeof t=="string"?t:Ae(t),parameters:e,size:jt(o)});let a=0;const c=r==="Array"?[]:{};for(let u=0;u<e.length;++u){const f=e[u];i.setPosition(a);const[d,l]=qt(i,f,{checksumAddress:s,staticPosition:0});a+=l,r==="Array"?c.push(d):c[f.name??u]=d}return c}function yi(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new Sf({expectedLength:e.length,givenLength:t.length});const s=dp({checksumAddress:r,parameters:e,values:t}),o=bi(s);return o.length===0?"0x":o}function eo(e,t){if(e.length!==t.length)throw new Sf({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],o=t[r];n.push(eo.encode(s,o))}return Ie(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const c=r;return Vr(c),vt(c.toLowerCase(),s?32:0)}if(n==="string")return qo(r);if(n==="bytes")return r;if(n==="bool")return vt(bu(r),s?32:1);const o=n.match(If);if(o){const[c,u,f="256"]=o,d=Number.parseInt(f,10)/8;return J(r,{size:s?32:d,signed:u==="int"})}const i=n.match(rp);if(i){const[c,u]=i;if(Number.parseInt(u,10)!==(r.length-2)/2)throw new $f({expectedSize:Number.parseInt(u,10),value:r});return xt(r,s?32:0)}const a=n.match(np);if(a&&Array.isArray(r)){const[c,u]=a,f=[];for(let d=0;d<r.length;d++)f.push(t(u,r[d],!0));return f.length===0?"0x":Ie(...f)}throw new gi(n)}e.encode=t})(eo||(eo={}));function Af(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?Hs(e):e}class Ip extends L{constructor({data:t,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${_t(n)})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class Ap extends L{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class $p extends L{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class $f extends L{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${de(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class Sf extends L{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class Sp extends L{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class gi extends L{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}const se=BigInt(0),Q=BigInt(1),lt=BigInt(2),Bp=BigInt(3),Bf=BigInt(4),Cf=BigInt(5),Tf=BigInt(8);function re(e,t){const n=e%t;return n>=se?n:t+n}function le(e,t,n){let r=e;for(;t-- >se;)r*=r,r%=n;return r}function to(e,t){if(e===se)throw new Error("invert: expected non-zero number");if(t<=se)throw new Error("invert: expected positive modulus, got "+t);let n=re(e,t),r=t,s=se,o=Q;for(;n!==se;){const a=r/n,c=r%n,u=s-o*a;r=n,n=c,s=o,o=u}if(r!==Q)throw new Error("invert: does not exist");return re(s,t)}function Of(e,t){const n=(e.ORDER+Q)/Bf,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function Cp(e,t){const n=(e.ORDER-Cf)/Tf,r=e.mul(t,lt),s=e.pow(r,n),o=e.mul(t,s),i=e.mul(e.mul(o,lt),s),a=e.mul(o,e.sub(i,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function Tp(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-Q,n=0;for(;t%lt===se;)t/=lt,n++;let r=lt;const s=wi(e);for(;ia(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Of;let o=s.pow(r,t);const i=(t+Q)/lt;return function(c,u){if(c.is0(u))return u;if(ia(c,u)!==1)throw new Error("Cannot find square root");let f=n,d=c.mul(c.ONE,o),l=c.pow(u,t),h=c.pow(u,i);for(;!c.eql(l,c.ONE);){if(c.is0(l))return c.ZERO;let m=1,p=c.sqr(l);for(;!c.eql(p,c.ONE);)if(m++,p=c.sqr(p),m===f)throw new Error("Cannot find square root");const g=Q<<BigInt(f-m-1),E=c.pow(d,g);f=m,d=c.sqr(E),l=c.mul(l,d),h=c.mul(h,E)}return h}}function Op(e){return e%Bf===Bp?Of:e%Tf===Cf?Cp:Tp(e)}const kp=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Np(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=kp.reduce((r,s)=>(r[s]="function",r),t);return Fr(e,n)}function Rp(e,t,n){if(n<se)throw new Error("invalid exponent, negatives unsupported");if(n===se)return e.ONE;if(n===Q)return t;let r=e.ONE,s=t;for(;n>se;)n&Q&&(r=e.mul(r,s)),s=e.sqr(s),n>>=Q;return r}function kf(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((i,a,c)=>e.is0(a)?i:(r[c]=i,e.mul(i,a)),e.ONE),o=e.inv(s);return t.reduceRight((i,a,c)=>e.is0(a)?i:(r[c]=e.mul(i,r[c]),e.mul(i,a)),o),r}function ia(e,t){const n=(e.ORDER-Q)/lt,r=e.pow(t,n),s=e.eql(r,e.ONE),o=e.eql(r,e.ZERO),i=e.eql(r,e.neg(e.ONE));if(!s&&!o&&!i)throw new Error("invalid Legendre symbol result");return s?1:o?0:-1}function Nf(e,t){t!==void 0&&In(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function wi(e,t,n=!1,r={}){if(e<=se)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:o}=Nf(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let i;const a=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:o,MASK:Rr(s),ZERO:se,ONE:Q,create:c=>re(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return se<=c&&c<e},is0:c=>c===se,isOdd:c=>(c&Q)===Q,neg:c=>re(-c,e),eql:(c,u)=>c===u,sqr:c=>re(c*c,e),add:(c,u)=>re(c+u,e),sub:(c,u)=>re(c-u,e),mul:(c,u)=>re(c*u,e),pow:(c,u)=>Rp(a,c,u),div:(c,u)=>re(c*to(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>to(c,e),sqrt:r.sqrt||(c=>(i||(i=Op(e)),i(a,c))),toBytes:c=>n?cu(c,o):Un(c,o),fromBytes:c=>{if(c.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+c.length);return n?au(c):ht(c)},invertBatch:c=>kf(a,c),cmov:(c,u,f)=>f?u:c});return Object.freeze(a)}function Rf(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Ff(e){const t=Rf(e);return t+Math.ceil(t/2)}function Fp(e,t,n=!1){const r=e.length,s=Rf(t),o=Ff(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const i=n?au(e):ht(e),a=re(i,t-Q)+Q;return n?cu(a,s):Un(a,s)}const aa=BigInt(0),no=BigInt(1);function bs(e,t){const n=t.negate();return e?n:t}function Mf(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function ms(e,t){Mf(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,o=Rr(e),i=BigInt(e);return{windows:n,windowSize:r,mask:o,maxNumber:s,shiftBy:i}}function ca(e,t,n){const{windowSize:r,mask:s,maxNumber:o,shiftBy:i}=n;let a=Number(e&s),c=e>>i;a>r&&(a-=o,c+=no);const u=t*r,f=u+Math.abs(a)-1,d=a===0,l=a<0,h=t%2!==0;return{nextN:c,offset:f,isZero:d,isNeg:l,isNegF:h,offsetF:u}}function Mp(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function _p(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const ys=new WeakMap,_f=new WeakMap;function gs(e){return _f.get(e)||1}function zp(e,t){return{constTimeNegate:bs,hasPrecomputes(n){return gs(n)!==1},unsafeLadder(n,r,s=e.ZERO){let o=n;for(;r>aa;)r&no&&(s=s.add(o)),o=o.double(),r>>=no;return s},precomputeWindow(n,r){const{windows:s,windowSize:o}=ms(r,t),i=[];let a=n,c=a;for(let u=0;u<s;u++){c=a,i.push(c);for(let f=1;f<o;f++)c=c.add(a),i.push(c);a=c.double()}return i},wNAF(n,r,s){let o=e.ZERO,i=e.BASE;const a=ms(n,t);for(let c=0;c<a.windows;c++){const{nextN:u,offset:f,isZero:d,isNeg:l,isNegF:h,offsetF:m}=ca(s,c,a);s=u,d?i=i.add(bs(h,r[m])):o=o.add(bs(l,r[f]))}return{p:o,f:i}},wNAFUnsafe(n,r,s,o=e.ZERO){const i=ms(n,t);for(let a=0;a<i.windows&&s!==aa;a++){const{nextN:c,offset:u,isZero:f,isNeg:d}=ca(s,a,i);if(s=c,!f){const l=r[u];o=o.add(d?l.negate():l)}}return o},getPrecomputes(n,r,s){let o=ys.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&ys.set(r,s(o))),o},wNAFCached(n,r,s){const o=gs(n);return this.wNAF(o,this.getPrecomputes(o,n,s),r)},wNAFCachedUnsafe(n,r,s,o){const i=gs(n);return i===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(i,this.getPrecomputes(i,n,s),r,o)},setWindowSize(n,r){Mf(r,t),_f.set(n,r),ys.delete(n)}}}function jp(e,t,n,r){Mp(n,e),_p(r,t);const s=n.length,o=r.length;if(s!==o)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,a=tl(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=Rr(c),f=new Array(Number(u)+1).fill(i),d=Math.floor((t.BITS-1)/c)*c;let l=i;for(let h=d;h>=0;h-=c){f.fill(i);for(let p=0;p<o;p++){const g=r[p],E=Number(g>>BigInt(h)&u);f[E]=f[E].add(n[p])}let m=i;for(let p=f.length-1,g=i;p>0;p--)g=g.add(f[p]),m=m.add(g);if(l=l.add(m),h!==0)for(let p=0;p<c;p++)l=l.double()}return l}function zf(e){return Np(e.Fp),Fr(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Nf(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function ua(e){e.lowS!==void 0&&$n("lowS",e.lowS),e.prehash!==void 0&&$n("prehash",e.prehash)}function Lp(e){const t=zf(e);Fr(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class Up extends Error{constructor(t=""){super(t)}}const Fe={Err:Up,_tlv:{encode:(e,t)=>{const{Err:n}=Fe;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=Wn(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?Wn(s.length/2|128):"";return Wn(e)+o+s+t},decode(e,t){const{Err:n}=Fe;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],o=!!(s&128);let i=0;if(!o)i=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of u)i=i<<8|f;if(r+=c,i<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+i);if(a.length!==i)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+i)}}},_int:{encode(e){const{Err:t}=Fe;if(e<Me)throw new t("integer: negative integers are not allowed");let n=Wn(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Fe;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return ht(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Fe,s=he("signature",e),{v:o,l:i}=r.decode(48,s);if(i.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,o),{v:u,l:f}=r.decode(2,c);if(f.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=Fe,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),o=r+s;return t.encode(48,o)}};function ws(e,t){return Sn(Un(e,t))}const Me=BigInt(0),V=BigInt(1);BigInt(2);const vs=BigInt(3),Dp=BigInt(4);function qp(e){const t=Lp(e),{Fp:n}=t,r=wi(t.n,t.nBitLength),s=t.toBytes||((x,y,b)=>{const w=y.toAffine();return dr(Uint8Array.from([4]),n.toBytes(w.x),n.toBytes(w.y))}),o=t.fromBytes||(x=>{const y=x.subarray(1),b=n.fromBytes(y.subarray(0,n.BYTES)),w=n.fromBytes(y.subarray(n.BYTES,2*n.BYTES));return{x:b,y:w}});function i(x){const{a:y,b}=t,w=n.sqr(x),v=n.mul(w,x);return n.add(n.add(v,n.mul(x,y)),b)}function a(x,y){const b=n.sqr(y),w=i(x);return n.eql(b,w)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,vs),Dp),u=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,u)))throw new Error("bad curve params: a or b");function f(x){return Do(x,V,t.n)}function d(x){const{allowedPrivateKeyLengths:y,nByteLength:b,wrapPrivateKey:w,n:v}=t;if(y&&typeof x!="bigint"){if(Ln(x)&&(x=Sn(x)),typeof x!="string"||!y.includes(x.length))throw new Error("invalid private key");x=x.padStart(b*2,"0")}let I;try{I=typeof x=="bigint"?x:ht(he("private key",x,b))}catch{throw new Error("invalid private key, expected hex or "+b+" bytes, got "+typeof x)}return w&&(I=re(I,v)),Dt("private key",I,V,v),I}function l(x){if(!(x instanceof p))throw new Error("ProjectivePoint expected")}const h=Di((x,y)=>{const{px:b,py:w,pz:v}=x;if(n.eql(v,n.ONE))return{x:b,y:w};const I=x.is0();y==null&&(y=I?n.ONE:n.inv(v));const $=n.mul(b,y),A=n.mul(w,y),B=n.mul(v,y);if(I)return{x:n.ZERO,y:n.ZERO};if(!n.eql(B,n.ONE))throw new Error("invZ was invalid");return{x:$,y:A}}),m=Di(x=>{if(x.is0()){if(t.allowInfinityPoint&&!n.is0(x.py))return;throw new Error("bad point: ZERO")}const{x:y,y:b}=x.toAffine();if(!n.isValid(y)||!n.isValid(b))throw new Error("bad point: x or y not FE");if(!a(y,b))throw new Error("bad point: equation left != right");if(!x.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class p{constructor(y,b,w){if(y==null||!n.isValid(y))throw new Error("x required");if(b==null||!n.isValid(b)||n.is0(b))throw new Error("y required");if(w==null||!n.isValid(w))throw new Error("z required");this.px=y,this.py=b,this.pz=w,Object.freeze(this)}static fromAffine(y){const{x:b,y:w}=y||{};if(!y||!n.isValid(b)||!n.isValid(w))throw new Error("invalid affine point");if(y instanceof p)throw new Error("projective point not allowed");const v=I=>n.eql(I,n.ZERO);return v(b)&&v(w)?p.ZERO:new p(b,w,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const b=kf(n,y.map(w=>w.pz));return y.map((w,v)=>w.toAffine(b[v])).map(p.fromAffine)}static fromHex(y){const b=p.fromAffine(o(he("pointHex",y)));return b.assertValidity(),b}static fromPrivateKey(y){return p.BASE.multiply(d(y))}static msm(y,b){return jp(p,r,y,b)}_setWindowSize(y){P.setWindowSize(this,y)}assertValidity(){m(this)}hasEvenY(){const{y}=this.toAffine();if(n.isOdd)return!n.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){l(y);const{px:b,py:w,pz:v}=this,{px:I,py:$,pz:A}=y,B=n.eql(n.mul(b,A),n.mul(I,v)),N=n.eql(n.mul(w,A),n.mul($,v));return B&&N}negate(){return new p(this.px,n.neg(this.py),this.pz)}double(){const{a:y,b}=t,w=n.mul(b,vs),{px:v,py:I,pz:$}=this;let A=n.ZERO,B=n.ZERO,N=n.ZERO,k=n.mul(v,v),z=n.mul(I,I),T=n.mul($,$),C=n.mul(v,I);return C=n.add(C,C),N=n.mul(v,$),N=n.add(N,N),A=n.mul(y,N),B=n.mul(w,T),B=n.add(A,B),A=n.sub(z,B),B=n.add(z,B),B=n.mul(A,B),A=n.mul(C,A),N=n.mul(w,N),T=n.mul(y,T),C=n.sub(k,T),C=n.mul(y,C),C=n.add(C,N),N=n.add(k,k),k=n.add(N,k),k=n.add(k,T),k=n.mul(k,C),B=n.add(B,k),T=n.mul(I,$),T=n.add(T,T),k=n.mul(T,C),A=n.sub(A,k),N=n.mul(T,z),N=n.add(N,N),N=n.add(N,N),new p(A,B,N)}add(y){l(y);const{px:b,py:w,pz:v}=this,{px:I,py:$,pz:A}=y;let B=n.ZERO,N=n.ZERO,k=n.ZERO;const z=t.a,T=n.mul(t.b,vs);let C=n.mul(b,I),F=n.mul(w,$),O=n.mul(v,A),R=n.add(b,w),j=n.add(I,$);R=n.mul(R,j),j=n.add(C,F),R=n.sub(R,j),j=n.add(b,v);let U=n.add(I,A);return j=n.mul(j,U),U=n.add(C,O),j=n.sub(j,U),U=n.add(w,v),B=n.add($,A),U=n.mul(U,B),B=n.add(F,O),U=n.sub(U,B),k=n.mul(z,j),B=n.mul(T,O),k=n.add(B,k),B=n.sub(F,k),k=n.add(F,k),N=n.mul(B,k),F=n.add(C,C),F=n.add(F,C),O=n.mul(z,O),j=n.mul(T,j),F=n.add(F,O),O=n.sub(C,O),O=n.mul(z,O),j=n.add(j,O),C=n.mul(F,j),N=n.add(N,C),C=n.mul(U,j),B=n.mul(R,B),B=n.sub(B,C),C=n.mul(R,F),k=n.mul(U,k),k=n.add(k,C),new p(B,N,k)}subtract(y){return this.add(y.negate())}is0(){return this.equals(p.ZERO)}wNAF(y){return P.wNAFCached(this,y,p.normalizeZ)}multiplyUnsafe(y){const{endo:b,n:w}=t;Dt("scalar",y,Me,w);const v=p.ZERO;if(y===Me)return v;if(this.is0()||y===V)return this;if(!b||P.hasPrecomputes(this))return P.wNAFCachedUnsafe(this,y,p.normalizeZ);let{k1neg:I,k1:$,k2neg:A,k2:B}=b.splitScalar(y),N=v,k=v,z=this;for(;$>Me||B>Me;)$&V&&(N=N.add(z)),B&V&&(k=k.add(z)),z=z.double(),$>>=V,B>>=V;return I&&(N=N.negate()),A&&(k=k.negate()),k=new p(n.mul(k.px,b.beta),k.py,k.pz),N.add(k)}multiply(y){const{endo:b,n:w}=t;Dt("scalar",y,V,w);let v,I;if(b){const{k1neg:$,k1:A,k2neg:B,k2:N}=b.splitScalar(y);let{p:k,f:z}=this.wNAF(A),{p:T,f:C}=this.wNAF(N);k=P.constTimeNegate($,k),T=P.constTimeNegate(B,T),T=new p(n.mul(T.px,b.beta),T.py,T.pz),v=k.add(T),I=z.add(C)}else{const{p:$,f:A}=this.wNAF(y);v=$,I=A}return p.normalizeZ([v,I])[0]}multiplyAndAddUnsafe(y,b,w){const v=p.BASE,I=(A,B)=>B===Me||B===V||!A.equals(v)?A.multiplyUnsafe(B):A.multiply(B),$=I(this,b).add(I(y,w));return $.is0()?void 0:$}toAffine(y){return h(this,y)}isTorsionFree(){const{h:y,isTorsionFree:b}=t;if(y===V)return!0;if(b)return b(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:b}=t;return y===V?this:b?b(p,this):this.multiplyUnsafe(t.h)}toRawBytes(y=!0){return $n("isCompressed",y),this.assertValidity(),s(p,this,y)}toHex(y=!0){return $n("isCompressed",y),Sn(this.toRawBytes(y))}}p.BASE=new p(t.Gx,t.Gy,n.ONE),p.ZERO=new p(n.ZERO,n.ONE,n.ZERO);const{endo:g,nBitLength:E}=t,P=zp(p,g?Math.ceil(E/2):E);return{CURVE:t,ProjectivePoint:p,normPrivateKeyToScalar:d,weierstrassEquation:i,isWithinCurveOrder:f}}function Gp(e){const t=zf(e);return Fr(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Hp(e){const t=Gp(e),{Fp:n,n:r,nByteLength:s,nBitLength:o}=t,i=n.BYTES+1,a=2*n.BYTES+1;function c(T){return re(T,r)}function u(T){return to(T,r)}const{ProjectivePoint:f,normPrivateKeyToScalar:d,weierstrassEquation:l,isWithinCurveOrder:h}=qp({...t,toBytes(T,C,F){const O=C.toAffine(),R=n.toBytes(O.x),j=dr;return $n("isCompressed",F),F?j(Uint8Array.from([C.hasEvenY()?2:3]),R):j(Uint8Array.from([4]),R,n.toBytes(O.y))},fromBytes(T){const C=T.length,F=T[0],O=T.subarray(1);if(C===i&&(F===2||F===3)){const R=ht(O);if(!Do(R,V,n.ORDER))throw new Error("Point is not on curve");const j=l(R);let U;try{U=n.sqrt(j)}catch(ne){const Y=ne instanceof Error?": "+ne.message:"";throw new Error("Point is not on curve"+Y)}const D=(U&V)===V;return(F&1)===1!==D&&(U=n.neg(U)),{x:R,y:U}}else if(C===a&&F===4){const R=n.fromBytes(O.subarray(0,n.BYTES)),j=n.fromBytes(O.subarray(n.BYTES,2*n.BYTES));return{x:R,y:j}}else{const R=i,j=a;throw new Error("invalid Point, expected length of "+R+", or uncompressed "+j+", got "+C)}}});function m(T){const C=r>>V;return T>C}function p(T){return m(T)?c(-T):T}const g=(T,C,F)=>ht(T.slice(C,F));class E{constructor(C,F,O){Dt("r",C,V,r),Dt("s",F,V,r),this.r=C,this.s=F,O!=null&&(this.recovery=O),Object.freeze(this)}static fromCompact(C){const F=s;return C=he("compactSignature",C,F*2),new E(g(C,0,F),g(C,F,2*F))}static fromDER(C){const{r:F,s:O}=Fe.toSig(he("DER",C));return new E(F,O)}assertValidity(){}addRecoveryBit(C){return new E(this.r,this.s,C)}recoverPublicKey(C){const{r:F,s:O,recovery:R}=this,j=v(he("msgHash",C));if(R==null||![0,1,2,3].includes(R))throw new Error("recovery id invalid");const U=R===2||R===3?F+t.n:F;if(U>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const D=(R&1)===0?"02":"03",we=f.fromHex(D+ws(U,n.BYTES)),ne=u(U),Y=c(-j*ne),Ot=c(O*ne),Ye=f.BASE.multiplyAndAddUnsafe(we,Y,Ot);if(!Ye)throw new Error("point at infinify");return Ye.assertValidity(),Ye}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return fr(this.toDERHex())}toDERHex(){return Fe.hexFromSig(this)}toCompactRawBytes(){return fr(this.toCompactHex())}toCompactHex(){const C=s;return ws(this.r,C)+ws(this.s,C)}}const P={isValidPrivateKey(T){try{return d(T),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const T=Ff(t.n);return Fp(t.randomBytes(T),t.n)},precompute(T=8,C=f.BASE){return C._setWindowSize(T),C.multiply(BigInt(3)),C}};function x(T,C=!0){return f.fromPrivateKey(T).toRawBytes(C)}function y(T){if(typeof T=="bigint")return!1;if(T instanceof f)return!0;const F=he("key",T).length,O=n.BYTES,R=O+1,j=2*O+1;if(!(t.allowedPrivateKeyLengths||s===R))return F===R||F===j}function b(T,C,F=!0){if(y(T)===!0)throw new Error("first arg must be private key");if(y(C)===!1)throw new Error("second arg must be public key");return f.fromHex(C).multiply(d(T)).toRawBytes(F)}const w=t.bits2int||function(T){if(T.length>8192)throw new Error("input is too large");const C=ht(T),F=T.length*8-o;return F>0?C>>BigInt(F):C},v=t.bits2int_modN||function(T){return c(w(T))},I=Rr(o);function $(T){return Dt("num < 2^"+o,T,Me,I),Un(T,s)}function A(T,C,F=B){if(["recovered","canonical"].some(ft=>ft in F))throw new Error("sign() legacy options not supported");const{hash:O,randomBytes:R}=t;let{lowS:j,prehash:U,extraEntropy:D}=F;j==null&&(j=!0),T=he("msgHash",T),ua(F),U&&(T=he("prehashed msgHash",O(T)));const we=v(T),ne=d(C),Y=[$(ne),$(we)];if(D!=null&&D!==!1){const ft=D===!0?R(n.BYTES):D;Y.push(he("extraEntropy",ft))}const Ot=dr(...Y),Ye=we;function Qr(ft){const kt=w(ft);if(!h(kt))return;const es=u(kt),wn=f.BASE.multiply(kt).toAffine(),dt=c(wn.x);if(dt===Me)return;const vn=c(es*c(Ye+dt*ne));if(vn===Me)return;let Nt=(wn.x===dt?0:2)|Number(wn.y&V),Ii=vn;return j&&m(vn)&&(Ii=p(vn),Nt^=1),new E(dt,Ii,Nt)}return{seed:Ot,k2sig:Qr}}const B={lowS:t.lowS,prehash:!1},N={lowS:t.lowS,prehash:!1};function k(T,C,F=B){const{seed:O,k2sig:R}=A(T,C,F),j=t;return nl(j.hash.outputLen,j.nByteLength,j.hmac)(O,R)}f.BASE._setWindowSize(8);function z(T,C,F,O=N){const R=T;C=he("msgHash",C),F=he("publicKey",F);const{lowS:j,prehash:U,format:D}=O;if(ua(O),"strict"in O)throw new Error("options.strict was renamed to lowS");if(D!==void 0&&D!=="compact"&&D!=="der")throw new Error("format must be compact or der");const we=typeof R=="string"||Ln(R),ne=!we&&!D&&typeof R=="object"&&R!==null&&typeof R.r=="bigint"&&typeof R.s=="bigint";if(!we&&!ne)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Y,Ot;try{if(ne&&(Y=new E(R.r,R.s)),we){try{D!=="compact"&&(Y=E.fromDER(R))}catch(Nt){if(!(Nt instanceof Fe.Err))throw Nt}!Y&&D!=="der"&&(Y=E.fromCompact(R))}Ot=f.fromHex(F)}catch{return!1}if(!Y||j&&Y.hasHighS())return!1;U&&(C=t.hash(C));const{r:Ye,s:Qr}=Y,ft=v(C),kt=u(Qr),es=c(ft*kt),wn=c(Ye*kt),dt=f.BASE.multiplyAndAddUnsafe(Ot,es,wn)?.toAffine();return dt?c(dt.x)===Ye:!1}return{CURVE:t,getPublicKey:x,getSharedSecret:b,sign:k,verify:z,ProjectivePoint:f,Signature:E,utils:P}}function Vp(e){return{hash:e,hmac:(t,...n)=>xf(e,t,F0(...n)),randomBytes:M0}}function Wp(e,t){const n=r=>Hp({...e,...Vp(r)});return{...n(t),create:n}}const jf=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),fa=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Zp=BigInt(0),Kp=BigInt(1),ro=BigInt(2),da=(e,t)=>(e+t/ro)/t;function Yp(e){const t=jf,n=BigInt(3),r=BigInt(6),s=BigInt(11),o=BigInt(22),i=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,f=u*u*e%t,d=le(f,n,t)*f%t,l=le(d,n,t)*f%t,h=le(l,ro,t)*u%t,m=le(h,s,t)*h%t,p=le(m,o,t)*m%t,g=le(p,a,t)*p%t,E=le(g,c,t)*g%t,P=le(E,a,t)*p%t,x=le(P,n,t)*f%t,y=le(x,i,t)*m%t,b=le(y,r,t)*u%t,w=le(b,ro,t);if(!so.eql(so.sqr(w),e))throw new Error("Cannot find square root");return w}const so=wi(jf,void 0,void 0,{sqrt:Yp}),Lf=Wp({a:Zp,b:BigInt(7),Fp:so,n:fa,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=fa,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Kp*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,i=BigInt("0x100000000000000000000000000000000"),a=da(o*e,t),c=da(-r*e,t);let u=re(e-a*n-c*s,t),f=re(-a*r-c*o,t);const d=u>i,l=f>i;if(d&&(u=t-u),l&&(f=t-f),u>i||f>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:l,k2:f}}}},Hu),Jp=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:Lf},Symbol.toStringTag,{value:"Module"}));function Uf(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new xs({signature:e});if(typeof e.s>"u")throw new xs({signature:e});if(n&&typeof e.yParity>"u")throw new xs({signature:e});if(e.r<0n||e.r>ra)throw new s1({value:e.r});if(e.s<0n||e.s>ra)throw new o1({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new xi({value:e.yParity})}function Xp(e){return Df(Ae(e))}function Df(e){if(e.length!==130&&e.length!==132)throw new r1({signature:e});const t=BigInt(Ce(e,0,32)),n=BigInt(Ce(e,32,64)),r=(()=>{const s=+`0x${e.slice(130)}`;if(!Number.isNaN(s))try{return vi(s)}catch{throw new xi({value:s})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function Qp(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return e1(e)}function e1(e){const t=typeof e=="string"?Df(e):e instanceof Uint8Array?Xp(e):typeof e.r=="string"?n1(e):e.v?t1(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return Uf(t),t}function t1(e){return{r:e.r,s:e.s,yParity:vi(e.v)}}function n1(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let r=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=vi(n)),typeof r!="number")throw new xi({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function vi(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new i1({value:e})}class r1 extends L{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${de(Sl(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class xs extends L{constructor({signature:t}){super(`Signature \`${lu(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class s1 extends L{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class o1 extends L{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class xi extends L{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class i1 extends L{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function a1(e,t={}){return typeof e.chainId=="string"?c1(e):{...e,...t.signature}}function c1(e){const{address:t,chainId:n,nonce:r}=e,s=Qp(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...s}}const u1="0x8010801080108010801080108010801080108010801080108010801080108010",f1=Af("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function qf(e){if(typeof e=="string"){if(Ce(e,-32)!==u1)throw new h1(e)}else Uf(e.authorization)}function d1(e){qf(e);const t=yu(Ce(e,-64,-32)),n=Ce(e,-t-64,-64),r=Ce(e,0,-t-64),[s,o,i]=Pp(f1,n);return{authorization:a1({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...i&&i!=="0x"?{data:i,to:o}:{}}}function l1(e){try{return qf(e),!0}catch{return!1}}let h1=class extends L{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function p1(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function b1(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?Te(e.nonce):void 0,storageProof:e.storageProof?p1(e.storageProof):void 0}}async function m1(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const o=r??"latest",i=n!==void 0?_(n):void 0,a=await e.request({method:"eth_getProof",params:[t,s,i||o]});return b1(a)}async function y1(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const o=n!==void 0?_(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,o||r]})}async function Wr(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o,sender:i,nonce:a}){const c=r||"latest",u=n!==void 0?_(n):void 0;let f=null;if(s?f=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?f=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,_(o)]},{dedupe:!0}):typeof o=="number"?f=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[u||c,_(o)]},{dedupe:!!u}):i&&typeof a=="number"&&(f=await e.request({method:"eth_getTransactionBySenderAndNonce",params:[i,_(a)]},{dedupe:!0})),!f)throw new Ro({blockHash:t,blockNumber:n,blockTag:c,hash:s,index:o});return(e.chain?.formatters?.transaction?.format||Dr)(f,"getTransaction")}async function g1(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([M(e,Gn,"getBlockNumber")({}),t?M(e,Wr,"getTransaction")({hash:t}):void 0]),o=n?.blockNumber||s?.blockNumber;return o?r-o+1n:0n}async function tr(e,{hash:t}){const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new Fo({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||ci)(n,"getTransactionReceipt")}async function w1(e,t){const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:o,blockOverrides:i,blockTag:a,stateOverride:c}=t,u=t.contracts,{batchSize:f=t.batchSize??1024,deployless:d=t.deployless??!1}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},l=(()=>{if(t.multicallAddress)return t.multicallAddress;if(d)return null;if(e.chain)return Bt({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),h=[[]];let m=0,p=0;for(let P=0;P<u.length;P++){const{abi:x,address:y,args:b,functionName:w}=u[P];try{const v=ae({abi:x,args:b,functionName:w});p+=(v.length-2)/2,f>0&&p>f&&h[m].length>0&&(m++,p=(v.length-2)/2,h[m]=[]),h[m]=[...h[m],{allowFailure:!0,callData:v,target:y}]}catch(v){const I=it(v,{abi:x,address:y,args:b,docsPath:"/docs/contract/multicall",functionName:w,sender:n});if(!s)throw I;h[m]=[...h[m],{allowFailure:!0,callData:"0x",target:y}]}}const g=await Promise.allSettled(h.map(P=>M(e,me,"readContract")({...l===null?{code:Ho}:{address:l},abi:pt,account:n,args:[P],authorizationList:r,blockNumber:o,blockOverrides:i,blockTag:a,functionName:"aggregate3",stateOverride:c}))),E=[];for(let P=0;P<g.length;P++){const x=g[P];if(x.status==="rejected"){if(!s)throw x.reason;for(let b=0;b<h[P].length;b++)E.push({status:"failure",error:x.reason,result:void 0});continue}const y=x.value;for(let b=0;b<y.length;b++){const{returnData:w,success:v}=y[b],{callData:I}=h[P][b],{abi:$,address:A,functionName:B,args:N}=u[E.length];try{if(I==="0x")throw new pn;if(!v)throw new zn({data:w});const k=Ze({abi:$,args:N,data:w,functionName:B});E.push(s?{result:k,status:"success"}:k)}catch(k){const z=it(k,{abi:$,address:A,args:N,docsPath:"/docs/contract/multicall",functionName:B});if(!s)throw z;E.push({error:z,result:void 0,status:"failure"})}}}if(E.length!==u.length)throw new S("multicall results mismatch");return E}async function oo(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:o,traceTransfers:i,validation:a}=t;try{const c=[];for(const l of s){const h=l.blockOverrides?vu(l.blockOverrides):void 0,m=l.calls.map(g=>{const E=g,P=E.account?K(E.account):void 0,x=E.abi?ae(E):E.data,y={...E,account:P,data:E.dataSuffix?oe([x||"0x",E.dataSuffix]):x,from:E.from??P?.address};return ut(y),Ct(y)}),p=l.stateOverrides?Vo(l.stateOverrides):void 0;c.push({blockOverrides:h,calls:m,stateOverrides:p})}const f=(typeof n=="bigint"?_(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:o,traceTransfers:i,validation:a},f]})).map((l,h)=>({...Qo(l),calls:l.calls.map((m,p)=>{const{abi:g,args:E,functionName:P,to:x}=s[h].calls[p],y=m.error?.data??m.returnData,b=BigInt(m.gasUsed),w=m.logs?.map(A=>$e(A)),v=m.status==="0x1"?"success":"failure",I=g&&v==="success"&&y!=="0x"?Ze({abi:g,data:y,functionName:P}):null,$=(()=>{if(v==="success")return;let A;if(y==="0x"?A=new pn:y&&(A=new zn({data:y})),!!A)return it(A,{abi:g??[],address:x??"0x",args:E,functionName:P??"<unknown>"})})();return{data:y,gasUsed:b,logs:w,status:v,...v==="success"?{result:I}:{error:$}}})}))}catch(c){const u=c,f=zr(u,{});throw f instanceof mn?u:f}}function io(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function","error",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new L("Unable to normalize signature.");return s}function ao(e,t){const n=typeof e,r=t.type;switch(r){case"address":return Xs(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>ao(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>ao(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Gf(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return Gf(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?Xs(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?Xs(n[r],{strict:!1}):!1)return i}}function Hf(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?Gs(e):e;return{...r,...n?{hash:Lt(r)}:{}}}function Zr(e,t,n){const{args:r=[],prepare:s=!0}=n??{},o=Bl(t,{strict:!1}),i=e.filter(u=>o?u.type==="function"||u.type==="error"?Vf(u)===Ce(t,0,4):u.type==="event"?Lt(u)===t:!1:"name"in u&&u.name===t);if(i.length===0)throw new Pr({name:t});if(i.length===1)return{...i[0],...s?{hash:Lt(i[0])}:{}};let a;for(const u of i){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:Lt(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((d,l)=>{const h="inputs"in u&&u.inputs[l];return h?ao(d,h):!1})){if(a&&"inputs"in a&&a.inputs){const d=Gf(u.inputs,a.inputs,r);if(d)throw new x1({abiItem:u,type:d[0]},{abiItem:a,type:d[1]})}a=u}}const c=(()=>{if(a)return a;const[u,...f]=i;return{...u,overloads:f}})();if(!c)throw new Pr({name:t});return{...c,...s?{hash:Lt(c)}:{}}}function Vf(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return Zr(n,r)}return e[0]})();return Ce(Lt(t),0,4)}function v1(...e){const t=(()=>{if(Array.isArray(e[0])){const[r,s]=e;return Zr(r,s)}return e[0]})(),n=typeof t=="string"?t:or(t);return io(n)}function Lt(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return Zr(n,r)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:Ef(qo(v1(t)))}class x1 extends L{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${io(or(t.abiItem))}\`, and`,`\`${n.type}\` in \`${io(or(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class Pr extends L{constructor({name:t,data:n,type:r="item"}){const s=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function E1(...e){const[t,n]=(()=>{if(Array.isArray(e[0])){const[o,i]=e;return[I1(o),i]}return e})(),{bytecode:r,args:s}=n;return Ie(r,t.inputs?.length&&s?.length?yi(t.inputs,s):"0x")}function P1(e){return Hf(e)}function I1(e){const t=e.find(n=>n.type==="constructor");if(!t)throw new Pr({name:"constructor"});return t}function A1(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[u,f,d]=e;return[la(u,f,{args:d}),d]}const[a,c]=e;return[a,c]})(),{overloads:r}=t,s=r?la([t,...r],t.name,{args:n}):t,o=$1(s),i=n.length>0?yi(s.inputs,n):void 0;return i?Ie(o,i):o}function Ft(e,t={}){return Hf(e,t)}function la(e,t,n){const r=Zr(e,t,n);if(r.type!=="function")throw new Pr({name:t,type:"function"});return r}function $1(e){return Vf(e)}const Wf="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",ve="0x0000000000000000000000000000000000000000",S1="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function B1(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:o,traceAssetChanges:i,traceTransfers:a,validation:c}=t,u=t.account?K(t.account):void 0;if(i&&!u)throw new S("`account` is required when `traceAssetChanges` is true");const f=u?E1(P1("constructor(bytes, bytes)"),{bytecode:Go,args:[S1,A1(Ft("function getBalance(address)"),[u.address])]}):void 0,d=i?await Promise.all(t.calls.map(async O=>{if(!O.data&&!O.abi)return;const{accessList:R}=await ku(e,{account:u.address,...O,data:O.abi?ae(O):O.data});return R.map(({address:j,storageKeys:U})=>U.length>0?j:null)})).then(O=>O.flat().filter(Boolean)):[],l=await oo(e,{blockNumber:n,blockTag:r,blocks:[...i?[{calls:[{data:f}],stateOverrides:o},{calls:d.map((O,R)=>({abi:[Ft("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:O,from:ve,nonce:R})),stateOverrides:[{address:ve,nonce:0}]}]:[],{calls:[...s,{}].map(O=>({...O,from:u?.address})),stateOverrides:o},...i?[{calls:[{data:f}]},{calls:d.map((O,R)=>({abi:[Ft("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:O,from:ve,nonce:R})),stateOverrides:[{address:ve,nonce:0}]},{calls:d.map((O,R)=>({to:O,abi:[Ft("function decimals() returns (uint256)")],functionName:"decimals",from:ve,nonce:R})),stateOverrides:[{address:ve,nonce:0}]},{calls:d.map((O,R)=>({to:O,abi:[Ft("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:ve,nonce:R})),stateOverrides:[{address:ve,nonce:0}]},{calls:d.map((O,R)=>({to:O,abi:[Ft("function symbol() returns (string)")],functionName:"symbol",from:ve,nonce:R})),stateOverrides:[{address:ve,nonce:0}]}]:[]],traceTransfers:a,validation:c}),h=i?l[2]:l[0],[m,p,,g,E,P,x,y]=i?l:[],{calls:b,...w}=h,v=b.slice(0,-1)??[],I=m?.calls??[],$=p?.calls??[],A=[...I,...$].map(O=>O.status==="success"?Pe(O.data):null),B=g?.calls??[],N=E?.calls??[],k=[...B,...N].map(O=>O.status==="success"?Pe(O.data):null),z=(P?.calls??[]).map(O=>O.status==="success"?O.result:null),T=(y?.calls??[]).map(O=>O.status==="success"?O.result:null),C=(x?.calls??[]).map(O=>O.status==="success"?O.result:null),F=[];for(const[O,R]of k.entries()){const j=A[O];if(typeof R!="bigint"||typeof j!="bigint")continue;const U=z[O-1],D=T[O-1],we=C[O-1],ne=O===0?{address:Wf,decimals:18,symbol:"ETH"}:{address:d[O-1],decimals:we||U?Number(U??1):void 0,symbol:D??void 0};F.some(Y=>Y.token.address===ne.address)||F.push({token:ne,value:{pre:j,post:R,diff:R-j}})}return{assetChanges:F,block:w,results:v}}async function C1(e,t){const{abi:n,address:r,args:s,functionName:o,dataSuffix:i=typeof e.dataSuffix=="string"?e.dataSuffix:e.dataSuffix?.value,...a}=t,c=a.account?K(a.account):e.account,u=ae({abi:n,args:s,functionName:o});try{const{data:f}=await M(e,Tt,"call")({batch:!1,data:`${u}${i?i.replace("0x",""):""}`,to:r,...a,account:c}),d=Ze({abi:n,args:s,functionName:o,data:f||"0x"}),l=n.filter(h=>"name"in h&&h.name===t.functionName);return{result:d,request:{abi:l,address:r,args:s,dataSuffix:i,functionName:o,...a,account:c}}}catch(f){throw it(f,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c?.address})}}async function Kr(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}const Zf="0x6492649264926492649264926492649264926492649264926492649264926492";function T1(e){if(Ce(e,-32)!==Zf)throw new N1(e)}function O1(e){const{data:t,signature:n,to:r}=e;return Ie(yi(Af("address, bytes, bytes"),[r,t,n]),Zf)}function k1(e){try{return T1(e),!0}catch{return!1}}class N1 extends L{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function co({r:e,s:t,to:n="hex",v:r,yParity:s}){const o=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),i=`0x${new Lf.Signature(Pe(e),Pe(t)).toCompactHex()}${o===0?"1b":"1c"}`;return n==="hex"?i:be(i)}async function Yr(e,t){const{address:n,chain:r=e.chain,hash:s,erc6492VerifierAddress:o=t.universalSignatureVerifierAddress??r?.contracts?.erc6492Verifier?.address,multicallAddress:i=t.multicallAddress??r?.contracts?.multicall3?.address}=t;if(r?.verifyHash)return await r.verifyHash(e,t);const a=(()=>{const c=t.signature;return pe(c)?c:typeof c=="object"&&"r"in c&&"s"in c?co(c):H(c)})();try{return l1(a)?await R1(e,{...t,multicallAddress:i,signature:a}):await F1(e,{...t,verifierAddress:o,signature:a})}catch(c){try{if(gn(_e(n),await Zo({hash:s,signature:a})))return!0}catch{}if(c instanceof Et)return!1;throw c}}async function R1(e,t){const{address:n,blockNumber:r,blockTag:s,hash:o,multicallAddress:i}=t,{authorization:a,data:c,signature:u,to:f}=d1(t.signature);if(await vr(e,{address:n,blockNumber:r,blockTag:s})===$t(["0xef0100",a.address]))return await M1(e,{address:n,blockNumber:r,blockTag:s,hash:o,signature:u});const l={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:_(a.r,{size:32}),s:_(a.s,{size:32}),yParity:a.yParity};if(!await Fh({address:n,authorization:l}))throw new Et;const m=await M(e,me,"readContract")({...i?{address:i}:{code:Ho},authorizationList:[l],abi:pt,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:f??n,callData:c}]:[],{allowFailure:!0,target:n,callData:ae({abi:Ca,functionName:"isValidSignature",args:[o,u]})}]]});if(m[m.length-1]?.returnData?.startsWith("0x1626ba7e"))return!0;throw new Et}async function F1(e,t){const{address:n,factory:r,factoryData:s,hash:o,signature:i,verifierAddress:a,...c}=t,u=await(async()=>!r&&!s||k1(i)?i:O1({data:s,signature:i,to:r}))(),f=a?{to:a,data:ae({abi:sr,functionName:"isValidSig",args:[n,o,u]}),...c}:{data:_r({abi:sr,args:[n,o,u],bytecode:Ys}),...c},{data:d}=await M(e,Tt,"call")(f).catch(l=>{throw l instanceof Mo?new Et:l});if(Za(d??"0x0"))return!0;throw new Et}async function M1(e,t){const{address:n,blockNumber:r,blockTag:s,hash:o,signature:i}=t;if((await M(e,me,"readContract")({address:n,abi:Ca,args:[o,i],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(c=>{throw c instanceof _o?new Et:c})).startsWith("0x1626ba7e"))return!0;throw new Et}class Et extends Error{}async function _1(e,{address:t,message:n,factory:r,factoryData:s,signature:o,...i}){const a=fi(n);return M(e,Yr,"verifyHash")({address:t,factory:r,factoryData:s,hash:a,signature:o,...i})}async function z1(e,t){const{address:n,factory:r,factoryData:s,signature:o,message:i,primaryType:a,types:c,domain:u,...f}=t,d=bf({message:i,primaryType:a,types:c,domain:u});return M(e,Yr,"verifyHash")({address:n,factory:r,factoryData:s,hash:d,signature:o,...f})}const Es=new Map,ha=new Map;let j1=0;function at(e,t,n){const r=++j1,s=()=>Es.get(e)||[],o=()=>{const f=s();Es.set(e,f.filter(d=>d.id!==r))},i=()=>{const f=s();if(!f.some(l=>l.id===r))return;const d=ha.get(e);if(f.length===1&&d){const l=d();l instanceof Promise&&l.catch(()=>{})}o()},a=s();if(Es.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return i;const c={};for(const f in t)c[f]=((...d)=>{const l=s();if(l.length!==0)for(const h of l)h.fns[f]?.(...d)});const u=n(c);return typeof u=="function"&&ha.set(e,u),i}function Hn(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const o=()=>s=!1;return(async()=>{let a;t&&(a=await e({unpoll:o}));const c=await n?.(a)??r;await xr(c);const u=async()=>{s&&(await e({unpoll:o}),await xr(r),u())};u()})(),o}function Kf(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:o,pollingInterval:i=e.pollingInterval}){const a=typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const d=G(["watchBlockNumber",e.uid,t,n,i]);return at(d,{onBlockNumber:r,onError:s},l=>Hn(async()=>{try{const h=await M(e,Gn,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(h===c)return;if(h-c>1&&n)for(let m=c+1n;m<h;m++)l.onBlockNumber(m,c),c=m}(c===void 0||h>c)&&(l.onBlockNumber(h,c),c=h)}catch(h){l.onError?.(h)}},{emitOnBegin:t,interval:i}))})():(()=>{const d=G(["watchBlockNumber",e.uid,t,n]);return at(d,{onBlockNumber:r,onError:s},l=>{let h=!0,m=()=>h=!1;return(async()=>{try{const p=(()=>{if(e.transport.type==="fallback"){const E=e.transport.transports.find(P=>P.config.type==="webSocket"||P.config.type==="ipc");return E?E.value:e.transport}return e.transport})(),{unsubscribe:g}=await p.subscribe({params:["newHeads"],onData(E){if(!h)return;const P=Pe(E.result?.number);l.onBlockNumber(P,c),c=P},onError(E){l.onError?.(E)}});m=g,h||m()}catch(p){s?.(p)}})(),()=>m()})})()}async function Yf(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:o,retryCount:i=6,retryDelay:a=({count:b})=>~~(1<<b)*200,timeout:c=18e4}=t,u=G(["waitForTransactionReceipt",e.uid,s]),f=t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval;let d,l,h,m=!1,p,g;const{promise:E,resolve:P,reject:x}=Iu(),y=c?setTimeout(()=>{g?.(),p?.(),x(new Kc({hash:s}))},c):void 0;return p=at(u,{onReplaced:o,resolve:P,reject:x},async b=>{if(h=await M(e,tr,"getTransactionReceipt")({hash:s}).catch(()=>{}),h&&r<=1){clearTimeout(y),b.resolve(h),p?.();return}g=M(e,Kf,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:f,async onBlockNumber(w){const v=$=>{clearTimeout(y),g?.(),$(),p?.()};let I=w;if(!m)try{if(h){if(r>1&&(!h.blockNumber||I-h.blockNumber+1n<r))return;v(()=>b.resolve(h));return}if(n&&!d&&(m=!0,await On(async()=>{d=await M(e,Wr,"getTransaction")({hash:s}),d.blockNumber&&(I=d.blockNumber)},{delay:a,retryCount:i}),m=!1),h=await M(e,tr,"getTransactionReceipt")({hash:s}),r>1&&(!h.blockNumber||I-h.blockNumber+1n<r))return;v(()=>b.resolve(h))}catch($){if($ instanceof Ro||$ instanceof Fo){if(!d){m=!1;return}try{l=d,m=!0;const A=await On(()=>M(e,xe,"getBlock")({blockNumber:I,includeTransactions:!0}),{delay:a,retryCount:i,shouldRetry:({error:k})=>k instanceof Jo});m=!1;const B=A.transactions.find(({from:k,nonce:z})=>k===l.from&&z===l.nonce);if(!B||(h=await M(e,tr,"getTransactionReceipt")({hash:B.hash}),r>1&&(!h.blockNumber||I-h.blockNumber+1n<r)))return;let N="replaced";B.to===l.to&&B.value===l.value&&B.input===l.input?N="repriced":B.from===B.to&&B.value===0n&&(N="cancelled"),v(()=>{b.onReplaced?.({reason:N,replacedTransaction:l,transaction:B,transactionReceipt:h}),b.resolve(h)})}catch(A){v(()=>b.reject(A))}}else v(()=>b.reject($))}}})}),E}function L1(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:o,includeTransactions:i,poll:a,pollingInterval:c=e.pollingInterval}){const u=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),f=i??!1;let d;return u?(()=>{const m=G(["watchBlocks",e.uid,t,n,r,f,c]);return at(m,{onBlock:s,onError:o},p=>Hn(async()=>{try{const g=await M(e,xe,"getBlock")({blockTag:t,includeTransactions:f});if(g.number!==null&&d?.number!=null){if(g.number===d.number)return;if(g.number-d.number>1&&n)for(let E=d?.number+1n;E<g.number;E++){const P=await M(e,xe,"getBlock")({blockNumber:E,includeTransactions:f});p.onBlock(P,d),d=P}}(d?.number==null||t==="pending"&&g?.number==null||g.number!==null&&g.number>d.number)&&(p.onBlock(g,d),d=g)}catch(g){p.onError?.(g)}},{emitOnBegin:r,interval:c}))})():(()=>{let m=!0,p=!0,g=()=>m=!1;return(async()=>{try{r&&M(e,xe,"getBlock")({blockTag:t,includeTransactions:f}).then(x=>{m&&p&&(s(x,void 0),p=!1)}).catch(o);const E=(()=>{if(e.transport.type==="fallback"){const x=e.transport.transports.find(y=>y.config.type==="webSocket"||y.config.type==="ipc");return x?x.value:e.transport}return e.transport})(),{unsubscribe:P}=await E.subscribe({params:["newHeads"],async onData(x){if(!m)return;const y=await M(e,xe,"getBlock")({blockNumber:x.result?.number,includeTransactions:f}).catch(()=>{});m&&(s(y,d),p=!1,d=y)},onError(x){o?.(x)}});g=P,m||g()}catch(E){o?.(E)}})(),()=>g()})()}function U1(e,t){const{abi:n,address:r,args:s,batch:o=!0,eventName:i,fromBlock:a,onError:c,onLogs:u,poll:f,pollingInterval:d=e.pollingInterval,strict:l}=t;return(typeof f<"u"?f:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const g=l??!1,E=G(["watchContractEvent",r,s,o,e.uid,i,d,g,a]);return at(E,{onLogs:u,onError:c},P=>{let x;a!==void 0&&(x=a-1n);let y,b=!1;const w=Hn(async()=>{if(!b){try{y=await M(e,Ru,"createContractEventFilter")({abi:n,address:r,args:s,eventName:i,strict:g,fromBlock:a})}catch{}b=!0;return}try{let v;if(y)v=await M(e,Hr,"getFilterChanges")({filter:y});else{const I=await M(e,Gn,"getBlockNumber")({});x&&x<I?v=await M(e,sf,"getContractEvents")({abi:n,address:r,args:s,eventName:i,fromBlock:x+1n,toBlock:I,strict:g}):v=[],x=I}if(v.length===0)return;if(o)P.onLogs(v);else for(const I of v)P.onLogs([I])}catch(v){y&&v instanceof He&&(b=!1),P.onError?.(v)}},{emitOnBegin:!0,interval:d});return async()=>{y&&await M(e,Kr,"uninstallFilter")({filter:y}),w()}})})():(()=>{const g=l??!1,E=G(["watchContractEvent",r,s,o,e.uid,i,d,g]);let P=!0,x=()=>P=!1;return at(E,{onLogs:u,onError:c},y=>((async()=>{try{const b=(()=>{if(e.transport.type==="fallback"){const I=e.transport.transports.find($=>$.config.type==="webSocket"||$.config.type==="ipc");return I?I.value:e.transport}return e.transport})(),w=i?yn({abi:n,eventName:i,args:s}):[],{unsubscribe:v}=await b.subscribe({params:["logs",{address:r,topics:w}],onData(I){if(!P)return;const $=I.result;try{const{eventName:A,args:B}=Tn({abi:n,data:$.data,topics:$.topics,strict:l}),N=$e($,{args:B,eventName:A});y.onLogs([N])}catch(A){let B,N;if(A instanceof Pn||A instanceof Br){if(l)return;B=A.abiItem.name,N=A.abiItem.inputs?.some(z=>!("name"in z&&z.name))}const k=$e($,{args:N?[]:{},eventName:B});y.onLogs([k])}},onError(I){y.onError?.(I)}});x=v,P||x()}catch(b){c?.(b)}})(),()=>x()))})()}function D1(e,{address:t,args:n,batch:r=!0,event:s,events:o,fromBlock:i,onError:a,onLogs:c,poll:u,pollingInterval:f=e.pollingInterval,strict:d}){const l=typeof u<"u"?u:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),h=d??!1;return l?(()=>{const g=G(["watchEvent",t,n,r,e.uid,s,f,i]);return at(g,{onLogs:c,onError:a},E=>{let P;i!==void 0&&(P=i-1n);let x,y=!1;const b=Hn(async()=>{if(!y){try{x=await M(e,Fu,"createEventFilter")({address:t,args:n,event:s,events:o,strict:h,fromBlock:i})}catch{}y=!0;return}try{let w;if(x)w=await M(e,Hr,"getFilterChanges")({filter:x});else{const v=await M(e,Gn,"getBlockNumber")({});P&&P!==v?w=await M(e,ii,"getLogs")({address:t,args:n,event:s,events:o,fromBlock:P+1n,toBlock:v}):w=[],P=v}if(w.length===0)return;if(r)E.onLogs(w);else for(const v of w)E.onLogs([v])}catch(w){x&&w instanceof He&&(y=!1),E.onError?.(w)}},{emitOnBegin:!0,interval:f});return async()=>{x&&await M(e,Kr,"uninstallFilter")({filter:x}),b()}})})():(()=>{let g=!0,E=()=>g=!1;return(async()=>{try{const P=(()=>{if(e.transport.type==="fallback"){const w=e.transport.transports.find(v=>v.config.type==="webSocket"||v.config.type==="ipc");return w?w.value:e.transport}return e.transport})(),x=o??(s?[s]:void 0);let y=[];x&&(y=[x.flatMap(v=>yn({abi:[v],eventName:v.name,args:n}))],s&&(y=y[0]));const{unsubscribe:b}=await P.subscribe({params:["logs",{address:t,topics:y}],onData(w){if(!g)return;const v=w.result;try{const{eventName:I,args:$}=Tn({abi:x??[],data:v.data,topics:v.topics,strict:h}),A=$e(v,{args:$,eventName:I});c([A])}catch(I){let $,A;if(I instanceof Pn||I instanceof Br){if(d)return;$=I.abiItem.name,A=I.abiItem.inputs?.some(N=>!("name"in N&&N.name))}const B=$e(v,{args:A?[]:{},eventName:$});c([B])}},onError(w){a?.(w)}});E=b,g||E()}catch(P){a?.(P)}})(),()=>E()})()}function q1(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:o=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const u=G(["watchPendingTransactions",e.uid,t,o]);return at(u,{onTransactions:r,onError:n},f=>{let d;const l=Hn(async()=>{try{if(!d)try{d=await M(e,Mu,"createPendingTransactionFilter")({});return}catch(m){throw l(),m}const h=await M(e,Hr,"getFilterChanges")({filter:d});if(h.length===0)return;if(t)f.onTransactions(h);else for(const m of h)f.onTransactions([m])}catch(h){f.onError?.(h)}},{emitOnBegin:!0,interval:o});return async()=>{d&&await M(e,Kr,"uninstallFilter")({filter:d}),l()}})})():(()=>{let u=!0,f=()=>u=!1;return(async()=>{try{const{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(l){if(!u)return;const h=l.result;r([h])},onError(l){n?.(l)}});f=d,u||f()}catch(d){n?.(d)}})(),()=>f()})()}class Ei extends S{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class Ps extends S{constructor({docsPath:t,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}}async function Jf(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const Is=new Rn(128);async function G1(e,t){const{account:n=e.account,assertChainId:r=!0,chain:s=e.chain,accessList:o,authorizationList:i,blobs:a,data:c,dataSuffix:u=typeof e.dataSuffix=="string"?e.dataSuffix:e.dataSuffix?.value,gas:f,gasPrice:d,maxFeePerBlobGas:l,maxFeePerGas:h,maxPriorityFeePerGas:m,nonce:p,type:g,value:E,...P}=t;if(typeof n>"u")throw new Ei({docsPath:"/docs/actions/wallet/sendTransaction"});const x=n?K(n):null;try{ut(t);const y=await(async()=>{if(t.to)return t.to;if(t.to!==null&&i&&i.length>0)return await Ko({authorization:i[0]}).catch(()=>{throw new S("`to` is required. Could not infer from `authorizationList`.")})})();if(x?.type==="json-rpc"||x===null){let b;s!==null&&(b=await M(e,qr,"getChainId")({}),r&&cf({currentChainId:b,chain:s}));const w=e.chain?.formatters?.transactionRequest?.format,I=(w||Ct)({...qn(P,{format:w}),accessList:o,account:x,authorizationList:i,blobs:a,chainId:b,data:c&&oe([c,u??"0x"]),gas:f,gasPrice:d,maxFeePerBlobGas:l,maxFeePerGas:h,maxPriorityFeePerGas:m,nonce:p,to:y,type:g,value:E},"sendTransaction"),$=Is.get(e.uid),A=$?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:A,params:[I]},{retryCount:0})}catch(B){if($===!1)throw B;const N=B;if(N.name==="InvalidInputRpcError"||N.name==="InvalidParamsRpcError"||N.name==="MethodNotFoundRpcError"||N.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[I]},{retryCount:0}).then(k=>(Is.set(e.uid,!0),k)).catch(k=>{const z=k;throw z.name==="MethodNotFoundRpcError"||z.name==="MethodNotSupportedRpcError"?(Is.set(e.uid,!1),N):z});throw N}}if(x?.type==="local"){const b=await M(e,si,"prepareTransactionRequest")({account:x,accessList:o,authorizationList:i,blobs:a,chain:s,data:c&&oe([c,u??"0x"]),gas:f,gasPrice:d,maxFeePerBlobGas:l,maxFeePerGas:h,maxPriorityFeePerGas:m,nonce:p,nonceManager:x.nonceManager,parameters:[...nf,"sidecars"],type:g,value:E,...P,to:y}),w=s?.serializers?.transaction,v=await x.signTransaction(b,{serializer:w});return await M(e,Jf,"sendRawTransaction")({serializedTransaction:v})}throw x?.type==="smart"?new Ps({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Ps({docsPath:"/docs/actions/wallet/sendTransaction",type:x?.type})}catch(y){throw y instanceof Ps?y:ef(y,{...t,account:x,chain:t.chain||void 0})}}async function H1(e,{serializedTransaction:t,throwOnReceiptRevert:n,timeout:r}){const s=await e.request({method:"eth_sendRawTransactionSync",params:r?[t,r]:[t]},{retryCount:0}),i=(e.chain?.formatters?.transactionReceipt?.format||ci)(s);if(i.status==="reverted"&&n)throw new Vd({receipt:i});return i}async function V1(e,t){const{account:n=e.account,domain:r,message:s,primaryType:o}=t;if(!n)throw new Ei({docsPath:"/docs/actions/wallet/signTypedData"});const i=K(n),a={EIP712Domain:li({domain:r}),...t.types};if(di({domain:r,message:s,primaryType:o,types:a}),i.signTypedData)return i.signTypedData({domain:r,message:s,primaryType:o,types:a});const c=pf({domain:r,message:s,primaryType:o,types:a});return e.request({method:"eth_signTypedData_v4",params:[i.address,c]},{retryCount:0})}async function Ir(e,t){return Ir.internal(e,G1,"sendTransaction",t)}(function(e){async function t(n,r,s,o){const{abi:i,account:a=n.account,address:c,args:u,functionName:f,...d}=o;if(typeof a>"u")throw new Ei({docsPath:"/docs/contract/writeContract"});const l=a?K(a):null,h=ae({abi:i,args:u,functionName:f});try{return await M(n,r,s)({data:h,to:c,account:l,...d})}catch(m){throw it(m,{abi:i,address:c,args:u,docsPath:"/docs/contract/writeContract",functionName:f,sender:l?.address})}}e.internal=t})(Ir||(Ir={}));function Gt(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}const nr="3.4.0",W1=()=>`@wagmi/core@${nr}`;var Xf=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Ar,Qf;let Ke=class uo extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return W1()}constructor(t,n={}){super(),Ar.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof uo?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof uo&&n.cause.docsPath||n.docsPath;this.message=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}walk(t){return Xf(this,Ar,"m",Qf).call(this,this,t)}};Ar=new WeakSet,Qf=function e(t,n){return n?.(t)?t:t.cause?Xf(this,Ar,"m",e).call(this,t.cause,n):t};class $r extends Ke{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class Z1 extends Ke{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class K1 extends Ke{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class Y1 extends Ke{constructor({address:t,connector:n}){super(`Account "${t}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class J1 extends Ke{constructor({connectionChainId:t,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${t}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class X1 extends Ke{constructor({connector:t}){super(`Connector "${t.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function Q1(e,t){let n;if(typeof t.connector=="function"?n=e._internal.connectors.setup(t.connector):n=t.connector,n.uid===e.state.current)throw new Z1;try{e.setState(i=>({...i,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:r,...s}=t,o=await n.connect(s);return n.emitter.off("connect",e._internal.events.connect),n.emitter.on("change",e._internal.events.change),n.emitter.on("disconnect",e._internal.events.disconnect),await e.storage?.setItem("recentConnectorId",n.id),e.setState(i=>({...i,connections:new Map(i.connections).set(n.uid,{accounts:s.withCapabilities?o.accounts.map(a=>typeof a=="object"?a.address:a):o.accounts,chainId:o.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:s.withCapabilities?o.accounts.map(i=>typeof i=="object"?i:{address:i,capabilities:{}}):o.accounts,chainId:o.chainId}}catch(r){throw e.setState(s=>({...s,status:s.current?"connected":"disconnected"})),r}}const fo=256;let Kn=fo,Yn;function e0(e=11){if(!Yn||Kn+e>fo*2){Yn="",Kn=0;for(let t=0;t<fo;t++)Yn+=(256+Math.random()*256|0).toString(16).substring(1)}return Yn.substring(Kn,Kn+++e)}function Jr(e){const{batch:t,chain:n,ccipRead:r,dataSuffix:s,key:o="base",name:i="Base Client",type:a="base"}=e,c=e.experimental_blockTag??(typeof n?.experimental_preconfirmationTime=="number"?"pending":void 0),u=n?.blockTime??12e3,f=Math.min(Math.max(Math.floor(u/2),500),4e3),d=e.pollingInterval??f,l=e.cacheTime??d,h=e.account?K(e.account):void 0,{config:m,request:p,value:g}=e.transport({account:h,chain:n,pollingInterval:d}),E={...m,...g},P={account:h,batch:t,cacheTime:l,ccipRead:r,chain:n,dataSuffix:s,key:o,name:i,pollingInterval:d,request:p,transport:E,type:a,uid:e0(),...c?{experimental_blockTag:c}:{}};function x(y){return b=>{const w=b(y);for(const I in P)delete w[I];const v={...y,...w};return Object.assign(v,{extend:x(v)})}}return Object.assign(P,{extend:x(P)})}function eb(e){const{scheme:t,statement:n,...r}=e.match(tb)?.groups??{},{chainId:s,expirationTime:o,issuedAt:i,notBefore:a,requestId:c,...u}=e.match(nb)?.groups??{},f=e.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...o?{expirationTime:new Date(o)}:{},...i?{issuedAt:new Date(i)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...f?{resources:f}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const tb=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,nb=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function rb(e){const{address:t,domain:n,message:r,nonce:s,scheme:o,time:i=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||o&&r.scheme!==o||r.expirationTime&&i>=r.expirationTime||r.notBefore&&i<r.notBefore)return!1;try{if(!r.address||!fe(r.address,{strict:!1})||t&&!gn(r.address,t))return!1}catch{return!1}return!0}async function sb(e,t){const{address:n,domain:r,message:s,nonce:o,scheme:i,signature:a,time:c=new Date,...u}=t,f=eb(s);if(!f.address||!rb({address:n,domain:r,message:f,nonce:o,scheme:i,time:c}))return!1;const l=fi(s);return Yr(e,{address:f.address,hash:l,signature:a,...u})}function t0(e){return{call:t=>Tt(e,t),createAccessList:t=>ku(e,t),createBlockFilter:()=>eh(e),createContractEventFilter:t=>Ru(e,t),createEventFilter:t=>Fu(e,t),createPendingTransactionFilter:()=>Mu(e),estimateContractGas:t=>gh(e,t),estimateGas:t=>oi(e,t),getBalance:t=>wh(e,t),getBlobBaseFee:()=>vh(e),getBlock:t=>xe(e,t),getBlockNumber:t=>Gn(e,t),getBlockTransactionCount:t=>Ah(e,t),getBytecode:t=>vr(e,t),getChainId:()=>qr(e),getCode:t=>vr(e,t),getContractEvents:t=>sf(e,t),getDelegation:t=>Bh(e,t),getEip712Domain:t=>Th(e,t),getEnsAddress:t=>jl(e,t),getEnsAvatar:t=>Jl(e,t),getEnsName:t=>Xl(e,t),getEnsResolver:t=>Ql(e,t),getEnsText:t=>Ou(e,t),getFeeHistory:t=>Nh(e,t),estimateFeesPerGas:t=>ch(e,t),getFilterChanges:t=>Hr(e,t),getFilterLogs:t=>Rh(e,t),getGasPrice:()=>ei(e),getLogs:t=>ii(e,t),getProof:t=>m1(e,t),estimateMaxPriorityFeePerGas:t=>ah(e,t),fillTransaction:t=>tf(e,t),getStorageAt:t=>y1(e,t),getTransaction:t=>Wr(e,t),getTransactionConfirmations:t=>g1(e,t),getTransactionCount:t=>Gu(e,t),getTransactionReceipt:t=>tr(e,t),multicall:t=>w1(e,t),prepareTransactionRequest:t=>si(e,t),readContract:t=>me(e,t),sendRawTransaction:t=>Jf(e,t),sendRawTransactionSync:t=>H1(e,t),simulate:t=>oo(e,t),simulateBlocks:t=>oo(e,t),simulateCalls:t=>B1(e,t),simulateContract:t=>C1(e,t),verifyHash:t=>Yr(e,t),verifyMessage:t=>_1(e,t),verifySiweMessage:t=>sb(e,t),verifyTypedData:t=>z1(e,t),uninstallFilter:t=>Kr(e,t),waitForTransactionReceipt:t=>Yf(e,t),watchBlocks:t=>L1(e,t),watchBlockNumber:t=>Kf(e,t),watchContractEvent:t=>U1(e,t),watchEvent:t=>D1(e,t),watchPendingTransactions:t=>q1(e,t)}}function ob(e){const{key:t="public",name:n="Public Client"}=e;return Jr({...e,key:t,name:n,type:"publicClient"}).extend(t0)}function Xr({key:e,methods:t,name:n,request:r,retryCount:s=3,retryDelay:o=150,timeout:i,type:a},c){const u=e0();return{config:{key:e,methods:t,name:n,request:r,retryCount:s,retryDelay:o,timeout:i,type:a},request:_h(r,{methods:t,retryCount:s,retryDelay:o,uid:u}),value:c}}function n0(e,t={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:o}=t;return({retryCount:i})=>Xr({key:n,methods:r,name:s,request:e.request.bind(e),retryCount:t.retryCount??i,retryDelay:o,type:"custom"})}function ib(e,t={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,shouldThrow:o=r0,retryCount:i,retryDelay:a}=t;return(({chain:c,pollingInterval:u=4e3,timeout:f,...d})=>{let l=e,h=()=>{};const m=Xr({key:n,name:r,async request({method:p,params:g}){let E;const P=async(x=0)=>{const y=l[x]({...d,chain:c,retryCount:0,timeout:f});try{const b=await y.request({method:p,params:g});return h({method:p,params:g,response:b,transport:y,status:"success"}),b}catch(b){if(h({error:b,method:p,params:g,transport:y,status:"error"}),o(b)||x===l.length-1||(E??=l.slice(x+1).some(w=>{const{include:v,exclude:I}=w({chain:c}).config.methods||{};return v?v.includes(p):I?!I.includes(p):!0}),!E))throw b;return P(x+1)}};return P()},retryCount:i,retryDelay:a,type:"fallback"},{onResponse:p=>h=p,transports:l.map(p=>p({chain:c,retryCount:0}))});if(s){const p=typeof s=="object"?s:{};ab({chain:c,interval:p.interval??u,onTransports:g=>l=g,ping:p.ping,sampleCount:p.sampleCount,timeout:p.timeout,transports:l,weights:p.weights})}return m})}function r0(e){return!!("code"in e&&typeof e.code=="number"&&(e.code===gt.code||e.code===Z.code||e.code===hn.code||et.nodeMessage.test(e.message)||e.code===5e3))}function ab({chain:e,interval:t=4e3,onTransports:n,ping:r,sampleCount:s=10,timeout:o=1e3,transports:i,weights:a={}}){const{stability:c=.7,latency:u=.3}=a,f=[],d=async()=>{const l=await Promise.all(i.map(async p=>{const g=p({chain:e,retryCount:0,timeout:o}),E=Date.now();let P,x;try{await(r?r({transport:g}):g.request({method:"net_listening"})),x=1}catch{x=0}finally{P=Date.now()}return{latency:P-E,success:x}}));f.push(l),f.length>s&&f.shift();const h=Math.max(...f.map(p=>Math.max(...p.map(({latency:g})=>g)))),m=i.map((p,g)=>{const E=f.map(w=>w[g].latency),x=1-E.reduce((w,v)=>w+v,0)/E.length/h,y=f.map(w=>w[g].success),b=y.reduce((w,v)=>w+v,0)/y.length;return b===0?[0,g]:[u*x+c*b,g]}).sort((p,g)=>g[0]-p[0]);n(m.map(([,p])=>i[p])),await xr(t),d()};d()}class s0 extends S{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function cb(e,t={}){const{batch:n,fetchFn:r,fetchOptions:s,key:o="http",methods:i,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:u,retryDelay:f,raw:d}=t;return({chain:l,retryCount:h,timeout:m})=>{const{batchSize:p=1e3,wait:g=0}=typeof n=="object"?n:{},E=t.retryCount??h,P=m??t.timeout??1e4,x=e||l?.rpcUrls.default.http[0];if(!x)throw new s0;const y=Vh(x,{fetchFn:r,fetchOptions:s,onRequest:c,onResponse:u,timeout:P});return Xr({key:o,methods:i,name:a,async request({method:b,params:w}){const v={method:b,params:w},{schedule:I}=Au({id:x,wait:g,shouldSplitBatch(N){return N.length>p},fn:N=>y.request({body:N}),sort:(N,k)=>N.id-k.id}),$=async N=>n?I(N):[await y.request({body:N})],[{error:A,result:B}]=await $(v);if(d)return{error:A,result:B};if(A)throw new Nr({body:v,error:A,url:x});return B},retryCount:E,retryDelay:f,timeout:P,type:"http"},{fetchOptions:s,url:x})}}const Om=Object.freeze(Object.defineProperty({__proto__:null,AbiConstructorNotFoundError:ka,AbiConstructorParamsNotFoundError:Ms,AbiDecodingDataSizeTooSmallError:bo,AbiDecodingZeroDataError:pn,AbiEncodingArrayLengthMismatchError:Na,AbiEncodingBytesSizeMismatchError:Ra,AbiEncodingLengthMismatchError:Fa,AbiErrorInputsNotFoundError:Ma,AbiErrorNotFoundError:_s,AbiErrorSignatureNotFoundError:mo,AbiEventNotFoundError:zs,AbiEventSignatureEmptyTopicsError:_a,AbiEventSignatureNotFoundError:za,AbiFunctionNotFoundError:bt,AbiFunctionOutputsNotFoundError:yo,AbiFunctionSignatureNotFoundError:ja,AccountStateConflictError:Hc,AtomicReadyWalletRejectedUpgradeError:dn,AtomicityNotSupportedError:ln,BaseError:S,BaseFeeScalarError:Yo,BlockNotFoundError:Jo,BundleTooLargeError:fn,BytesSizeMismatchError:La,CallExecutionError:Mo,ChainDisconnectedError:sn,ChainDoesNotSupportContract:ar,ChainMismatchError:jc,ChainNotFoundError:Lc,CircularReferenceError:Nc,ClientChainNotConfiguredError:Oo,ContractFunctionExecutionError:_o,ContractFunctionRevertedError:cr,ContractFunctionZeroDataError:Yc,CounterfactualDeploymentFailedError:Jc,DecodeLogDataMismatch:Pn,DecodeLogTopicsMismatch:Br,DuplicateIdError:cn,Eip1559FeesNotSupportedError:Ur,EnsAvatarInvalidNftUriError:zt,EnsAvatarUnsupportedNamespaceError:Bu,EnsAvatarUriResolutionError:jr,EstimateGasExecutionError:Uu,ExecutionRevertedError:et,FeeCapTooHighError:Bn,FeeCapTooLowError:lr,FilterTypeNotSupportedError:Nu,HttpRequestError:nt,InsufficientFundsError:mr,IntegerOutOfRangeError:Cr,InternalRpcError:st,IntrinsicGasTooHighError:yr,IntrinsicGasTooLowError:gr,InvalidAbiDecodingTypeError:Da,InvalidAbiEncodingTypeError:Ua,InvalidAbiItemError:Pc,InvalidAbiParametersError:Ac,InvalidAbiTypeParameterError:Tc,InvalidAddressError:De,InvalidArrayError:go,InvalidBytesBooleanError:Ha,InvalidDefinitionTypeError:qa,InvalidDomainError:df,InvalidFunctionModifierError:Cc,InvalidHexBooleanError:Va,InvalidInputRpcError:He,InvalidModifierError:Bc,InvalidParameterError:$c,InvalidParamsRpcError:Xt,InvalidParenthesisError:Rc,InvalidPrimaryTypeError:lf,InvalidRequestRpcError:Yt,InvalidSerializableTransactionError:Wc,InvalidSignatureError:St,InvalidStructSignatureError:kc,InvalidStructTypeError:hf,JsonRpcVersionUnsupportedError:en,LimitExceededRpcError:wt,MaxFeePerGasTooLowError:Du,MethodNotFoundRpcError:Jt,MethodNotSupportedRpcError:Qe,NonceMaxValueError:br,NonceTooHighError:hr,NonceTooLowError:pr,ParseRpcError:Kt,ProviderDisconnectedError:rn,ProviderRpcError:te,RawContractError:zn,ResourceNotFoundRpcError:Qt,ResourceUnavailableRpcError:Le,RpcError:ee,RpcRequestError:Nr,SizeExceedsPaddingSizeError:vo,SizeOverflowError:Wa,SliceOffsetOutOfBoundsError:wo,SolidityProtectedKeywordError:Sc,StateAssignmentConflictError:Vc,SwitchChainError:ot,TimeoutError:Zs,TipAboveFeeCapError:Cn,TransactionExecutionError:Zc,TransactionNotFoundError:Ro,TransactionReceiptNotFoundError:Fo,TransactionRejectedRpcError:gt,TransactionTypeNotSupportedError:wr,UnauthorizedProviderError:tn,UnknownBundleIdError:un,UnknownNodeError:mn,UnknownRpcError:ru,UnknownSignatureError:Oc,UnknownTypeError:Ic,UnsupportedChainIdError:an,UnsupportedNonOptionalCapabilityError:on,UnsupportedProviderMethodError:nn,UrlRequiredError:s0,UserRejectedRequestError:Z,WaitForTransactionReceiptTimeoutError:Kc,assertCurrentChain:cf,assertRequest:ut,blobsToCommitments:ti,blobsToProofs:ni,boolToBytes:Ya,boolToHex:xo,bytesToBigInt:uc,bytesToBool:fc,bytesToHex:H,bytesToNumber:Be,bytesToString:dc,ccipFetch:Er,ccipRequest:Er,checksumAddress:Fn,commitmentToVersionedHash:Wu,commitmentsToVersionedHashes:Zu,concat:oe,concatBytes:lc,concatHex:$t,createClient:Jr,createPublicClient:ob,createTransport:Xr,custom:n0,decodeAbiParameters:bn,decodeErrorResult:ko,decodeEventLog:Tn,decodeFunctionData:Xc,decodeFunctionResult:Ze,defineChain:qh,deploylessCallViaBytecodeBytecode:Go,deploylessCallViaFactoryBytecode:xu,encodeAbiParameters:Ve,encodeDeployData:_r,encodeErrorResult:Ws,encodeEventTopics:yn,encodeFunctionData:ae,encodeFunctionResult:Qc,erc20Abi:m0,erc6492SignatureValidatorAbi:sr,erc6492SignatureValidatorByteCode:Ys,ethAddress:Wf,etherUnits:qc,fallback:ib,formatBlock:Qo,formatEther:kr,formatGwei:X,formatLog:$e,formatTransaction:Dr,formatTransactionReceipt:ci,formatTransactionRequest:Ct,formatUnits:No,getAbiItem:ct,getAddress:_e,getChainContractAddress:Bt,getContractError:it,getEventSelector:Zt,getEventSignature:En,getFunctionSelector:yt,getFunctionSignature:En,getTransactionType:Qu,getTypesForEIP712Domain:li,gweiUnits:Gc,hashDomain:mf,hashMessage:fi,hashStruct:hi,hashTypedData:bf,hexToBigInt:Pe,hexToBool:Za,hexToBytes:be,hexToNumber:Te,hexToString:Ka,http:cb,isAddress:fe,isAddressEqual:gn,isHex:pe,keccak256:W,labelhash:nu,maxUint256:$u,multicall3Abi:pt,namehash:ur,numberToBytes:Ja,numberToHex:_,offchainLookup:af,offchainLookupAbiItem:ai,offchainLookupSignature:of,pad:It,padBytes:Ga,padHex:ze,parseAbi:To,parseAbiItem:Gs,parseAbiParameters:Hs,parseEventLogs:Gr,prepareEncodeFunctionData:zc,presignMessagePrefix:uf,publicActions:t0,recoverAddress:Zo,recoverPublicKey:_u,rpcTransactionType:Pu,serializeSignature:co,serializeTypedData:pf,sha256:Vu,shouldThrow:r0,signatureToHex:co,size:q,slice:rt,sliceBytes:Ao,sliceHex:cc,stringToBytes:tt,stringToHex:Ht,stringify:G,toBlobSidecars:Xu,toBlobs:Ju,toBytes:At,toEventHash:ir,toEventSelector:Zt,toEventSignature:En,toFunctionHash:ir,toFunctionSelector:yt,toFunctionSignature:En,toHex:qe,toPrefixedMessage:ff,toRlp:zu,transactionType:Xo,trim:je,universalSignatureValidatorAbi:sr,universalSignatureValidatorByteCode:Ys,validateTypedData:di,withCache:rf,withRetry:On,withTimeout:ui,zeroAddress:ve},Symbol.toStringTag,{value:"Module"}));async function o0(e,t={}){const{assertChainId:n=!0}=t;let r;if(t.connector){const{connector:f}=t;if(e.state.status==="reconnecting"&&!f.getAccounts&&!f.getChainId)throw new X1({connector:f});const[d,l]=await Promise.all([f.getAccounts().catch(h=>{if(t.account===null)return[];throw h}),f.getChainId()]);r={accounts:d,chainId:l,connector:f}}else r=e.state.connections.get(e.state.current);if(!r)throw new K1;const s=t.chainId??r.chainId,o=await r.connector.getChainId();if(n&&o!==s)throw new J1({connectionChainId:s,connectorChainId:o});const i=r.connector;if(i.getClient)return i.getClient({chainId:s});const a=K(t.account??r.accounts[0]);if(a&&(a.address=_e(a.address)),t.account&&!r.accounts.some(f=>f.toLowerCase()===a.address.toLowerCase()))throw new Y1({address:a.address,connector:i});const c=e.chains.find(f=>f.id===s),u=await r.connector.getProvider({chainId:s});return Jr({account:a,chain:c,name:"Connector Client",transport:f=>n0(u)({...f,retryCount:0})})}async function ub(e,t={}){let n;if(t.connector)n=t.connector;else{const{connections:s,current:o}=e.state;n=s.get(o)?.connector}const r=e.state.connections;n&&(await n.disconnect(),n.emitter.off("change",e._internal.events.change),n.emitter.off("disconnect",e._internal.events.disconnect),n.emitter.on("connect",e._internal.events.connect),r.delete(n.uid)),e.setState(s=>{if(r.size===0)return{...s,connections:new Map,current:null,status:"disconnected"};const o=r.values().next().value;return{...s,connections:new Map(r),current:o.connector.uid}});{const s=e.state.current;if(!s)return;const o=e.state.connections.get(s)?.connector;if(!o)return;await e.storage?.setItem("recentConnectorId",o.id)}}function pa(e){return e.state.chainId}function Pt(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;let n,r;if(Array.isArray(e)&&Array.isArray(t)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Pt(e[r],t[r]))return!1;return!0}if(typeof e.valueOf=="function"&&e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(typeof e.toString=="function"&&e.toString!==Object.prototype.toString)return e.toString()===t.toString();const s=Object.keys(e);if(n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.hasOwn(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(o&&!Pt(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}let As=[];function ba(e){const t=e.chains;return Pt(As,t)?As:(As=t,t)}function i0(e){const t=e.state.current,n=e.state.connections.get(t),r=n?.accounts,s=r?.[0],o=e.chains.find(a=>a.id===n?.chainId),i=e.state.status;switch(i){case"connected":return{address:s,addresses:r,chain:o,chainId:n?.chainId,connector:n?.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:i};case"reconnecting":return{address:s,addresses:r,chain:o,chainId:n?.chainId,connector:n?.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:i};case"connecting":return{address:s,addresses:r,chain:o,chainId:n?.chainId,connector:n?.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:i};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:i}}}let Jn=[];function lo(e){const t=[...e.state.connections.values()];return e.state.status==="reconnecting"||Pt(Jn,t)?Jn:(Jn=t,t)}let Xn=[];function ma(e){const t=e.connectors;return Xn.length===t.length&&Xn.every((n,r)=>n===t[r])?Xn:(Xn=t,t)}function fb(e,t){const{chainId:n,...r}=t,s=e.getClient({chainId:n});return Gt(s,me,"readContract")(r)}let $s=!1;async function db(e,t={}){if($s)return[];$s=!0,e.setState(u=>({...u,status:u.current?"reconnecting":"connecting"}));const n=[];if(t.connectors?.length)for(const u of t.connectors){let f;typeof u=="function"?f=e._internal.connectors.setup(u):f=u,n.push(f)}else n.push(...e.connectors);let r;try{r=await e.storage?.getItem("recentConnectorId")}catch{}const s={};for(const[,u]of e.state.connections)s[u.connector.id]=1;r&&(s[r]=0);const o=Object.keys(s).length>0?[...n].sort((u,f)=>(s[u.id]??10)-(s[f.id]??10)):n;let i=!1;const a=[],c=[];for(const u of o){const f=await u.getProvider().catch(()=>{});if(!f||c.some(h=>h===f)||!await u.isAuthorized())continue;const l=await u.connect({isReconnecting:!0}).catch(()=>null);l&&(u.emitter.off("connect",e._internal.events.connect),u.emitter.on("change",e._internal.events.change),u.emitter.on("disconnect",e._internal.events.disconnect),e.setState(h=>{const m=new Map(i?h.connections:new Map).set(u.uid,{accounts:l.accounts,chainId:l.chainId,connector:u});return{...h,current:i?h.current:u.uid,connections:m}}),a.push({accounts:l.accounts,chainId:l.chainId,connector:u}),c.push(f),i=!0)}return(e.state.status==="reconnecting"||e.state.status==="connecting")&&(i?e.setState(u=>({...u,status:"connected"})):e.setState(u=>({...u,connections:new Map,current:null,status:"disconnected"}))),$s=!1,a}async function lb(e,t){const{account:n,connector:r,...s}=t;let o;return typeof n=="object"&&n.type==="local"?o=e.getClient():o=await o0(e,{account:n,connector:r}),Gt(o,V1,"signTypedData")({...s,...n?{account:n}:{}})}class Mt extends Ke{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class hb extends Ke{constructor({connector:t}){super(`"${t.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function pb(e,t){const{addEthereumChainParameter:n,chainId:r}=t,s=e.state.connections.get(t.connector?.uid??e.state.current);if(s){const i=s.connector;if(!i.switchChain)throw new hb({connector:i});return await i.switchChain({addEthereumChainParameter:n,chainId:r})}const o=e.chains.find(i=>i.id===r);if(!o)throw new $r;return e.setState(i=>({...i,chainId:r})),o}async function bb(e,t){const{chainId:n,timeout:r=0,...s}=t,o=e.getClient({chainId:n}),a=await Gt(o,Yf,"waitForTransactionReceipt")({...s,timeout:r});if(a.status==="reverted"){const c=Gt(o,Wr,"getTransaction"),{from:u,...f}=await c({hash:a.transactionHash}),l=await Gt(o,Tt,"call")({...f,account:u,data:f.input,gasPrice:f.type!=="eip1559"?f.gasPrice:void 0,maxFeePerGas:f.type==="eip1559"?f.maxFeePerGas:void 0,maxPriorityFeePerGas:f.type==="eip1559"?f.maxPriorityFeePerGas:void 0}),h=l?.data?Ka(`0x${l.data.substring(138)}`):"unknown reason";throw new Error(h)}return{...a,chainId:o.chain.id}}function mb(e,t){const{onChange:n}=t;return e.subscribe(r=>r.chainId,n)}function yb(e,t){const{onChange:n}=t;return e.subscribe(()=>i0(e),n,{equalityFn(r,s){const{connector:o,...i}=r,{connector:a,...c}=s;return Pt(i,c)&&o?.id===a?.id&&o?.uid===a?.uid}})}function gb(e,t){const{onChange:n}=t;return e.subscribe(()=>lo(e),n,{equalityFn:Pt})}function wb(e,t){const{onChange:n}=t;return e._internal.connectors.subscribe((r,s)=>{n(Object.values(r),s)})}async function vb(e,t){const{account:n,chainId:r,connector:s,...o}=t;let i;typeof n=="object"&&n?.type==="local"?i=e.getClient({chainId:r}):i=await o0(e,{account:n??void 0,assertChainId:!1,chainId:r,connector:s});const a=!r||i.chain?.id===r?i.chain:{id:r};return await Gt(i,Ir,"writeContract")({...o,...n?{account:n}:{},assertChainId:!!r,chain:a})}function km(e){return e}Pi.type="injected";function Pi(e={}){const{shimDisconnect:t=!0,unstable_shimAsyncInject:n}=e;function r(){const c=e.target;if(typeof c=="function"){const u=c();if(u)return u}return typeof c=="object"?c:typeof c=="string"?{...xb[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(u){return u?.ethereum}}}let s,o,i,a;return c=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},type:Pi.type,async setup(){const u=await this.getProvider();u?.on&&e.target&&(i||(i=this.onConnect.bind(this),u.on("connect",i)),s||(s=this.onAccountsChanged.bind(this),u.on("accountsChanged",s)))},async connect({chainId:u,isReconnecting:f,withCapabilities:d}={}){const l=await this.getProvider();if(!l)throw new Mt;let h=[];if(f)h=await this.getAccounts().catch(()=>[]);else if(t)try{h=(await l.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0]?.caveats?.[0]?.value?.map(p=>_e(p)),h.length>0&&(h=await this.getAccounts())}catch(m){const p=m;if(p.code===Z.code)throw new Z(p);if(p.code===Le.code)throw p}try{!h?.length&&!f&&(h=(await l.request({method:"eth_requestAccounts"})).map(g=>_e(g))),i&&(l.removeListener("connect",i),i=void 0),s||(s=this.onAccountsChanged.bind(this),l.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),l.on("chainChanged",o)),a||(a=this.onDisconnect.bind(this),l.on("disconnect",a));let m=await this.getChainId();return u&&m!==u&&(m=(await this.switchChain({chainId:u}).catch(g=>{if(g.code===Z.code)throw g;return{id:m}}))?.id??m),t&&await c.storage?.removeItem(`${this.id}.disconnected`),e.target||await c.storage?.setItem("injected.connected",!0),{accounts:d?h.map(p=>({address:p,capabilities:{}})):h,chainId:m}}catch(m){const p=m;throw p.code===Z.code?new Z(p):p.code===Le.code?new Le(p):p}},async disconnect(){const u=await this.getProvider();if(!u)throw new Mt;o&&(u.removeListener("chainChanged",o),o=void 0),a&&(u.removeListener("disconnect",a),a=void 0),i||(i=this.onConnect.bind(this),u.on("connect",i));try{await ui(()=>u.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}t&&await c.storage?.setItem(`${this.id}.disconnected`,!0),e.target||await c.storage?.removeItem("injected.connected")},async getAccounts(){const u=await this.getProvider();if(!u)throw new Mt;return(await u.request({method:"eth_accounts"})).map(d=>_e(d))},async getChainId(){const u=await this.getProvider();if(!u)throw new Mt;const f=await u.request({method:"eth_chainId"});return Number(f)},async getProvider(){if(typeof window>"u")return;let u;const f=r();return typeof f.provider=="function"?u=f.provider(window):typeof f.provider=="string"?u=rr(window,f.provider):u=f.provider,u&&!u.removeListener&&("off"in u&&typeof u.off=="function"?u.removeListener=u.off:u.removeListener=()=>{}),u},async isAuthorized(){try{if(t&&await c.storage?.getItem(`${this.id}.disconnected`)||!e.target&&!await c.storage?.getItem("injected.connected"))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const l=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",l),!!await this.getProvider()),h=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(p=>window.addEventListener("ethereum#initialized",()=>p(l()),{once:!0}))]:[],new Promise(p=>setTimeout(()=>p(l()),h))]))return!0}throw new Mt}return!!(await On(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:u,chainId:f}){const d=await this.getProvider();if(!d)throw new Mt;const l=c.chains.find(m=>m.id===f);if(!l)throw new ot(new $r);const h=new Promise(m=>{const p=(g=>{"chainId"in g&&g.chainId===f&&(c.emitter.off("change",p),m())});c.emitter.on("change",p)});try{return await Promise.all([d.request({method:"wallet_switchEthereumChain",params:[{chainId:_(f)}]}).then(async()=>{await this.getChainId()===f&&c.emitter.emit("change",{chainId:f})}),h]),l}catch(m){const p=m;if(p.code===4902||p?.data?.originalError?.code===4902)try{const{default:g,...E}=l.blockExplorers??{};let P;u?.blockExplorerUrls?P=u.blockExplorerUrls:g&&(P=[g.url,...Object.values(E).map(b=>b.url)]);let x;u?.rpcUrls?.length?x=u.rpcUrls:x=[l.rpcUrls.default?.http[0]??""];const y={blockExplorerUrls:P,chainId:_(f),chainName:u?.chainName??l.name,iconUrls:u?.iconUrls,nativeCurrency:u?.nativeCurrency??l.nativeCurrency,rpcUrls:x};return await Promise.all([d.request({method:"wallet_addEthereumChain",params:[y]}).then(async()=>{if(await this.getChainId()===f)c.emitter.emit("change",{chainId:f});else throw new Z(new Error("User rejected switch after adding network."))}),h]),l}catch(g){throw new Z(g)}throw p.code===Z.code?new Z(p):new ot(p)}},async onAccountsChanged(u){if(u.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const f=(await this.getChainId()).toString();this.onConnect({chainId:f}),t&&await c.storage?.removeItem(`${this.id}.disconnected`)}else c.emitter.emit("change",{accounts:u.map(f=>_e(f))})},onChainChanged(u){const f=Number(u);c.emitter.emit("change",{chainId:f})},async onConnect(u){const f=await this.getAccounts();if(f.length===0)return;const d=Number(u.chainId);c.emitter.emit("connect",{accounts:f,chainId:d});const l=await this.getProvider();l&&(i&&(l.removeListener("connect",i),i=void 0),s||(s=this.onAccountsChanged.bind(this),l.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),l.on("chainChanged",o)),a||(a=this.onDisconnect.bind(this),l.on("disconnect",a)))},async onDisconnect(u){const f=await this.getProvider();u&&u.code===1013&&f&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),f&&(o&&(f.removeListener("chainChanged",o),o=void 0),a&&(f.removeListener("disconnect",a),a=void 0),i||(i=this.onConnect.bind(this),f.on("connect",i))))}})}const xb={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(e){return e?.coinbaseWalletExtension?e.coinbaseWalletExtension:rr(e,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(e){return rr(e,t=>{if(!t.isMetaMask||t.isBraveWallet&&!t._events&&!t._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(t[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(e){return e?.phantom?.ethereum?e.phantom?.ethereum:rr(e,"isPhantom")}}};function rr(e,t){function n(s){return typeof t=="function"?t(s):typeof t=="string"?s[t]:!0}const r=e.ethereum;if(r?.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}function Eb(e){if(typeof window>"u")return;const t=n=>e(n.detail);return window.addEventListener("eip6963:announceProvider",t),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",t)}function Pb(){const e=new Set;let t=[];const n=()=>Eb(s=>{t.some(({info:o})=>o.uuid===s.info.uuid)||(t=[...t,s],e.forEach(o=>o(t,{added:[s]})))});let r=n();return{_listeners(){return e},clear(){e.forEach(s=>s([],{removed:[...t]})),t=[]},destroy(){this.clear(),e.clear(),r?.()},findProvider({rdns:s}){return t.find(o=>o.info.rdns===s)},getProviders(){return t},reset(){this.clear(),r?.(),r=n()},subscribe(s,{emitImmediately:o}={}){return e.add(s),o&&s(t,{added:t}),()=>e.delete(s)}}}const Ib=e=>(t,n,r)=>{const s=r.subscribe;return r.subscribe=(i,a,c)=>{let u=i;if(a){const f=c?.equalityFn||Object.is;let d=i(r.getState());u=l=>{const h=i(l);if(!f(d,h)){const m=d;a(d=h,m)}},c?.fireImmediately&&a(d,d)}return s(u)},e(t,n,r)},Ab=Ib;function $b(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var o;const i=c=>c===null?null:JSON.parse(c,void 0),a=(o=n.getItem(s))!=null?o:null;return a instanceof Promise?a.then(i):i(a)},setItem:(s,o)=>n.setItem(s,JSON.stringify(o,void 0)),removeItem:s=>n.removeItem(s)}}const ho=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return ho(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return ho(r)(n)}}}},Sb=(e,t)=>(n,r,s)=>{let o={storage:$b(()=>localStorage),partialize:p=>p,version:0,merge:(p,g)=>({...g,...p}),...t},i=!1;const a=new Set,c=new Set;let u=o.storage;if(!u)return e((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...p)},r,s);const f=()=>{const p=o.partialize({...r()});return u.setItem(o.name,{state:p,version:o.version})},d=s.setState;s.setState=(p,g)=>{d(p,g),f()};const l=e((...p)=>{n(...p),f()},r,s);s.getInitialState=()=>l;let h;const m=()=>{var p,g;if(!u)return;i=!1,a.forEach(P=>{var x;return P((x=r())!=null?x:l)});const E=((g=o.onRehydrateStorage)==null?void 0:g.call(o,(p=r())!=null?p:l))||void 0;return ho(u.getItem.bind(u))(o.name).then(P=>{if(P)if(typeof P.version=="number"&&P.version!==o.version){if(o.migrate)return[!0,o.migrate(P.state,P.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,P.state];return[!1,void 0]}).then(P=>{var x;const[y,b]=P;if(h=o.merge(b,(x=r())!=null?x:l),n(h,!0),y)return f()}).then(()=>{E?.(h,void 0),h=r(),i=!0,c.forEach(P=>P(h))}).catch(P=>{E?.(void 0,P)})};return s.persist={setOptions:p=>{o={...o,...p},p.storage&&(u=p.storage)},clearStorage:()=>{u?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>m(),hasHydrated:()=>i,onHydrate:p=>(a.add(p),()=>{a.delete(p)}),onFinishHydration:p=>(c.add(p),()=>{c.delete(p)})},o.skipHydration||m(),h||l},Bb=Sb,ya=e=>{let t;const n=new Set,r=(u,f)=>{const d=typeof u=="function"?u(t):u;if(!Object.is(d,t)){const l=t;t=f??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(h=>h(t,l))}},s=()=>t,a={setState:r,getState:s,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u))},c=t=e(r,s,a);return a},Ss=e=>e?ya(e):ya;var Bs={exports:{}},ga;function Cb(){return ga||(ga=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function o(c,u,f,d,l){if(typeof f!="function")throw new TypeError("The listener must be a function");var h=new s(f,d||c,l),m=n?n+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],h]:c._events[m].push(h):(c._events[m]=h,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],f,d;if(this._eventsCount===0)return u;for(d in f=this._events)t.call(f,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},a.prototype.listeners=function(u){var f=n?n+u:u,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var l=0,h=d.length,m=new Array(h);l<h;l++)m[l]=d[l].fn;return m},a.prototype.listenerCount=function(u){var f=n?n+u:u,d=this._events[f];return d?d.fn?1:d.length:0},a.prototype.emit=function(u,f,d,l,h,m){var p=n?n+u:u;if(!this._events[p])return!1;var g=this._events[p],E=arguments.length,P,x;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),E){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,f),!0;case 3:return g.fn.call(g.context,f,d),!0;case 4:return g.fn.call(g.context,f,d,l),!0;case 5:return g.fn.call(g.context,f,d,l,h),!0;case 6:return g.fn.call(g.context,f,d,l,h,m),!0}for(x=1,P=new Array(E-1);x<E;x++)P[x-1]=arguments[x];g.fn.apply(g.context,P)}else{var y=g.length,b;for(x=0;x<y;x++)switch(g[x].once&&this.removeListener(u,g[x].fn,void 0,!0),E){case 1:g[x].fn.call(g[x].context);break;case 2:g[x].fn.call(g[x].context,f);break;case 3:g[x].fn.call(g[x].context,f,d);break;case 4:g[x].fn.call(g[x].context,f,d,l);break;default:if(!P)for(b=1,P=new Array(E-1);b<E;b++)P[b-1]=arguments[b];g[x].fn.apply(g[x].context,P)}}return!0},a.prototype.on=function(u,f,d){return o(this,u,f,d,!1)},a.prototype.once=function(u,f,d){return o(this,u,f,d,!0)},a.prototype.removeListener=function(u,f,d,l){var h=n?n+u:u;if(!this._events[h])return this;if(!f)return i(this,h),this;var m=this._events[h];if(m.fn)m.fn===f&&(!l||m.once)&&(!d||m.context===d)&&i(this,h);else{for(var p=0,g=[],E=m.length;p<E;p++)(m[p].fn!==f||l&&!m[p].once||d&&m[p].context!==d)&&g.push(m[p]);g.length?this._events[h]=g.length===1?g[0]:g:i(this,h)}return this},a.prototype.removeAllListeners=function(u){var f;return u?(f=n?n+u:u,this._events[f]&&i(this,f)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(Bs)),Bs.exports}var Tb=Cb();const Ob=l0(Tb);class kb{constructor(t){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new Ob})}on(t,n){this._emitter.on(t,n)}once(t,n){this._emitter.once(t,n)}off(t,n){this._emitter.off(t,n)}emit(t,...n){const r=n[0];this._emitter.emit(t,{uid:this.uid,...r})}listenerCount(t){return this._emitter.listenerCount(t)}}function Nb(e){return new kb(e)}function Rb(e,t){return JSON.parse(e,(n,r)=>{let s=r;return s?.__type==="bigint"&&(s=BigInt(s.value)),s?.__type==="Map"&&(s=new Map(s.value)),t?.(n,s)??s})}function wa(e,t){return e.slice(0,t).join(".")||"."}function va(e,t){const{length:n}=e;for(let r=0;r<n;++r)if(e[r]===t)return r+1;return 0}function Fb(e,t){const n=typeof e=="function",r=typeof t=="function",s=[],o=[];return function(a,c){if(typeof c=="object")if(s.length){const u=va(s,this);u===0?s[s.length]=this:(s.splice(u),o.splice(u)),o[o.length]=a;const f=va(s,c);if(f!==0)return r?t.call(this,a,c,wa(o,f)):`[ref=${wa(o,f)}]`}else s[0]=c,o[0]=a;return n?e.call(this,a,c):c}}function Mb(e,t,n,r){return JSON.stringify(e,Fb((s,o)=>{let i=o;return typeof i=="bigint"&&(i={__type:"bigint",value:o.toString()}),i instanceof Map&&(i={__type:"Map",value:Array.from(o.entries())}),t?.(s,i)??i},r),n??void 0)}function _b(e){const{deserialize:t=Rb,key:n="wagmi",serialize:r=Mb,storage:s=a0}=e;function o(i){return i instanceof Promise?i.then(a=>a).catch(()=>null):i}return{...s,key:n,async getItem(i,a){const c=s.getItem(`${n}.${i}`),u=await o(c);return u?t(u)??null:a??null},async setItem(i,a){const c=`${n}.${i}`;a===null?await o(s.removeItem(c)):await o(s.setItem(c,r(a)))},async removeItem(i){await o(s.removeItem(`${n}.${i}`))}}}const a0={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function zb(){const e=typeof window<"u"&&window.localStorage?window.localStorage:a0;return{getItem(t){return e.getItem(t)},removeItem(t){e.removeItem(t)},setItem(t,n){try{e.setItem(t,n)}catch{}}}}const po=256;let Qn=po,er;function jb(e=11){if(!er||Qn+e>po*2){er="",Qn=0;for(let t=0;t<po;t++)er+=(256+Math.random()*256|0).toString(16).substring(1)}return er.substring(Qn,Qn+++e)}function Nm(e){const{multiInjectedProviderDiscovery:t=!0,storage:n=_b({storage:zb()}),syncConnectedChain:r=!0,ssr:s=!1,...o}=e,i=typeof window<"u"&&t?Pb():void 0,a=Ss(()=>o.chains),c=Ss(()=>{const b=[],w=new Set;for(const v of o.connectors??[]){const I=u(v);if(b.push(I),!s&&I.rdns){const $=typeof I.rdns=="string"?[I.rdns]:I.rdns;for(const A of $)w.add(A)}}if(!s&&i){const v=i.getProviders();for(const I of v)w.has(I.info.rdns)||b.push(u(f(I)))}return b});function u(b){const w=Nb(jb()),v={...b({emitter:w,chains:a.getState(),storage:n,transports:o.transports}),emitter:w,uid:w.uid};return w.on("connect",x),v.setup?.(),v}function f(b){const{info:w}=b,v=b.provider;return Pi({target:{...w,id:w.rdns,provider:v}})}const d=new Map;function l(b={}){const w=b.chainId??g.getState().chainId,v=a.getState().find($=>$.id===w);if(b.chainId&&!v)throw new $r;{const $=d.get(g.getState().chainId);if($&&!v)return $;if(!v)throw new $r}{const $=d.get(w);if($)return $}let I;if(o.client)I=o.client({chain:v});else{const $=v.id,A=a.getState().map(k=>k.id),B={},N=Object.entries(o);for(const[k,z]of N)if(!(k==="chains"||k==="client"||k==="connectors"||k==="transports"))if(typeof z=="object")if($ in z)B[k]=z[$];else{if(A.some(C=>C in z))continue;B[k]=z}else B[k]=z;I=Jr({...B,chain:v,batch:B.batch??{multicall:!0},transport:k=>o.transports[$]({...k,connectors:c})})}return d.set(w,I),I}function h(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let m;const p="0.0.0-canary-";nr.startsWith(p)?m=Number.parseInt(nr.replace(p,""),10):m=Number.parseInt(nr.split(".")[0]??"0",10);const g=Ss(Ab(n?Bb(h,{migrate(b,w){if(w===m)return b;const v=h(),I=E(b,v.chainId);return{...v,chainId:I}},name:"store",partialize(b){return{connections:{__type:"Map",value:Array.from(b.connections.entries()).map(([w,v])=>{const{id:I,name:$,type:A,uid:B}=v.connector;return[w,{...v,connector:{id:I,name:$,type:A,uid:B}}]})},chainId:b.chainId,current:b.current}},merge(b,w){typeof b=="object"&&b&&"status"in b&&delete b.status;const v=E(b,w.chainId);return{...w,...b,chainId:v}},skipHydration:s,storage:n,version:m}):h));g.setState(h());function E(b,w){return b&&typeof b=="object"&&"chainId"in b&&typeof b.chainId=="number"&&a.getState().some(v=>v.id===b.chainId)?b.chainId:w}r&&g.subscribe(({connections:b,current:w})=>w?b.get(w)?.chainId:void 0,b=>{if(a.getState().some(v=>v.id===b))return g.setState(v=>({...v,chainId:b??v.chainId}))}),i?.subscribe(b=>{const w=new Set,v=new Set;for(const $ of c.getState())if(w.add($.id),$.rdns){const A=typeof $.rdns=="string"?[$.rdns]:$.rdns;for(const B of A)v.add(B)}const I=[];for(const $ of b){if(v.has($.info.rdns))continue;const A=u(f($));w.has(A.id)||I.push(A)}n&&!g.persist.hasHydrated()||c.setState($=>[...$,...I],!0)});function P(b){g.setState(w=>{const v=w.connections.get(b.uid);return v?{...w,connections:new Map(w.connections).set(b.uid,{accounts:b.accounts??v.accounts,chainId:b.chainId??v.chainId,connector:v.connector})}:w})}function x(b){g.getState().status==="connecting"||g.getState().status==="reconnecting"||g.setState(w=>{const v=c.getState().find(I=>I.uid===b.uid);return v?(v.emitter.listenerCount("connect")&&v.emitter.off("connect",P),v.emitter.listenerCount("change")||v.emitter.on("change",P),v.emitter.listenerCount("disconnect")||v.emitter.on("disconnect",y),{...w,connections:new Map(w.connections).set(b.uid,{accounts:b.accounts,chainId:b.chainId,connector:v}),current:b.uid,status:"connected"}):w})}function y(b){g.setState(w=>{const v=w.connections.get(b.uid);if(v){const $=v.connector;$.emitter.listenerCount("change")&&v.connector.emitter.off("change",P),$.emitter.listenerCount("disconnect")&&v.connector.emitter.off("disconnect",y),$.emitter.listenerCount("connect")||v.connector.emitter.on("connect",x)}if(w.connections.delete(b.uid),w.connections.size===0)return{...w,connections:new Map,current:null,status:"disconnected"};const I=w.connections.values().next().value;return{...w,connections:new Map(w.connections),current:I.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return c.getState()},storage:n,getClient:l,get state(){return g.getState()},setState(b){let w;typeof b=="function"?w=b(g.getState()):w=b;const v=h();typeof w!="object"&&(w=v),Object.keys(v).some($=>!($ in w))&&(w=v),g.setState(w,!0)},subscribe(b,w,v){return g.subscribe(b,w,v?{...v,fireImmediately:v.emitImmediately}:void 0)},_internal:{mipd:i,async revalidate(){const b=g.getState(),w=b.connections;let v=b.current;for(const[,I]of w){const $=I.connector;$.isAuthorized&&await $.isAuthorized()||(w.delete($.uid),v===$.uid&&(v=null))}g.setState(I=>({...I,connections:w,current:v}))},store:g,ssr:!!s,syncConnectedChain:r,transports:o.transports,chains:{setState(b){const w=typeof b=="function"?b(a.getState()):b;if(w.length!==0)return a.setState(w,!0)},subscribe(b){return a.subscribe(b)}},connectors:{providerDetailToConnector:f,setup:u,setState(b){return c.setState(typeof b=="function"?b(c.getState()):b,!0)},subscribe(b){return c.subscribe(b)}},events:{change:P,connect:x,disconnect:y}}}}function Lb(e,t){const{initialState:n,reconnectOnMount:r}=t;return n&&!e._internal.store.persist.hasHydrated()&&e.setState({...n,chainId:e.chains.some(s=>s.id===n.chainId)?n.chainId:e.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){e._internal.ssr&&(await e._internal.store.persist.rehydrate(),e._internal.mipd&&e._internal.connectors.setState(s=>{const o=new Set;for(const c of s??[])if(c.rdns){const u=Array.isArray(c.rdns)?c.rdns:[c.rdns];for(const f of u)o.add(f)}const i=[],a=e._internal.mipd?.getProviders()??[];for(const c of a){if(o.has(c.info.rdns))continue;const u=e._internal.connectors.providerDetailToConnector(c),f=e._internal.connectors.setup(u);i.push(f)}return[...s,...i]})),r?db(e):e.storage&&e.setState(s=>({...s,connections:new Map}))}}}function Rm(e){const{chain:t}=e,n=t.rpcUrls.default.http[0];if(!e.transports)return[n];const r=e.transports?.[t.id]?.({chain:t});return(r?.value?.transports||[r]).map(({value:o})=>o?.url||n)}function Ub(e){const{children:t,config:n,initialState:r,reconnectOnMount:s=!0}=e,{onMount:o}=Lb(n,{initialState:r,reconnectOnMount:s});n._internal.ssr||o();const i=ue.useRef(!0);return ue.useEffect(()=>{if(i.current&&n._internal.ssr)return o(),()=>{i.current=!1}},[]),t}const c0=ue.createContext(void 0);function Fm(e){const{children:t,config:n}=e,r={value:n};return ue.createElement(Ub,e,ue.createElement(c0.Provider,r,t))}const Db="3.5.0",qb=()=>`wagmi@${Db}`;class Gb extends Ke{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return qb()}}class Hb extends Gb{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function Vb(e,t){return h0(e,t)}function Wb(e){return JSON.stringify(e,(t,n)=>Zb(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):typeof n=="bigint"?n.toString():n)}function Zb(e){if(!xa(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!xa(n)||!n.hasOwnProperty("isPrototypeOf"))}function xa(e){return Object.prototype.toString.call(e)==="[object Object]"}function u0(e){const{_defaulted:t,behavior:n,gcTime:r,initialData:s,initialDataUpdatedAt:o,maxPages:i,meta:a,networkMode:c,queryFn:u,queryHash:f,queryKey:d,queryKeyHashFn:l,retry:h,retryDelay:m,structuralSharing:p,getPreviousPageParam:g,getNextPageParam:E,initialPageParam:P,_optimisticResults:x,enabled:y,notifyOnChangeProps:b,placeholderData:w,refetchInterval:v,refetchIntervalInBackground:I,refetchOnMount:$,refetchOnReconnect:A,refetchOnWindowFocus:B,retryOnMount:N,select:k,staleTime:z,suspense:T,throwOnError:C,abi:F,config:O,connector:R,query:j,watch:U,...D}=e;return R?{connectorUid:R?.uid,...D}:D}function Kb(e,t={}){return{...t.mutation,mutationFn:async n=>Q1(e,n),mutationKey:["connect"]}}function Yb(e,t={}){return{...t.mutation,mutationFn:async n=>ub(e,n),mutationKey:["disconnect"]}}function Jb(e,t={}){return{...t.query,enabled:!!((t.address||"code"in t&&t.code)&&t.abi&&t.functionName&&(t.query?.enabled??!0)),queryFn:async n=>{if(!t.abi)throw new Error("abi is required");const[,{scopeKey:r,...s}]=n.queryKey;if(!s.functionName)throw new Error("functionName is required");return await fb(e,{...s,abi:t.abi,address:s.address,code:"code"in s&&s.code?s.code:void 0,functionName:s.functionName})},queryKey:Xb(t),structuralSharing:Vb}}function Xb(e={}){return["readContract",u0(e)]}function Qb(e,t={}){return{...t.mutation,mutationFn(n){return lb(e,n)},mutationKey:["signTypedData"]}}function em(e,t={}){return{...t.mutation,mutationFn(n){return pb(e,n)},mutationKey:["switchChain"]}}function tm(e,t={}){return{...t.query,enabled:!!(t.hash&&(t.query?.enabled??!0)),queryFn:async n=>{const[,{scopeKey:r,...s}]=n.queryKey;if(!s.hash)throw new Error("hash is required");return bb(e,{...s,onReplaced:t.onReplaced,hash:s.hash})},queryKey:nm(t)}}function nm(e={}){const{onReplaced:t,...n}=e;return["waitForTransactionReceipt",u0(n)]}function rm(e,t={}){return{...t.mutation,mutationFn(n){return vb(e,n)},mutationKey:["writeContract"]}}function f0(e){const t=p0({...e,queryKeyHashFn:Wb});return t.queryKey=e.queryKey,t}function ge(e={}){const t=e.config??ue.useContext(c0);if(!t)throw new Hb;return t}function d0(e={}){const t=ge(e);return ue.useSyncExternalStore(n=>mb(t,{onChange:n}),()=>pa(t),()=>pa(t))}function sm(e,t){const{onChange:n}=t;return e._internal.chains.subscribe((r,s)=>{n(r,s)})}var Cs={exports:{}},Ts={},Os={exports:{}},ks={};var Ea;function om(){if(Ea)return ks;Ea=1;var e=$a();function t(d,l){return d===l&&(d!==0||1/d===1/l)||d!==d&&l!==l}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,o=e.useLayoutEffect,i=e.useDebugValue;function a(d,l){var h=l(),m=r({inst:{value:h,getSnapshot:l}}),p=m[0].inst,g=m[1];return o(function(){p.value=h,p.getSnapshot=l,c(p)&&g({inst:p})},[d,h,l]),s(function(){return c(p)&&g({inst:p}),d(function(){c(p)&&g({inst:p})})},[d]),i(h),h}function c(d){var l=d.getSnapshot;d=d.value;try{var h=l();return!n(d,h)}catch{return!0}}function u(d,l){return l()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:a;return ks.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,ks}var Pa;function im(){return Pa||(Pa=1,Os.exports=om()),Os.exports}var Ia;function am(){if(Ia)return Ts;Ia=1;var e=$a(),t=im();function n(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var r=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,o=e.useRef,i=e.useEffect,a=e.useMemo,c=e.useDebugValue;return Ts.useSyncExternalStoreWithSelector=function(u,f,d,l,h){var m=o(null);if(m.current===null){var p={hasValue:!1,value:null};m.current=p}else p=m.current;m=a(function(){function E(w){if(!P){if(P=!0,x=w,w=l(w),h!==void 0&&p.hasValue){var v=p.value;if(h(v,w))return y=v}return y=w}if(v=y,r(x,w))return v;var I=l(w);return h!==void 0&&h(v,I)?(x=w,v):(x=w,y=I)}var P=!1,x,y,b=d===void 0?null:d;return[function(){return E(f())},b===null?void 0:function(){return E(b())}]},[f,d,l,h]);var g=s(u,m[0],m[1]);return i(function(){p.hasValue=!0,p.value=g},[g]),c(g),g},Ts}var Aa;function cm(){return Aa||(Aa=1,Cs.exports=am()),Cs.exports}var um=cm();const Ns=e=>typeof e=="object"&&!Array.isArray(e);function fm(e,t,n=t,r=Pt){const s=ue.useRef([]),o=um.useSyncExternalStoreWithSelector(e,t,n,i=>i,(i,a)=>{if(Ns(i)&&Ns(a)&&s.current.length){for(const c of s.current)if(!r(i[c],a[c]))return!1;return!0}return r(i,a)});return ue.useMemo(()=>{if(Ns(o)){const i={...o};let a={};for(const[c,u]of Object.entries(i))a={...a,[c]:{configurable:!1,enumerable:!0,get:()=>(s.current.includes(c)||s.current.push(c),u)}};return Object.defineProperties(i,a),i}return o},[o])}function Mm(e={}){const t=ge(e);return fm(n=>yb(t,{onChange:n}),()=>i0(t))}function dm(e={}){const t=ge(e);return ue.useSyncExternalStore(n=>sm(t,{onChange:n}),()=>ba(t),()=>ba(t))}function lm(e={}){const t=ge(e);return ue.useSyncExternalStore(n=>wb(t,{onChange:n}),()=>ma(t),()=>ma(t))}function _m(e={}){const t=ge(e),n=Kb(t,e),r=Nn(n);return ue.useEffect(()=>t.subscribe(({status:s})=>s,(s,o)=>{o==="connected"&&s==="disconnected"&&r.reset()}),[t,r.reset]),{...r,connect:r.mutate,connectAsync:r.mutateAsync,connectors:lm({config:t})}}function hm(e={}){const t=ge(e);return ue.useSyncExternalStore(n=>gb(t,{onChange:n}),()=>lo(t),()=>lo(t))}function zm(e={}){const t=ge(e),n=Yb(t,e),r=Nn(n);return{...r,connectors:hm({config:t}).map(s=>s.connector),disconnect:r.mutate,disconnectAsync:r.mutateAsync}}function jm(e={}){const t=ge(e),n=d0({config:t}),r=Jb(t,{...e,chainId:e.chainId??n});return f0(r)}function Lm(e={}){const t=ge(e),n=Qb(t,e),r=Nn(n);return{...r,signTypedData:r.mutate,signTypedDataAsync:r.mutateAsync}}function Um(e={}){const t=ge(e),n=em(t,e),r=Nn(n);return{...r,chains:dm({config:t}),switchChain:r.mutate,switchChainAsync:r.mutateAsync}}function Dm(e={}){const t=ge(e),n=d0({config:t}),r=tm(t,{...e,chainId:e.chainId??n});return f0(r)}function qm(e={}){const t=ge(e),n=rm(t,e),r=Nn(n);return{...r,writeContract:r.mutate,writeContractAsync:r.mutateAsync}}export{m0 as A,ib as B,$r as C,qe as D,Om as E,Mt as P,Le as R,ot as S,Z as U,Fm as W,su as _,Mm as a,zm as b,Um as c,qh as d,km as e,ui as f,_e as g,Te as h,Rm as i,Nm as j,cb as k,Pi as l,jm as m,_ as n,qm as o,Dm as p,Lm as q,sc as r,In as s,M0 as t,_m as u,xf as v,On as w,F0 as x,Hu as y,No as z};
